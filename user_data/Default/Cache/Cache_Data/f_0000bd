
/* Webpack Runtime */(()=>{"use strict";var e,r={},o={};function t(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return r[e].call(l.exports,l,l.exports,t),l.exports}t.m=r,e=[],t.O=(r,o,n,l)=>{if(!o){var a=1/0;for(u=0;u<e.length;u++){for(var[o,n,l]=e[u],i=!0,f=0;f<o.length;f++)(!1&l||a>=l)&&Object.keys(t.O).every((e=>t.O[e](o[f])))?o.splice(f--,1):(i=!1,l<a&&(a=l));if(i){e.splice(u--,1);var p=n();void 0!==p&&(r=p)}}return r}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[o,n,l]},t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={666:0};t.O.j=r=>0===e[r];var r=(r,o)=>{var n,l,[a,i,f]=o,p=0;if(a.some((r=>0!==e[r]))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(f)var u=f(t)}for(r&&r(o);p<a.length;p++)l=a[p],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(u)},o=self.webpackChunk_SDA=self.webpackChunk_SDA||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))})()})();
/* Core */"use strict";(self.webpackChunk_SDA=self.webpackChunk_SDA||[]).push([[321],{191:(e,t,n)=>{n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>T,__asyncGenerator:()=>C,__asyncValues:()=>S,__await:()=>P,__awaiter:()=>f,__classPrivateFieldGet:()=>x,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>M,__createBinding:()=>h,__decorate:()=>s,__esDecorate:()=>c,__exportStar:()=>v,__extends:()=>i,__generator:()=>m,__importDefault:()=>N,__importStar:()=>E,__makeTemplateObject:()=>A,__metadata:()=>g,__param:()=>d,__propKey:()=>l,__read:()=>b,__rest:()=>a,__runInitializers:()=>u,__setFunctionName:()=>p,__spread:()=>_,__spreadArray:()=>w,__spreadArrays:()=>I,__values:()=>y});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function d(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,i,o){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,d=r.kind,c="getter"===d?"get":"setter"===d?"set":"value",u=!t&&e?r.static?e:e.prototype:null,l=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),p=!1,g=n.length-1;g>=0;g--){var f={};for(var m in r)f[m]="access"===m?{}:r[m];for(var m in r.access)f.access[m]=r.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var h=(0,n[g])("accessor"===d?{get:l.get,set:l.set}:l[c],f);if("accessor"===d){if(void 0===h)continue;if(null===h||"object"!=typeof h)throw new TypeError("Object expected");(s=a(h.get))&&(l.get=s),(s=a(h.set))&&(l.set=s),(s=a(h.init))&&i.push(s)}else(s=a(h))&&("field"===d?i.push(s):l[c]=s)}u&&Object.defineProperty(u,r.name,l),p=!0}function u(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function l(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function g(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}d((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(d){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,d])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function v(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function I(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function w(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function P(e){return this instanceof P?(this.v=e,this):new P(e)}function C(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof P?Promise.resolve(n.value.v).then(d,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function d(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function T(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:P(e[r](t)),done:!1}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return k(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function M(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},250:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CommandProcessor=void 0;var r=n(364),i=n(68),o=n(373),a=n(831),s=n(309),d=n(34),c=n(39),u=n(40),l=n(142),p=n(481),g=n(149),f=n(587),m=n(574),h=n(51),v=n(720),y=n(518),b=n(310),_=n(52),I=n(526),w=n(69),P=n(222),C=n(588),T=n(458),S=n(475),A=n(603),k=function(){function e(e){this.loop=e,this._mapCmdToPipeline={},this._state={clientId:"",retailerId:"",providerId:"",userId:"",pageViewId:"",props:{},propNames:{},eVars:{},eVarNames:{},adId:"",campaign:"",campaignType:"",campaignName:"",channel:"",digAdAdId:"",digAdCid:"",digAdKeyword:"",digAdLocation:"",digAdPlacement:"",digAdPosition:"",digAdProvider:"",dataLayer:"",keyword:"",loadTime:r.getPerfTime(),eVarsAll:{},propsAll:{},perfCustom:{},pageLoadStatus:"",semMatchType:"",targetId:"",scrolledBelowFold:!1,pageViewCount:0,pluginVersions:{}},this._coreCommands=[new s.PluginsCommand,new d.InitCommand,new c.CreateCommand,new u.SendCommand,new l.PublishCommand,new p.ConfigCommand,new g.DebugCommand,new f.EVarsCommands,new m.PropsCommands,new h.TrackLinksCommand,new y.TrackIFramesCommand,new v.TrackFormFieldsCommand,new b.CrossDomainCommands,new _.SessionStartedCommand,new I.DataLayerCommand,new w.HeatMapInfoCommand,new P.IdCommands,new C.MessagingCommands,new T.TransformCommand,new S.GetActionValuesCommand,new A.GetSessionIdCommand],this.setPlugins([],!1)}return e.prototype.getLoop=function(){return this.loop},e.prototype.getState=function(){return this._state},e.prototype.process=function(e,t){if(i.default.debug)if("trackLinks"===e||"trackFormFields"==e);else{var n=r.extend({},t||{}),a={},s="Exec";"string"==typeof e&&(s+=":".concat(e)),a[s]={cmd:e,args:n},r.debugObj(a)}if("function"!=typeof e){var d=this._mapCmdToPipeline[e.toLowerCase()];if(!d||0===d.length)throw new Error(o.errorPrefix+"Unknown command: "+e);for(var c=0;c<d.length;c++)try{var u=d[c].action.apply(d[c].plugin,t);if("object"==typeof u&&(void 0!==u.args&&(t=u.args),u=u.result),u)break}catch(t){r.error("Pipeline::".concat(e.toLowerCase(),", seq:").concat(c,"/").concat(d.length),t)}}else e()},e.prototype.setPlugins=function(e,t){var n=this;e&&!r.isArray(e)&&(e=[e]),this._loadPlugins(e,(function(e){var i;i=t&&n._plugins&&0!==n._plugins.length?n._plugins.concat(e):n._coreCommands.concat(e),(i=r.uniqueArray(i)).sort((function(e,t){return((t||{}).priority||0)-((e||{}).priority||0)})),n._plugins=i;var o={commandProcessor:n};n._mapCmdToPipeline={};for(var a=0;a<n._plugins.length;a++)if(n._plugins[a]&&"object"==typeof n._plugins[a]){try{n._plugins[a].initialized||("function"==typeof n._plugins[a].init&&n._plugins[a].init(o),n._plugins[a].initialized=!0)}catch(e){r.error("Plugin failed to initialize",e)}for(var s in n._plugins[a])if(s&&"_"===s.substring(0,1)&&"function"==typeof n._plugins[a][s]){var d=s.substring(1).toLowerCase();n._mapCmdToPipeline[d]=n._mapCmdToPipeline[d]||[],n._mapCmdToPipeline[d].push({plugin:n._plugins[a],action:n._plugins[a][s]})}}}))},e.prototype._loadPlugins=function(e,t){var n=this,i=(e=r.uniqueArray(e)).length;if(0!==i)for(var s=function(){0===--i&&t(e)},d=0;d<e.length;d++){var c=e[d];if("string"==typeof c){var u,l,p=c.indexOf("|");-1!==p?(u=c.substr(0,p),-1===(l=c.substr(p+1)).indexOf("//")&&(l="//"+l)):(u=c,l="//"+o.scriptUrl+"/sda_"+c+".js?clientId="+o.clientId+"&instanceName=sda");var g=a.getPlugin(u);g?(e[d]=g,s()):(n.loop.suspend(),function(t,i,d){a.waitForLoad(i,(function(o){o?e[t]=o:r.error("Plugin load failed: "+i),n.loop.resume(),s()}),o.pluginLoadTimeoutMs),r.loadScript(d)}(d,u,l))}else s()}else t(e)},e}();t.CommandProcessor=k},481:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigCommand=void 0;var r=n(191),i=n(275),o=n(68),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._config=function(e,t){return e in o.default&&(o.default[e]=t),!0},t.prototype._getConfig=function(e,t){return t(o.default[e]),!0},t}(i.Plugin);t.ConfigCommand=a},39:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateCommand=void 0;var r=n(191),i=n(275),o=n(364),a=n(488),s=n(373),d=n(68),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._create=function(){var e=o.getArgs(arguments,"clientId","retailerId","providerId","attachToSession"),t=o.trim(e.clientId||"").toUpperCase(),n=o.trim(e.retailerId||"").toUpperCase(),r=o.trim(e.providerId||"").toUpperCase(),i=a.readSessionCookie();i.id&&((o.stringToBool(void 0!==e.attachToSession?e.attachToSession:d.default.attachToSessionEnabled)||i.isXdImport)&&(t=i.clientId,r=i.providerId,n=i.retailerId));if(!(t&&n&&r||this.state.crossDomainInfo))throw new Error(s.errorPrefix+"Must specify clientId, retailerId and providerId when calling create.");return this.state.createTime=o.getPerfTime(),this.state.clientId=t,this.state.retailerId=n,this.state.providerId=r,this.state.created||(this.state.created=!0,this.commandProcessor.getLoop().insertBefore("send",["initMessaging"]),this.state.crossDomainInfo?this.commandProcessor.getLoop().insertBefore("send",["xdImport",this.state.crossDomainInfo]):o.isIFrame()?this.commandProcessor.getLoop().insertBefore("send",["getXDInfoFromParent"]):this.commandProcessor.getLoop().insertBefore("send",["loadIds"]),o.isIFrame()&&this.commandProcessor.getLoop().insertBefore("send",["getTopUrlFromParent"]),this.commandProcessor.getLoop().push(["trackLinks"]),this.commandProcessor.getLoop().push(["trackFormFields"]),this.commandProcessor.getLoop().push(["processUnhandledMessages"])),!0},t}(i.Plugin);t.CreateCommand=c},310:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CrossDomainCommands=void 0;var r=n(191),i=n(275),o=n(364),a=n(10),s=n(488),d=n(373),c=n(68),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t._xdExportWaitForSessionRetry=100,t}return r.__extends(t,e),t.prototype._link=function(){var e=o.getArgs(arguments,"targetUrl","useHash");return this.commandProcessor.getLoop().insert(["getLinkerUrl",{targetUrl:e.targetUrl,useHash:e.useHash,callback:function(e){document.location.href=e}}]),!0},t.prototype._linkByPost=function(){var e=o.getArgs(arguments,"formObject","useHash"),t=e.formObject;if(t&&t.action){this.commandProcessor.getLoop().insert(["getLinkerUrl",{targetUrl:e.formObject.action,useHash:e.useHash,callback:function(t){e.formObject.action=t}}])}return!0},t.prototype._getLinkerUrl=function(){var e=o.getArgs(arguments,"targetUrl","useHash","callback");if(!e.callback)return!0;return this.commandProcessor.getLoop().insert(["xdExport",function(t){var n=a.incomingCrossDomainInfo+"="+t,r=e.useHash?null:n,i=e.useHash?n:null;e.callback(o.addParamsToUrl(e.targetUrl,r,i))}]),!0},t.prototype._xdExport=function(){var e=o.getArgs(arguments,"callback");return e.callback&&this.doXdExport(e.callback),!0},t.prototype.doXdExport=function(e){var t=this,n=s.readSessionCookie();if(n.id&&n.expire>o.getTimeInTicks()){var r=[this.state.clientId,this.state.providerId,this.state.retailerId,this.state.userId,n.id,n.expire,this.state.pageViewId,d.clientId,d.scenario,n.debug].join("|");r=encodeURIComponent(r),e(r)}else setTimeout((function(){return t.doXdExport(e)}),this._xdExportWaitForSessionRetry)},t.prototype._xdImport=function(){var e=o.getArgs(arguments,"data");if(e.data){var t=e.data.split("|");if(t&&10===t.length){var n=t[7],r=t[8],i="true"===t[9];if(n===d.clientId){var a=t[0];this.state.clientId=a;var u=t[3];this.state.userId=u;var l=s.readUserCookie();if(l.id=u,l.timestamp=o.getTimeInTicks(),s.writeUserCookie(l),r===d.scenario){var p=t[1],g=t[2],f=t[4],m=parseInt(t[5],10),h=t[6];this.state.retailerId=g,this.state.providerId=p;var v=s.readSessionCookie();v.clientId=a,v.providerId=p,v.retailerId=g,v.debug=v.debug||i,v.isXdImport=!0,c.default.debug=c.default.debug||i,m>o.getTimeInTicks()&&(v.id=f,v.expire=o.getTimeInTicks()+d.sessionTimeoutMs,this.state.pageViewId=h),s.writeSessionCookie(v),this.state.isXdImport=!0}}}}return this.commandProcessor.getLoop().insert(["clearIds"]),!0},t}(i.Plugin);t.CrossDomainCommands=u},526:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataLayerCommand=void 0;var r=n(191),i=n(275),o=n(364),a=n(68),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._dataLayer=function(e,t){var n;if(void 0===t&&(t=!1),e=e||{},!0===t)n=e;else{var r=window[a.default.dataLayer]||{};n=o.extend({},r,e)}return window[a.default.dataLayer]=n,!0},t}(i.Plugin);t.DataLayerCommand=s},149:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebugCommand=void 0;var r=n(191),i=n(275),o=n(364),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._debug=function(e){return o.debug(e),!0},t}(i.Plugin);t.DebugCommand=a},587:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EVarsCommands=void 0;var r=n(191),i=n(275),o=n(753),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._setEVar=function(e,t){return o.setEVar(this.state,e,t),!0},t.prototype._getEVar=function(e,t){return t(o.getEVar(this.state,e)),!0},t}(i.Plugin);t.EVarsCommands=a},475:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetActionValuesCommand=void 0;var r=n(191),i=n(275),o=n(364),a=n(10),s=n(488),d=function(e){function t(){var t=e.call(this)||this;for(var n in t.priority=1,t._includedFieldNames=["adId","build","campaign","campaignType","campaignName","channel","clientId","digAdAdId","digAdCid","digAdKeyword","digAdLocation","digAdPlacement","digAdPosition","digAdProvider","eVars","externalId","globalId","keyword","pageViewId","props","providerId","referrer","retailerId","scenario","sdId","semMatchType","targetId","timestamp","title","url","topUrl","userId","version"],t._includedFieldsMap={},a){var r=a[n];-1!==t._includedFieldNames.indexOf(n)&&(t._includedFieldsMap[r]=n)}return t}return r.__extends(t,e),t.prototype._getActionValues=function(){var e=this,t=o.getArgs(arguments,"callback").callback;if(t){var n={};this.commandProcessor.getLoop().sd(["send","clientevent","getActionValues",{hitCallback:function(){if(e.lastParams){for(var r in e.lastParams)e.lastParams[r]&&e._includedFieldsMap[r]&&(n[e._includedFieldsMap[r]]=e.lastParams[r]);var i=!1,a=s.readSessionCookie();(!a.id||a.expire<o.getTimeInTicks())&&(i=!0),n.isNewSession=i,n.sessionId=i?a.nextId:a.id}return t(n)}}])}},t.prototype._publish=function(){var e=o.getArgs(arguments,"params","hitCallback").params;return"clientevent"===e[a.hitType]&&"getActionValues"===e[a.eventCategory]&&(this.lastParams=e),!1},t}(i.Plugin);t.GetActionValuesCommand=d},603:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetSessionIdCommand=void 0;var r=n(191),i=n(275),o=n(364),a=n(488),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._getSessionId=function(){var e=o.getArgs(arguments,"callback").callback;if(e){var t="";this.commandProcessor.getLoop().sd(["send","clientevent","getSessionId",{hitCallback:function(){var n=!1,r=a.readSessionCookie();return(!r.id||r.expire<o.getTimeInTicks())&&(n=!0),t=n?r.nextId:r.id,e(t)}}])}},t}(i.Plugin);t.GetSessionIdCommand=s},69:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeatMapInfoCommand=void 0;var r=n(191),i=n(275),o=n(364),a=n(373),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._getHeatMapInfo=function(e){return e&&e({clientId:this.state.clientId,providerId:this.state.providerId,retailerId:this.state.retailerId,props:o.extend({},this.state.propsAll),tagServerUrl:a.tagServerUrl+"/"+a.clientId,pageViewCount:this.state.pageViewCount}),!0},t}(i.Plugin);t.HeatMapInfoCommand=s},222:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IdCommands=void 0;var r=n(191),i=n(275),o=n(364),a=n(488),s=n(373),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t.hostName="tagging.shiftdigitalapps.io/id",t.baseDate=14832288e5,t.z=!1,t}return r.__extends(t,e),t.prototype.isDNT=function(){var e=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;return"1"===e||"yes"===e},t.prototype.isPerfTest=function(){return-1!==navigator.userAgent.indexOf("Chrome-Lighthouse")},t.prototype._loadIds=function(){var e=this;if(this.isPerfTest())return!0;for(var t=this.getCookies(),n=t.userCookie,r=t.sessionCookie,i=this.getTypeConfig(),d=i.length,c=this.getTimestamp(),u=!1,l=0;l<d;l++){var p=r.ids[l];if(!p){var g=n.ids[l];if(g){var f=i[l].maxAge,m=parseInt(n.idts[l],10)||0;(f>=0?c-m:-1)<f&&(u=!0,r.ids[l]=g,p=g)}}this.state["id"+l]=p}if(u&&a.writeSessionCookie(r),r.idLoadStart+s.sessionIdLoadTimeoutMs<o.getTimeInTicks()){var h=[],v=0;if(!this.state.id0&&i[0].enabled){v++;var y=o.createCallback((function(t){e.commandProcessor.getLoop().push(["setId","0",t])})),b=function(){return y.func("X")},_=parseInt("0",10);window.setTimeout((function(){return o.loadScript("https://"+e.hostName+"/3pc?cb="+y.name,b)}),_)}this.state.id2||!i[2].enabled||o.isSafari()||(v++,h.push("id|"+this.hostName+"/sda_id.js?ns=SDA")),!this.state.id1&&i[1].enabled&&(v++,h.push("fp")),v>0&&(r.idLoadStart=o.getTimeInTicks(),a.writeSessionCookie(r),this.state.idsToLoad=v,0!==h.length&&this.commandProcessor.getLoop().push(["plugins",h,!0]))}return!0},t.prototype._setId=function(){var e=o.getArgs(arguments,"idx","value"),t=e.idx,n=e.value,r=this.getCookies(),i=r.userCookie,s=r.sessionCookie;this.state["id"+t]=n,i.ids[t]=n,i.idts[t]=this.getTimestamp()+"",a.writeUserCookie(i),s.ids[t]=n,a.writeSessionCookie(s);var d=this.state.idsToLoad||0;return--d<0&&(d=0),this.state.idsToLoad=d,0===d&&s.id&&s.expire>o.getTimeInTicks()&&this.commandProcessor.getLoop().push(["send","ping"]),!0},t.prototype._clearIds=function(){for(var e=this.getTypeConfig().length,t=this.getCookies(),n=t.userCookie,r=t.sessionCookie,i=0;i<e;i++)this.state["id"+i]="X",n.ids[i]="X",n.idts[i]=this.getTimestamp()+"",r.ids[i]="X";a.writeUserCookie(n),a.writeSessionCookie(r)},t.prototype.getTimestamp=function(){var e=o.getTimeInTicks();return Math.floor((e-this.baseDate)/36e5)},t.prototype.getTypeConfig=function(){for(var e=["0","1","2","3"],t=["30","1440","30","43200"],n=["true","true","true","false"],r=["0","1000","0","1500"],i=[],o=0;o<e.length;o++){var a=parseInt(e[o],10),s=parseInt(t[o],10),d="true"===n[o],c=parseInt(r[o],10);i.push({idx:a,maxAge:s,enabled:d,delay:c})}return i.sort((function(e,t){return e.idx-t.idx})),i},t.prototype.getCookies=function(){for(var e=a.readUserCookie(),t=a.readSessionCookie(),n=parseInt("4",10);e.ids.length<n;)e.ids.push("");for(;e.idts.length<n;)e.idts.push("");for(;t.ids.length<n;)t.ids.push("");return{userCookie:e,sessionCookie:t}},t}(i.Plugin);t.IdCommands=d},34:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InitCommand=void 0;var r=n(191),i=n(275),o=n(364),a=n(488),s=n(68),d=n(10),c=n(469),u=n(673),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._init=function(){if(!this.state.init){this.state.init=!0,this.resendPublishPacketList(),u.clear();var e=this.getQueryStringVariables();this.state.initTime=o.getPerfTime(),this.state.sdId||(this.state.sdId=o.generateRandomId());var t=a.readUserCookie();t.id||(t.id=o.generateGuid(),t.timestamp=o.getTimeInTicks()),this.state.userId=t.id,a.writeUserCookie(t);var n=a.readSessionCookie(),r=!1;for(var i in e)if(e.hasOwnProperty(i)){var d=e[i];"trace"===i?d&&(n.trace=o.stringToBool(d),r=!0):"plugins"===i?d&&(n.plugins=d.split(","),r=!0):"debug"===i?d&&(n.debug=o.stringToBool(d),r=!0):this.state[i]=d}if(r&&a.writeSessionCookie(n),s.default.debug=s.default.debug||n.debug,s.default.debug){var c=o.getSDAQueue();o.getSDA().Debug={commandProcessor:this.commandProcessor,loop:this.commandProcessor.getLoop(),state:this.commandProcessor.getState(),queue:c},o.debug("Debug mode activated.");var l={InitialQueue:{queue:(c||[]).slice(0)}};o.debugObj(l)}var p=[];n.trace&&p.push("trace"),0!==n.plugins.length&&(p=p.concat(n.plugins));for(var g="".split(","),f=0;f<g.length;f++)g[f]&&p.push(g[f]);0!==p.length&&this.commandProcessor.getLoop().insertBefore("create",["plugins",p,!0])}return!0},t.prototype.getQueryStringVariables=function(){var e={},t=o.getQueryParams((function(e){return e.toLowerCase()}));e.adId=t[d.incomingAdId],e.campaign=t[d.incomingCampaign],e.campaignType=t[d.incomingCampaignType],e.campaignName=t[d.incomingCampaignName],e.channel=t[d.incomingChannel],e.digAdAdId=t[d.incomingDigAdAdId],e.digAdCid=t[d.incomingDigAdCid],e.digAdKeyword=t[d.incomingDigAdKeyword],e.digAdLocation=t[d.incomingDigAdLocation],e.digAdPlacement=t[d.incomingDigAdPlacement],e.digAdPosition=t[d.incomingDigAdPosition],e.digAdProvider=t[d.incomingDigAdProvider],e.keyword=t[d.incomingKeyword],e.semMatchType=t[d.incomingSemMatchType],e.targetId=t[d.incomingTargetId],e.referrer=t[d.incomingReferrer],e.crossDomainInfo=t[d.incomingCrossDomainInfo],e.plugins=t[d.incomingPlugins],e.trace=t[d.incomingTrace],e.debug=t[d.incomingDebug];var n=function(e,t){return e=e.replace("sda_","".concat(t,"_"))},r=["sd"].concat(s.default.customQueryStringVarPrefixes);return o.forEach(r,(function(r){o.compareTemplateValue("sda",r)||(e.adId=e.adId||t[n(d.incomingAdId,r)],e.campaign=e.campaign||t[n(d.incomingCampaign,r)],e.campaignType=e.campaignType||t[n(d.incomingCampaignType,r)],e.campaignName=e.campaignName||t[n(d.incomingCampaignName,r)],e.channel=e.channel||t[n(d.incomingChannel,r)],e.digAdAdId=e.digAdAdId||t[n(d.incomingDigAdAdId,r)],e.digAdCid=e.digAdCid||t[n(d.incomingDigAdCid,r)],e.digAdKeyword=e.digAdKeyword||t[n(d.incomingDigAdKeyword,r)],e.digAdLocation=e.digAdLocation||t[n(d.incomingDigAdLocation,r)],e.digAdPlacement=e.digAdPlacement||t[n(d.incomingDigAdPlacement,r)],e.digAdPosition=e.digAdPosition||t[n(d.incomingDigAdPosition,r)],e.digAdProvider=e.digAdProvider||t[n(d.incomingDigAdProvider,r)],e.keyword=e.keyword||t[n(d.incomingKeyword,r)],e.semMatchType=e.semMatchType||t[n(d.incomingSemMatchType,r)],e.targetId=e.targetId||t[n(d.incomingTargetId,r)],e.referrer=e.referrer||t[n(d.incomingReferrer,r)])})),e},t.prototype.resendPublishPacketList=function(){if(c.isEnabled()){var e=c.removeAll();if(e&&0!==e.length)for(var t=0;t<e.length;t++){var n=e[t];n[d.resent]="1",this.commandProcessor.getLoop().insert(["publish",{params:n}])}}},t}(i.Plugin);t.InitCommand=l},588:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessagingCommands=void 0;var r=n(191),i=n(275),o=n(364),a=n(370),s=n(373),d=n(673),c=n(68),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t._initialized=!1,t._msgTypeGetXDInfo="SDA_GetXDInfo",t._msgTypeGetXDInfoResponse="SDA_GetXDInfoResponse",t._msgTypeGetTopUrl="SDA_GetTopUrl",t._msgTypeGetTopUrlResponse="SDA_GetTopUrlResponse",t._msgTypePagePublishHistoryUpdated="SDA_PagePublishHistoryUpdated",t._msgTypeGetPagePublishHistory="SDA_GetPagePublishHistory",t._msgTypeGetPagePublishHistoryResponse="SDA_GetPagePublishHistoryResponse",t._getXDInfoTimeout=1e3,t._getXDInfoMaxAttempts=5,t}return r.__extends(t,e),t.prototype._initMessaging=function(){var e=this;return this._initialized||(this._initialized=!0,a.addListener(this._msgTypeGetXDInfo,(function(t){return e.onGetXDInfo(t.data,t.source)})),a.addListener(this._msgTypeGetXDInfoResponse,(function(t){return e.onGetXDInfoResponse(t.data,t.source)})),a.addListener(this._msgTypeGetTopUrl,(function(t){return e.onGetTopUrl(t.data,t.source)})),a.addListener(this._msgTypeGetTopUrlResponse,(function(t){return e.onGetTopUrlResponse(t.data,t.source)})),a.addListener(this._msgTypeGetPagePublishHistory,(function(t){return e.onGetPagePublishHistory(t.data,t.source)})),a.setCaptureUnhandledMessages(!1)),!0},t.prototype._processUnhandledMessages=function(){return a.reprocessUnhandledMessages(),!0},t.prototype._getXDInfoFromParent=function(){var e=this,t=0;this.commandProcessor.getLoop().suspend();var n=function(){if(++t<=e._getXDInfoMaxAttempts){c.default.debug&&t>1&&o.debugObj({GetXDInfoFromParent:{attempts:t}});var r=window.setTimeout(n,e._getXDInfoTimeout);e.state.getXDInfoTimer=r;var i=o.generateRandomId();e.state.getXDInfoKey=i;var a={type:e._msgTypeGetXDInfo,clientId:e.state.clientId,providerId:e.state.providerId,retailerId:e.state.retailerId,scenario:s.scenario,tagServerUrl:s.tagServerUrl,key:i};c.default.debug&&o.debugObj({GetXDInfoFromParent:{msg:a}}),o.sendMessage(a,window.top)}else c.default.debug&&o.debugObj({GetXDInfoFromParent:{error:"Timeout"}}),e.state.getXDInfoTimer&&delete e.state.getXDInfoTimer,e.commandProcessor.getLoop().resume()};return n(),!0},t.prototype._getTopUrlFromParent=function(){if(this.state.topUrlFromParent||this.state.getTopUrlRequested)return!0;this.state.getTopUrlRequested=!0;var e=o.generateRandomId();this.state.getTopUrlKey=e;var t={type:this._msgTypeGetTopUrl,clientId:this.state.clientId,providerId:this.state.providerId,retailerId:this.state.retailerId,scenario:s.scenario,tagServerUrl:s.tagServerUrl,key:e};return c.default.debug&&o.debugObj({GetTopUrlFromParent:{msg:t}}),o.sendMessage(t,window.top),!0},t.prototype.onGetXDInfo=function(e,t){var n=this,r=!1;if(e.clientId==this.state.clientId&&e.scenario==s.scenario&&e.tagServerUrl==s.tagServerUrl){r=!0;this.commandProcessor.getLoop().insert(["xdExport",function(r){var i=decodeURIComponent(r),a={type:n._msgTypeGetXDInfoResponse,key:e.key,xdInfo:i};c.default.debug&&o.debugObj({OnGetXDInfo:{response:a}}),o.sendMessage(a,t)}])}c.default.debug&&o.debugObj({OnGetXDInfo:{msg:e,isValid:r}})},t.prototype.onGetXDInfoResponse=function(e,t){e.key===this.state.getXDInfoKey&&(delete this.state.getXDInfoKey,c.default.debug&&o.debugObj({onGetXDInfoResponse:{msg:e}}),this.commandProcessor.getLoop().insert(["xdImport",e.xdInfo]),this.state.getXDInfoTimer&&(window.clearTimeout(this.state.getXDInfoTimer),delete this.state.getXDInfoTimer,this.commandProcessor.getLoop().resume()))},t.prototype.onGetTopUrl=function(e,t){var n=!1;if(e.clientId==this.state.clientId&&e.scenario==s.scenario&&e.tagServerUrl==s.tagServerUrl){n=!0;var r={type:this._msgTypeGetTopUrlResponse,key:e.key,topUrl:window.location.href};c.default.debug&&o.debugObj({OnGetTopUrl:{response:r}}),o.sendMessage(r,t)}c.default.debug&&o.debugObj({OnGetTopUrl:{msg:e,isValid:n}})},t.prototype.onGetTopUrlResponse=function(e,t){e.key===this.state.getTopUrlKey&&(delete this.state.getTopUrlKey,delete this.state.getTopUrlRequested,c.default.debug&&o.debugObj({OnGetTopUrlResponse:{msg:e}}),e.topUrl&&(this.state.topUrlFromParent=e.topUrl))},t.prototype._addToPagePublishHistory=function(){var e=o.getArgs(arguments,"data").data,t=d.add(e),n={type:this._msgTypePagePublishHistoryUpdated,data:t};return o.sendMessage(n,window.top),!0},t.prototype._getPagePublishHistory=function(){var e=o.getArgs(arguments,"callback").callback;e&&e(d.getAll());return!0},t.prototype.onGetPagePublishHistory=function(e,t){var n=d.getAll(),r={type:this._msgTypeGetPagePublishHistoryResponse,history:n};o.sendMessage(r,t)},t}(i.Plugin);t.MessagingCommands=u},309:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PluginsCommand=void 0;var r=n(191),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._plugins=function(e,t){return this.commandProcessor.setPlugins(e,t||!1),!0},t}(n(275).Plugin);t.PluginsCommand=i},574:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropsCommands=void 0;var r=n(191),i=n(275),o=n(828),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._setProp=function(e,t){return o.setProp(this.state,e,t),!0},t.prototype._getProp=function(e,t){return t(o.getProp(this.state,e)),!0},t}(i.Plugin);t.PropsCommands=a},142:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PublishCommand=void 0;var r=n(191),i=n(275),o=n(364),a=n(10),s=n(469),d=n(373),c=n(68),u=n(214),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._publish=function(){var e=o.getArgs(arguments,"params","hitCallback"),t=e.params,n=e.hitCallback;if(void 0!==t[a.DO_NOT_PUBLISH])return n&&n(),!0;if(this.commandProcessor.getLoop().insert(["addToPagePublishHistory",{data:t}]),s.isEnabled()&&"ping"!==t[a.hitType]){var r=o.generateRandomId(),i=n;n=function(){s.remove(r),i&&i()},s.add(r,t)}var c=this.paramsToString(t);return n=n?this.wrapCallbackWithTimeout(n,d.publishCallbackTimeoutMs):function(){},c.length<=2036?this.sendWithImageTag(c,n):navigator.userAgent.indexOf("Firefox")>0&&![].reduce?n():this.sendWithXmlHttpRequest(c,n)||this.sendWithXDomainRequest(c,n)||this.sendWithIFrame(c,n)||n(),u.onPublish(t),!0},t.prototype.wrapCallbackWithTimeout=function(e,t){var n=!1,r=0,i=function(t){r&&(window.clearTimeout(r),r=0),n||(n=!0,e())};return r=window.setTimeout((function(){return i()}),t),i},t.prototype.sendWithImageTag=function(e,t){var n="https://"+d.tagServerUrl+"/"+d.clientId+"/"+d.imageTagPath+"?"+e,r=document.createElement("img");return r.width=1,r.height=1,r.src=n,r.onload=r.onerror=function(){r.onload=null,r.onerror=null,t()},!0},t.prototype.sendWithXmlHttpRequest=function(e,t){if(void 0===window.XMLHttpRequest)return!1;var n=new window.XMLHttpRequest;return"withCredentials"in n&&(n.open("POST","https://"+d.tagServerUrl+"/"+d.clientId+"/"+d.ajaxPostPath,!0),n.withCredentials=!0,n.setRequestHeader("Content-Type","text/plain"),n.onreadystatechange=function(){4===n.readyState&&(t(),n=null)},n.send(e),!0)},t.prototype.sendWithXDomainRequest=function(e,t){if(void 0===window.XDomainRequest)return!1;var n=new window.XDomainRequest;return n.open("POST",this.getProtocol()+"//"+d.tagServerUrl+"/"+d.clientId+"/"+d.ajaxPostPath),n.onerror=function(){return t()},n.onload=function(){return t()},n.send(e),!0},t.prototype.sendWithIFrame=function(e,t){var n,r=this;if(!document.body)return window.setTimeout((function(){return r.sendWithIFrame(e,t)}),100),!0;e=encodeURIComponent(e);try{n=document.createElement('<iframe name="'+e+'"></iframe>')}catch(t){(n=document.createElement("iframe")).name=e}n.height="0",n.width="0",n.style.display="none",n.style.visibility="hidden";var i=r.getProtocol()+"//"+d.tagServerUrl+"/"+d.clientId+"/iframe.aspx#"+encodeURIComponent(document.location.protocol+"//"+document.location.host+"/favicon.ico"),a=function(){n.src="",n.parentNode&&n.parentNode.removeChild(n)};o.addEvent(document,"beforeunload",a);var s=!1,c=0,u=function(){if(!s){try{if(c>9||n.contentWindow.location.host===document.location.host)return s=!0,a(),o.removeEvent(document,"beforeunload",a),t()}catch(e){}c++,setTimeout(u,200)}};return o.addEvent(n,"load",u),document.body.appendChild(n),n.src=i,!0},t.prototype.getProtocol=function(){return c.default.forceSSL||"https:"===document.location.protocol?"https:":"http:"},t.prototype.paramsToString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(""+e[n]));return t.join("&")},t}(i.Plugin);t.PublishCommand=l},40:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SendCommand=void 0;var r=n(191),i=n(275),o=n(364),a=n(68),s=n(373),d=n(10),c=n(488),u=n(648),l=n(828),p=n(753),g=n(430),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._send=function(){var e=this,t=o.getArgs(arguments,"hitType","eventCategory","eventAction","eventLabel","eventValue","eventNonInteractive","hitCallback","interaction");t.hitType=(t.hitType||"").toLowerCase();var n=t.interaction;n&&n.type&&(t.hitType="interaction");var r=t.hitType;if(!r){var i=this.getDataLayerEvents(!0);if(0===i.length)return t.hitCallback&&t.hitCallback(),!0;r="event",t.hitType="event",t.eventCategory=i[0].eventCategory,t.eventAction=i[0].eventAction,t.eventLabel=i[0].eventLabel,t.eventValue=i[0].eventValue,t.eventNonInteractive=i[0].eventNonInteractive}var f="pageview"===r,m="ping"===r,h="event"===r,v="interaction"===r,y="clientevent"===r,b=!1;if(a.default.blockSendIfCookiesDisabled&&!c.getCookieSupport().session&&!this.state.isXdImport&&!y)return o.warn("Session cookies disabled, skipping send."),t.hitCallback&&t.hitCallback(),!0;if(this.validate(t)){f&&(this.state.pageViewId=o.generateGuid());var _=this.state.clientId||"",I=this.state.retailerId||"",w=this.state.providerId||"",P=c.readSessionCookie();if(!P.id||P.expire<o.getTimeInTicks()){if(!P.id){var C=this.state.sessionCookie;if(C&&C.expire>o.getTimeInTicks())return o.warn("Session cookie read failed, skipping send."),c.getCookieSupport().session=!1,t.hitCallback&&t.hitCallback(),!0}if(y)P.nextId||(P.nextId=o.generateGuid());else{if(!f)return!h||(P.id||(this.state.autoPageView=!0),this.commandProcessor.getLoop().insert(["send"].concat(Array.prototype.slice.call(arguments))),this.commandProcessor.getLoop().insert(["send","pageview"]),!0);P.nextId?(P.id=P.nextId,P.nextId=""):P.id=o.generateGuid(),P.clientId=_,P.providerId=w,P.retailerId=I,b=!0,this.commandProcessor.getLoop().insert(["sessionStarted",P.id])}}else P.nextId&&(P.nextId="");if(!y){var T=o.getTimeInTicks()+s.sessionTimeoutMs;P.expire=T}c.writeSessionCookie(P),this.state.sessionCookie={id:P.id,expire:P.expire};var S={};S[d.hitType]=r,S[d.clientId]=_,S[d.retailerId]=I,S[d.providerId]=w,S[d.userId]=this.state.userId,S[d.sessionId]=P.id,S[d.pageViewId]=this.state.pageViewId,S[d.hitId]=o.generateGuid(),S[d.sdId]=this.state.sdId,S[d.scenario]=s.scenario,y&&(S[d.DO_NOT_PUBLISH]="1");for(var A=parseInt("4",10),k=0;k<A;k++){var E="id"+k;this.state[E]&&(S[E]=this.state[E])}var N=[];if(m||v||(y||(N=this.getDataLayerEvents()),this.setPropsForDataLayerFields(),l.setProp(this.state,"tagSource",s.source),S[d.eVars]=u.dictionaryToString(p.getEVars(this.state)),S[d.props]=u.dictionaryToString(l.getProps(this.state,!y)),S[d.pluginVersions]=u.dictionaryToString(this.state.pluginVersions),S[d.adId]=this.state.adId||"",S[d.campaign]=this.state.campaign||"",S[d.campaignName]=this.state.campaignName||"",S[d.campaignType]=this.state.campaignType||"",S[d.channel]=this.state.channel||"",S[d.digAdAdId]=this.state.digAdAdId||"",S[d.digAdCid]=this.state.digAdCid||"",S[d.digAdKeyword]=this.state.digAdKeyword||"",S[d.digAdLocation]=this.state.digAdLocation||"",S[d.digAdPlacement]=this.state.digAdPlacement||"",S[d.digAdPosition]=this.state.digAdPosition||"",S[d.digAdProvider]=this.state.digAdProvider||"",S[d.keyword]=this.state.keyword||"",S[d.semMatchType]=this.state.semMatchType||"",S[d.targetId]=this.state.targetId||"",window.Intl&&window.Intl.DateTimeFormat&&window.Intl.DateTimeFormat().resolvedOptions&&(S[d.timezone]=Intl.DateTimeFormat().resolvedOptions().timeZone),S[d.timezoneOffset]=(new Date).getTimezoneOffset(),y||(this.state.adId="",this.state.campaign="",this.state.campaignName="",this.state.campaignType="",this.state.channel="",this.state.digAdAdId="",this.state.digAdCid="",this.state.digAdKeyword="",this.state.digAdLocation="",this.state.digAdPlacement="",this.state.digAdPosition="",this.state.digAdProvider="",this.state.keyword="",this.state.semMatchType="",this.state.targetId=""),this.addDebugData(S)),f&&this.state.autoPageView&&(S[d.autoPageView]="true",delete this.state.autoPageView),h||y){var x=t.eventCategory||"";if(S[d.eventCategory]=x,S[d.eventAction]=t.eventAction||"",S[d.eventLabel]=t.eventLabel||"",S[d.eventValue]=parseInt(t.eventValue||"0",10),S[d.eventNonInteractive]=t.eventNonInteractive?"true":"false",!y){var M=x.toLowerCase();for(k=N.length-1;k>=0;k--)N[k].eventCategory.toLowerCase()===M&&N.splice(k,1)}}if(this.addBrowserData(S),v&&(S[d.interactionType]=n.type,void 0===n.x&&void 0===n.y||(S[d.interactionX]=n.x,S[d.interactionY]=n.y),n.xPath&&(S[d.interactionXPath]=n.xPath,S[d.interactionOffsetX]=n.offsetX,S[d.interactionOffsetY]=n.offsetY),n.isButton&&(S[d.interactionIsButton]=n.isButton,S[d.interactionButtonText]=n.buttonText,S[d.interactionButtonMatchSelector]=n.buttonMatchSelector),n.emailHash&&(S[d.interactionFormEmail]=n.emailHash),n.phoneHash&&(S[d.interactionFormPhone]=n.phoneHash)),g.matchExpressions(this.state),S[d.perfCustom]=u.dictionaryToString(g.getValues(this.state)),f&&this.state.referrer){var L=this.state.referrer;"http"!==L.toLowerCase().substring(0,4)&&(L="http://"+L),S[d.referrer]=L,this.state.referrer=null}if(b&&(S[d.isNewSession]="1"),this.publish(S,t.hitCallback),!m&&!v&&!y)for(k=0;k<N.length;k++)this.commandProcessor.getLoop().push(["send","event",N[k].eventCategory,N[k].eventAction,N[k].eventLabel,N[k].eventValue,N[k].eventNonInteractive]);if(!y)if(this.addFpComponents(S),!this.state.pageLoadStatus)if(o.isPageLoaded())this.state.pageLoadStatus="loaded";else{this.state.pageLoadStatus="pending";var O=function(t){o.isPageLoaded()&&(o.removeEvent(document,"readystatechange",O),e.state.pageLoadStatus="loaded",e.commandProcessor.getLoop().push(["send","ping"]))};o.addEvent(document,"readystatechange",O)}f&&(this.state.scrolledBelowFold=!1,this.state.pageViewCount++)}return!0},t.prototype.validate=function(e){var t=e.hitType;if("clientevent"===t)return!0;if("pageview"!==t&&"ping"!==t&&"event"!==t&&"interaction"!==t&&"clientevent"!==t)throw new Error(s.errorPrefix+"Unknown hit type: "+t);if("event"===t&&!e.eventCategory)throw new Error(s.errorPrefix+"Event category required when firing event.");if(!this.state.clientId)throw new Error(s.errorPrefix+"ClientId not set.");if(!this.state.retailerId)throw new Error(s.errorPrefix+"RetailerId not set.");if(!this.state.providerId)throw new Error(s.errorPrefix+"ProviderId not set.");if(!this.state.userId)throw new Error(s.errorPrefix+"UserId not set.");return!0},t.prototype.publish=function(e,t){this.commandProcessor.getLoop().insert(["publish",{params:e,hitCallback:t}]),this.commandProcessor.getLoop().insert(["transform",{params:e}])},t.prototype.getDataLayerEvents=function(e){var t=[],n=window[a.default.dataLayer];if(n&&n.events){var r=n.events;if("string"==typeof r&&(r=r.split(",")),o.isArray(r))for(var i={},s=0;s<r.length;s++)if(r[s]&&"string"==typeof r[s]){var d=r[s].split("|"),c=o.trim(d[0]).toLowerCase();if(!i[c]){i[c]=!0;var u={eventCategory:o.trim(d[0]),eventAction:d[1]||"",eventLabel:d[2]||"",eventValue:d[3]||"",eventNonInteractive:d[4]||""};t.push(u)}}e||delete n.events}return t},t.prototype.setPropsForDataLayerFields=function(){for(var e=o.flatten(window[a.default.dataLayer]),t=o.keys(e).sort(),n=t.length,r=0;r<n;r++)l.setProp(this.state,t[r],e[t[r]]);this.state.dataLayer=e},t.prototype.addDebugData=function(e){this.state.dbg&&(e[d.debug]=this.state.dbg+"",this.state.dbg="")},t.prototype.addFpComponents=function(e){this.state.fpComponents&&(e[d.fpComponents]=this.state.fpComponents+"",this.state.fpComponents="")},t.prototype.addBrowserData=function(e){e[d.cacheBuster]=o.generateRandomId(),e[d.colorDepth]=window.screen.colorDepth+"-bit",e[d.encoding]=document.characterSet||document.charset,e[d.flashVersion]=this.getFlashVersion(),e[d.iframe]=o.isIFrame(),e[d.javaEnabled]=navigator&&"function"==typeof navigator.javaEnabled&&navigator.javaEnabled()||!1,e[d.language]=(navigator&&(navigator.language||navigator.browserLanguage)||"").toLowerCase(),e[d.referrer]=document.referrer,e[d.resolution]=window.screen.width+"x"+window.screen.height,e[d.timestamp]=o.getTimeInTicks(),e[d.title]=document.title,e[d.url]=document.location.href;var t=this.state.topUrlFromParent||"";if(!t)try{window.top&&window.top.location&&window.top.location.href&&(t=window.top.location.href)}catch(e){}!t&&o.isIFrame()&&document.referrer&&(t=document.referrer),t||(t=document.location.href),e[d.topUrl]=t,e[d.version]=s.version,e[d.build]=s.build,e[d.viewportSize]=this.getViewportSize(),e[d.xdImport]=this.state.isXdImport||!1;var n=function(t,n,r){if(void 0===r&&(r=!1),void 0!==t){var i=Math.floor(t);(i>0||0===i&&r)&&(e[n]=Math.floor(t).toString())}};n(this.state.loadTime,d.perfTagLoaded),n(this.state.initTime,d.perfTagInit);var r=window.performance;if(r){var i=!1;if(r.getEntriesByType){var a=r.getEntriesByType("navigation");if(a&&0!==a.length){var c=a[0];n(c.requestStart,d.perfRequestStart,!0),n(c.responseEnd,d.perfResponseEnd),n(c.domContentLoadedEventEnd,d.perfDomLoaded),n(c.loadEventEnd,d.perfLoadCompleted),i=!0}}if(!i){var u=r.timing;if(u){var l=u.navigationStart;if(void 0!==l&&0!==l){var p=function(t,n,r){if(void 0===r&&(r=!1),void 0!==t&&0!==t){var i=Math.floor(t-l);(i>0||0===i&&r)&&(e[n]=i.toString())}};p(u.requestStart,d.perfRequestStart,!0),p(u.responseEnd,d.perfResponseEnd),p(u.domContentLoadedEventEnd,d.perfDomLoaded),p(u.loadEventEnd,d.perfLoadCompleted)}}}}},t.prototype.getViewportSize=function(){var e="",t=[0,0],n=document.body&&document.body.clientWidth&&document.body.clientHeight,r=document.documentElement;return r&&r.clientWidth&&r.clientHeight&&("CSS1Compat"===document.compatMode||!n)?t=[r.clientWidth,r.clientHeight]:n&&(t=[document.body.clientWidth,document.body.clientHeight]),t[0]&&t[1]&&(e=t.join("x")),e},t.prototype.getFlashVersion=function(){var e,t,n;if((n=(n=window.navigator)?n.plugins:null)&&n.length)for(var r=0;r<n.length&&!t;r++){var i=n[r];-1<i.name.indexOf("Shockwave Flash")&&(t=i.description)}if(!t)try{t=(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version")}catch(e){}if(!t)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t="WIN 6,0,21,0",e.AllowScriptAccess="always",t=e.GetVariable("$version")}catch(e){}if(!t)try{t=(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(e){}return t&&(e=t.match(/[\d]+/g))&&3<=e.length&&(t=e[0]+"."+e[1]+" r"+e[2]),t||""},t}(i.Plugin);t.SendCommand=f},52:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStartedCommand=void 0;var r=n(191),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._sessionStarted=function(e){return!0},t}(n(275).Plugin);t.SessionStartedCommand=i},720:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TrackFormFieldsCommand=void 0;var r=n(191),i=n(275),o=n(94),a=n(364),s=n(373),d=n(488),c=n(68),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t.timer=0,t.trackFormFieldsEnabled=!1,t.matchEmail=/(?:[a-z0-9!#$%&\'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/i,t.matchPhone=/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/i,t}return r.__extends(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.stopTimer=function(){this.timer&&(window.clearTimeout(this.timer),this.timer=0)},t.prototype.startTimer=function(){var e=this;this.stopTimer(),this.timer=window.setTimeout((function(){return e.commandProcessor.getLoop().insert(["trackFormFields"])}),s.trackFormFieldsFreqMs)},t.prototype._trackFormFields=function(){if(this.stopTimer(),this.trackFormFieldsEnabled||(this.trackFormFieldsEnabled=a.stringToBool(c.default.trackFormFieldsEnabled)),this.trackFormFieldsEnabled){var e=d.readSessionCookie();if(document&&document.getElementsByTagName&&e.id){var t=document.getElementsByTagName("input");if(t&&0!==t.length)for(var n=this,r=this.matchEmail,i=this.matchPhone,s=0;s<t.length;s++){var u=t[s].type;"text"!==u&&"tel"!==u&&"email"!==u||function(){var e=t[s];e&&!e["_sdaField"]&&(e["_sdaField"]=!0,a.addEvent(e,"blur",(function(t){try{var s=e.value;if(s){var d="",c="";if(r.test(s)){var u=a.trim(s).toUpperCase();u&&(d=(0,o.md5)(u))}else if(i.test(s)){var l=s.replace(/[^0-9]/,"");l&&(c=(0,o.md5)(l))}if(d||c){var p={type:"form",timestamp:a.getTimeInTicks(),emailHash:d,phoneHash:c};n.commandProcessor.getLoop().insert(["send","interaction",{interaction:p}])}}}catch(e){a.error("TrackFormFields::Blur",e)}})))}()}}this.startTimer()}},t}(i.Plugin);t.TrackFormFieldsCommand=u},518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TrackIFramesCommand=void 0;var r=n(191),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._trackIFrames=function(){},t}(n(275).Plugin);t.TrackIFramesCommand=i},51:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TrackLinksCommand=void 0;var r=n(191),i=n(275),o=n(364),a=n(373),s=n(488),d=n(68),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t.timer=0,t.linksUpdated=!1,t.addToLinksEnabled=!1,t.addToLinksExclusions=[],t}return r.__extends(t,e),t.prototype.init=function(t){var n=this;e.prototype.init.call(this,t),o.forEach(d.default.addXDInfoToLinksExclusions,(function(e){var t=o.parseRegExp(e);n.addToLinksExclusions.push(t)}))},t.prototype.stopTimer=function(){this.timer&&(window.clearTimeout(this.timer),this.timer=0)},t.prototype.startTimer=function(){var e=this;this.stopTimer(),this.timer=window.setTimeout((function(){return e.commandProcessor.getLoop().insert(["trackLinks"])}),a.trackLinksFreqMs)},t.prototype._trackLinks=function(){this.stopTimer(),this.addToLinksEnabled||(this.addToLinksEnabled=o.stringToBool(d.default.addXDInfoToLinksEnabled));var e=s.readSessionCookie();if(document&&document.getElementsByTagName&&e.id){var t=document.getElementsByTagName("a");if(t&&0!==t.length){for(var n=this,r=0;r<t.length;r++)!function(){var e=t[r];if(e&&e.getAttribute){var i=e.getAttribute("data-sda-event");if(i){if(!e["_sdaLink"]){e["_sdaLink"]=!0;for(var a=(e.getAttribute("data-sda-event-link")||"").toLowerCase(),s=e.getAttribute("data-sda-event-set-prop")||"",d=e.getAttribute("data-sda-event-set-evar")||"",c=i.split(","),u=0,l=0,p=0;p<c.length;p++)!function(){var t=c[p].split("|");if(t&&t.length>0){var r=e.href;if(r&&"javascript:"!==r.substring(0,11)){u++;var i=t[0],g=t[1]||"",f=t[2]||"",m=t[3]||"",h=t[4]||"",v=e.getAttribute("target")||"";o.addEvent(e,"click",(function(e){"_blank"!==v&&(o.preventDefault(e),o.stopPropagation(e));var t={hitType:"event",eventCategory:i,eventAction:g,eventLabel:f,eventValue:m,eventNonInteractive:h,hitCallback:function(){if(!--l){l=u;var e=function(e){"_blank"!==v&&(document.location.href=e)};"false"!==a?n.commandProcessor.getLoop().insert(["getLinkerUrl",{targetUrl:r,useHash:"hash"===a,callback:e}]):e(r)}}};if(n.commandProcessor.getLoop().insert(["send",t]),s)for(var c=s.split(","),p=0;p<c.length;p++){if(c[p])(b=c[p].split("|")).length>=2&&n.commandProcessor.getLoop().insert(["setProp",b[0],b.slice(1).join("|")])}if(d){var y=d.split(",");for(p=0;p<y.length;p++){var b;if(y[p])(b=y[p].split("|")).length>=2&&n.commandProcessor.getLoop().insert(["setEVar",b[0],b.slice(1).join("|")])}}}))}else r&&o.error("data-sda-event not supported for Javascript links.")}}();l=u}}else if(n.addToLinksEnabled){var g=e.getAttribute("href");if(g&&"http"===g.substring(0,4)&&-1===g.indexOf("//"+document.location.hostname)&&!o.isXDInfoUrl(g)&&!e["_sdaLink"]&&e.hostname){for(var f=!1,m=0;m<n.addToLinksExclusions.length;m++)if(n.addToLinksExclusions[m].test(e.hostname)){f=!0;break}f||(e["_sdaLink"]=!0,n.commandProcessor.getLoop().insert(["getLinkerUrl",{targetUrl:e.href,useHash:!1,callback:function(t){return e.href=t}}]))}}}}();this.linksUpdated=!0}}!this.addToLinksEnabled&&this.linksUpdated||this.startTimer()},t}(i.Plugin);t.TrackLinksCommand=c},458:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransformCommand=void 0;var r=n(191),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=0,t}return r.__extends(t,e),t.prototype._transform=function(){return!0},t}(n(275).Plugin);t.TransformCommand=i},68:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={forceSSL:!0,dataLayer:"sdaDataLayer",debug:!1,blockSendIfCookiesDisabled:!0,cookieDomainPeriods:parseInt("0",10)||2,historyEnabled:"false",attachToSessionEnabled:"true",addXDInfoToLinksEnabled:"false",addXDInfoToLinksExclusions:[""],customQueryStringVarPrefixes:[""],trackFormFieldsEnabled:"false"};t.default=n},373:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mouseClickBucketSize=t.trackScrollBufferMs=t.trackMovementBufferMs=t.minMoveDistance=t.trackScrollBelowFold=t.trackClick=t.trackScroll=t.trackMovement=t.sessionIdLoadTimeoutMs=t.publishCallbackTimeoutMs=t.pluginLoadTimeoutMs=t.sessionTimeoutMs=t.maxIdleMs=t.considerIdleAfterMs=t.pingFreqMs=t.loopFreqMs=t.trackFormFieldsFreqMs=t.trackLinksFreqMs=t.buttonTextMaxLength=t.buttonMatchSelectors=t.publishPacketList=t.pagePublishHistory=t.historyStorageKey=t.debugPrefix=t.errorPrefix=t.sessionCookieName=t.userCookieName=t.cookieNamePrefix=t.cookieMaxLength=t.serializeEscapeChar=t.ajaxPostPath=t.imageTagPath=t.clientId=t.scenario=t.source=t.scriptUrl=t.tagServerUrl=t.build=t.version=void 0,t.version="4.0",t.build="580c96c88261-prod",t.tagServerUrl="tagging.shiftdigitalapps.io/endpoint",t.scriptUrl="tagging.shiftdigitalapps.io/scripts/sdanalytics",t.source="Production/default/sda.js",t.scenario="T3",t.clientId="bmw",t.imageTagPath="1x1.gif",t.ajaxPostPath="data",t.serializeEscapeChar="!",t.cookieMaxLength=4e3,t.cookieNamePrefix="_sda:bmw:T3:",t.userCookieName=t.cookieNamePrefix+"user",t.sessionCookieName=t.cookieNamePrefix+"session",t.errorPrefix="SDA::",t.debugPrefix="[SDA] ",t.historyStorageKey="SDA:bmw:T3:History",t.pagePublishHistory="SDA:bmw:T3:PagePublishHistory",t.publishPacketList="SDA:bmw:T3:PublishPackets",t.buttonMatchSelectors=["button",'a[role="button"]','div[role="button"]','span[role="button"]','[class*="btn"]'],t.buttonTextMaxLength=50,t.trackLinksFreqMs=100,t.trackFormFieldsFreqMs=100,t.loopFreqMs=100,t.pingFreqMs=3e4,t.considerIdleAfterMs=6e4,t.maxIdleMs=12e4,t.sessionTimeoutMs=60*(parseFloat("null")||29)*1e3,t.pluginLoadTimeoutMs=2e3,t.publishCallbackTimeoutMs=500,t.sessionIdLoadTimeoutMs=6e4,t.trackMovement="false",t.trackScroll="false",t.trackClick="true",t.trackScrollBelowFold="true",t.minMoveDistance=2,t.trackMovementBufferMs=250,t.trackScrollBufferMs=250,t.mouseClickBucketSize=25},488:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.writeCookie=t.readCookie=t.readCookies=t.writeSessionCookie=t.readSessionCookie=t.writeUserCookie=t.readUserCookie=t.getCookieSupport=void 0;var r=n(373),i=n(68),o=n(364),a={},s={persisted:!0,session:!0,sessionCookieDomain:!0};function d(e){var t={};if(!e){var n=a;for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}for(var i=document.cookie.split(";"),s=0;s<i.length;s++){var d=i[s].indexOf("="),c=o.trim(i[s].substring(0,d)),u=o.trim(i[s].substring(d+1));try{u=decodeURIComponent(u)}catch(e){}t[c]=u}return t}function c(e,t){return d(t)[e]||""}function u(e,t,n){n=n||{};var r=t,i=s;if(i.persisted||(n.expires=null),n.expires||!n.domain||i.sessionCookieDomain||(n.domain=null),i.persisted||i.session){var d=e+"="+(r=encodeURIComponent(t));d+="; path="+(n.path||"/"),n.expires&&(d+="; expires="+n.expires.toUTCString()),n.domain&&"localhost"!==n.domain&&(d+="; domain="+n.domain),o.isSsl()&&(d+="; SameSite=None; Secure"),document.cookie=d;var l=c(e,!0);if(l!==t){var p=n.expires?"Persisted":"Session";if(n.expires)return o.debug(p+" cookie write failed, N["+e+"], P["+(JSON&&JSON.stringify?JSON.stringify(n):"")+"], E["+(t||"")+"], A["+(l||"")+"]"),i.persisted=!1,u(e,t,n);if(n.domain)return i.sessionCookieDomain=!1,u(e,t,n);i.session=!1,o.debug(p+" cookie write failed, N["+e+"], P["+(JSON&&JSON.stringify?JSON.stringify(n):"")+"], E["+(t||"")+"], A["+(l||"")+"]")}}return a[e]=r,!0}t.getCookieSupport=function(){return s},t.readUserCookie=function(){var e={id:"",version:"",timestamp:0,ids:[],idts:[]},t=c(r.userCookieName);if(t){var n=t.split(":");n&&(n.length>=3&&(e.id=n[0],e.version=n[1],e.timestamp=parseInt(n[2],10)),n.length>=4&&(e.ids=n[3].split("!")),n.length>=5&&(e.idts=n[4].split("!")))}return e},t.writeUserCookie=function(e){var t=[e.id,r.version,e.timestamp,e.ids.join("!"),e.idts.join("!")].join(":"),n=new Date,o=document.domain.split(".").slice(0-i.default.cookieDomainPeriods).join(".");return n.setFullYear(n.getFullYear()+1),u(r.userCookieName,t,{expires:n,domain:o})},t.readSessionCookie=function(){var e={id:"",trace:!1,expire:0,plugins:[],ids:[],idLoadStart:0,debug:!1,clientId:"",retailerId:"",providerId:"",isXdImport:!1,nextId:""},t=c(r.sessionCookieName);if(t){var n=t.split(":");n&&n.length>=4&&(e.id=n[0],e.trace="Y"===n[1],e.expire=parseInt(n[2],10),e.plugins=0!==n[3].length?n[3].split(","):[]),n.length>=5&&(e.ids=n[4].split("!")),n.length>=6&&(e.idLoadStart=parseInt(n[5],10)||0),n.length>=7&&(e.debug="Y"===n[6]),n.length,n.length>=11&&(e.clientId=n[8],e.providerId=n[9],e.retailerId=n[10]),n.length>=12&&(e.isXdImport="Y"===n[11]),n.length>=13&&(e.nextId=n[12]||"")}return e},t.writeSessionCookie=function(e){var t=[e.id,e.trace?"Y":"N",e.expire,e.plugins.join(","),e.ids.join("!"),e.idLoadStart,e.debug?"Y":"N","",e.clientId&&-1===e.clientId.indexOf(":")?e.clientId:"",e.providerId&&-1===e.providerId.indexOf(":")?e.providerId:"",e.retailerId&&-1===e.retailerId.indexOf(":")?e.retailerId:"",e.isXdImport?"Y":"N",e.nextId].join(":"),n=document.domain.split(".").slice(0-i.default.cookieDomainPeriods).join(".");return u(r.sessionCookieName,t,{domain:n})},t.readCookies=d,t.readCookie=c,t.writeCookie=u},430:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findAndSetValue=t.getValues=t.setValue=t.getValue=t.matchExpressions=void 0;var n=[{name:"AdobeDTM",regex:/\/\/assets\.adobedtm\.com/i},{name:"GA",regex:/\/\/www\.google-analytics\.com\/(ga|analytics).js/i},{name:"GTM",regex:/\/\/www\.googletagmanager\.com\/gtm.js/i},{name:"FB",regex:/\/\/connect\.facebook\.net\/[^\/]+\/fbevents.js/i}];function r(e,t){return e.perfCustom[t]}function i(e,t,n){e.perfCustom[t]=n}function o(e,t,n){if(void 0===r(e,t)){var o=window.performance;if(o&&o.getEntriesByType&&n){var a=o.getEntriesByType("resource");if(a&&0!==a.length)for(var s=0;s<a.length;s++)if(n(a[s])){var d=Math.floor(a[s].responseEnd);if(d)return i(e,t,d),!0;break}}return!1}}t.matchExpressions=function(e){if(n&&0!==n.length)for(var t=0;t<n.length;t++){var r=n[t];r&&!r.found&&(r.found=o(e,r.name,(function(e){return null!==e.name.match(r.regex)})))}},t.getValue=r,t.setValue=i,t.getValues=function(e){return e.perfCustom},t.findAndSetValue=o},753:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getEVars=t.setEVar=t.getEVar=void 0,t.getEVar=function(e,t){var n=(t=(t=(t||"").toString()).replace(/\//g,".")).toLowerCase();return t=e.eVarNames[n],e.eVars[t]},t.setEVar=function(e,t,n){var r=(t=(t||"").toString()).toLowerCase();void 0===e.eVarNames[r]?e.eVarNames[r]=t:t=e.eVarNames[r],e.eVars[t]=n,e.eVarsAll[t]=n},t.getEVars=function(e){var t=e.eVars;return e.eVars={},e.eVarNames={},t}},214:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._getKey=t._save=t._load=t._buildItem=t._buildHistory=t.getHistory=t.isEnabled=t.isSupported=t.getStorage=t.onPublish=void 0;var r=n(364),i=n(10),o=n(373),a=n(68),s=n(648),d=n(488);t.onPublish=function(e){if(this.isEnabled()&&this.isSupported()){var t=e[i.hitType];if(("pageview"===t||"event"===t)&&"1"!==e[i.resent]){var n=this._load();n||(n=this._buildHistory(e));var o=this._buildItem(e);n.items.push(o),r.extend(n.props,o.props),r.extend(n.eVars,o.eVars),this._save(n)}}},t.getStorage=function(){try{if(window.localStorage)return window.localStorage}catch(e){}try{if(window.sessionStorage)return window.sessionStorage}catch(e){}return null},t.isSupported=function(){return!!(JSON&&JSON.stringify&&JSON.parse&&null!==this.getStorage())},t.isEnabled=function(){return r.stringToBool(a.default.historyEnabled)},t.getHistory=function(){return this.isEnabled()&&this.isSupported()?this._load():null},t._buildHistory=function(e){return{items:[],props:{},eVars:{},adId:e[i.adId],campaign:e[i.campaign],campaignType:e[i.campaignType],campaignName:e[i.campaignName],channel:e[i.channel],digAdAdId:e[i.digAdAdId],digAdCid:e[i.digAdCid],digAdKeyword:e[i.digAdKeyword],digAdLocation:e[i.digAdLocation],digAdPlacement:e[i.digAdPlacement],digAdPosition:e[i.digAdPosition],digAdProvider:e[i.digAdProvider],keyword:e[i.keyword],referrer:e[i.referrer],semMatchType:e[i.semMatchType],sessionId:e[i.sessionId],targetId:e[i.targetId]}},t._buildItem=function(e){return{hitType:e[i.hitType],eventCategory:e[i.eventCategory],timeStamp:new Date,props:s.stringToDictionary(e[i.props]),eVars:s.stringToDictionary(e[i.eVars])}},t._load=function(){var e=this._getKey(),t=this.getStorage(),n=t[e];if(n){var r=JSON.parse(n);if(r){var i=d.readSessionCookie().id;if(r.sessionId===i)return r;t.removeItem(e)}}return null},t._save=function(e){var t=this._getKey(),n=JSON.stringify(e);this.getStorage()[t]=n},t._getKey=function(){return o.historyStorageKey}},927:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Loop=void 0;var r=n(250),i=n(364),o=n(373),a=n(68),s=function(){function e(){var e=this;this._lastLoopTime=0,this._idleTimeMs=0,this._isSuspended=0,this._isProcessing=0,this._isPingDisabled=!1;var t=this;t._commandProcessor=new r.CommandProcessor(this);var n=i.getTimeInTicks();if(t._lastCmdTime=n,t._lastLoopTime=n,i.getSDA().sync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.sdSync(Array.prototype.slice.call(t))},"prerender"===document.visibilityState){var o=function(e){"visible"===document.visibilityState&&(i.removeEvent(document,"visibilitychange",o),t._start())};i.addEvent(document,"visibilitychange",o)}else t._start()}return e.prototype._process=function(e){var t=this,n=i.getTimeInTicks(),r=i.getSDAQueue();if(r&&(!i.isHidden()||e))if(0!==r.length){for(;0!==r.length&&!t._isSuspended;){try{t._isProcessing++,t._processItem(r.shift())}catch(e){i.error("Loop::Process error",e)}t._isProcessing--}t._lastCmdTime=n}else e||0!==o.pingFreqMs&&!t._isPingDisabled&&t._idleTimeMs<o.considerIdleAfterMs&&t._lastCmdTime+o.pingFreqMs<i.getTimeInTicks()&&this.push(["send","ping"]);e||(t._idleTimeMs+=n-t._lastLoopTime,!t._isPingDisabled&&t._idleTimeMs>o.maxIdleMs&&(t._isPingDisabled=!0),t._lastLoopTime=n,window.setTimeout((function(){return t._process()}),o.loopFreqMs))},e.prototype._start=function(){var e=this,t=this;window.setTimeout((function(){return t._process()}),o.loopFreqMs);var n=function(e){t._idleTimeMs=0};i.addEvent(document,"mousemove",n),i.addEvent(document,"keydown",n);var r=i.stringToBool(o.trackClick),a=i.stringToBool(o.trackMovement),s=i.stringToBool(o.trackScroll),d=i.stringToBool(o.trackScrollBelowFold);if(a){var c=0,u=i.debounce((function(t){e._trackInteraction("mousemove",t[0],c)}),o.trackMovementBufferMs);i.addEvent(document,"mousemove",(function(e){c=i.getTimeInTicks(),u(e)}))}if(s||d){var l=0,p=i.debounce((function(t){return e._trackInteraction("scroll",t[0],l,[s,d])}),o.trackScrollBufferMs);i.addEvent(document,"scroll",(function(e){l=i.getTimeInTicks(),p(e)}))}r&&i.addEvent(document,"mouseup",(function(t){return e._trackInteraction("click",t,i.getTimeInTicks())})),i.debug("SDA "+o.version+" initialized.")},e.prototype._trackInteraction=function(e,t,n,r){var a=[];if("mousemove"===e){var s=i.getRelativeMouseAbsolutePos(t),d=1e3;this._lastMousePos&&(d=Math.sqrt(Math.pow(s.x-this._lastMousePos.x,2)+Math.pow(s.y-this._lastMousePos.y,2))),d>=o.minMoveDistance&&(a.push({type:"move",x:s.x,y:s.y,timestamp:n}),this._lastMousePos=s)}else if("click"===e){var c=i.findClickTarget(t);if(c.el){var u=i.getXPath(c.el);if(u){s=i.getRelativeMouseAbsolutePos(t);var l=i.getRelativeMouseOffsetPos(c.el,c.x,c.y);l.x=i.bucketRelativeMousePos(l.x,l.width,o.mouseClickBucketSize),l.y=i.bucketRelativeMousePos(l.y,l.height,o.mouseClickBucketSize);var p={type:"click",x:s.x,y:s.y,timestamp:n,xPath:u,offsetX:l.x,offsetY:l.y},g=this._getIsButton(c.el);g.isButton&&(p.isButton=!0,p.buttonText=g.text,p.buttonMatchSelector=g.matchSelector),a.push(p)}}this._lastMousePos=s}else if("scroll"===e&&r){var f=r[0]||!1,m=r[1]||!1,h=i.getRelativeScrollPos();if(f&&a.push({type:"scroll",x:h.x,y:h.y,timestamp:n}),m&&h.y>=50){var v=this._commandProcessor.getState();!1===v.scrolledBelowFold&&(v.scrolledBelowFold=!0,a.push({type:"scrollbelowfold",x:h.x,y:h.y,timestamp:n}))}}if(0!==a.length)for(var y=0;y<a.length;y++)this.push(["send","interaction",{interaction:a[y]}])},e.prototype._getIsButton=function(e){if(e&&e.matches&&e.closest)for(var t=0,n=o.buttonMatchSelectors;t<n.length;t++){var r=n[t],a=null;try{a=e.matches(r)?e:e.closest(r)}catch(e){i.error('"Error executing button match rule: ['.concat(r,"]"),e)}if(null!==a){var s=i.trim(a.innerText||"");if((s=s.split("\n")[0])&&s.length<o.buttonTextMaxLength)return{el:a,isButton:!0,text:s,matchSelector:r}}}return{el:null,isButton:!1,text:"",matchSelector:""}},e.prototype._processItem=function(e){e&&e.length&&e.length>0&&(this._commandProcessor.process(e[0],Array.prototype.slice.call(e,1)),this._isPingDisabled&&(this._isPingDisabled=!1))},e.prototype.suspend=function(){this._isSuspended++},e.prototype.resume=function(){this._isSuspended>0&&this._isSuspended--},e.prototype.push=function(e){var t=i.getSDAQueue();t&&t.push(e)},e.prototype.insert=function(e){var t=i.getSDAQueue();t&&t.unshift(e)},e.prototype.insertBefore=function(e,t){var n=i.getSDAQueue();if(n){for(var r=0;r<n.length&&n[r][0]!==e;r++);n.splice(r,0,t)}},e.prototype.insertAfter=function(e,t){var n=i.getSDAQueue();if(n){for(var r=0;r<n.length&&n[r][0]!==e;r++);n.splice(r+1,0,t)}},e.prototype.getQueueSize=function(){var e=i.getSDAQueue();return e?e.length:0},e.prototype.sd=function(e,t){if(e){if(a.default.debug){var n=i.extend({},e||{}),r={cmd:(e[0]||"").toString(),args:n,sync:t||!1,isProcessing:this._isProcessing},o={},s="Queue";"string"==typeof e[0]&&(s+=":".concat(e[0])),o[s]=r,i.debugObj(o)}this.push(e),e.length&&e.length>0&&"send"===e[0]&&!0!==t&&0===this._isProcessing&&this._process(!0)}},e.prototype.sdSync=function(e){this.sd(e,!0),this._process(!0)},e}();t.Loop=s},10:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.perfDomLoaded=t.perfCustom=t.pageViewId=t.language=t.keyword=t.javaEnabled=t.isNewSession=t.interactionFormPhone=t.interactionFormEmail=t.interactionButtonMatchSelector=t.interactionButtonText=t.interactionIsButton=t.interactionOffsetY=t.interactionOffsetX=t.interactionXPath=t.interactionY=t.interactionX=t.interactionType=t.iframe=t.hitId=t.hitType=t.globalId=t.flashVersion=t.fpComponents=t.externalId=t.eVars=t.eventNonInteractive=t.eventValue=t.eventLabel=t.eventAction=t.eventCategory=t.encoding=t.digAdProvider=t.digAdPosition=t.digAdPlacement=t.digAdLocation=t.digAdKeyword=t.digAdCid=t.digAdAdId=t.debug=t.colorDepth=t.clientId=t.channel=t.campaignName=t.campaignType=t.campaign=t.cacheBuster=t.build=t.autoPageView=t.adId=void 0,t.DO_NOT_PUBLISH=t.incomingTargetId=t.incomingSemMatchType=t.incomingDebug=t.incomingReferrer=t.incomingPlugins=t.incomingCrossDomainInfo=t.incomingTrace=t.incomingKeyword=t.incomingDigAdProvider=t.incomingDigAdPosition=t.incomingDigAdPlacement=t.incomingDigAdLocation=t.incomingDigAdKeyword=t.incomingDigAdCid=t.incomingDigAdAdId=t.incomingChannel=t.incomingCampaignName=t.incomingCampaignType=t.incomingCampaign=t.incomingAdId=t.xdImport=t.viewportSize=t.version=t.userId=t.topUrl=t.url=t.title=t.timezoneOffset=t.timezone=t.timestamp=t.targetId=t.sessionId=t.semMatchType=t.sdId=t.scenario=t.retailerId=t.resolution=t.resent=t.referrer=t.providerId=t.props=t.pluginVersions=t.perfTagLoaded=t.perfTagInit=t.perfResponseEnd=t.perfRequestStart=t.perfLoadCompleted=void 0,t.adId="aid",t.autoPageView="apv",t.build="b",t.cacheBuster="cb",t.campaign="cmp",t.campaignType="cmpt",t.campaignName="cmpn",t.channel="ch",t.clientId="cl",t.colorDepth="d",t.debug="dbg",t.digAdAdId="daa",t.digAdCid="dac",t.digAdKeyword="dak",t.digAdLocation="dal",t.digAdPlacement="dapl",t.digAdPosition="dapo",t.digAdProvider="dap",t.encoding="enc",t.eventCategory="ec",t.eventAction="ea",t.eventLabel="el",t.eventValue="ev",t.eventNonInteractive="eni",t.eVars="evars",t.externalId="exid",t.fpComponents="fpc",t.flashVersion="fl",t.globalId="gid",t.hitType="ht",t.hitId="hid",t.iframe="if",t.interactionType="it",t.interactionX="ix",t.interactionY="iy",t.interactionXPath="ixp",t.interactionOffsetX="iox",t.interactionOffsetY="ioy",t.interactionIsButton="iib",t.interactionButtonText="ibt",t.interactionButtonMatchSelector="ibms",t.interactionFormEmail="ife",t.interactionFormPhone="ifp",t.isNewSession="ins",t.javaEnabled="je",t.keyword="kw",t.language="l",t.pageViewId="pid",t.perfCustom="pc",t.perfDomLoaded="pdl",t.perfLoadCompleted="plc",t.perfRequestStart="prs",t.perfResponseEnd="pre",t.perfTagInit="pti",t.perfTagLoaded="ptl",t.pluginVersions="pv",t.props="props",t.providerId="prid",t.referrer="rf",t.resent="rsn",t.resolution="rs",t.retailerId="rid",t.scenario="sc",t.sdId="sdid",t.semMatchType="smt",t.sessionId="sid",t.targetId="tgid",t.timestamp="ts",t.timezone="tz",t.timezoneOffset="tzo",t.title="t",t.url="u",t.topUrl="tu",t.userId="uid",t.version="v",t.viewportSize="vp",t.xdImport="xd",t.incomingAdId="sda_adid",t.incomingCampaign="sda_campaign",t.incomingCampaignType="sda_campaign_type",t.incomingCampaignName="sda_campaign_name",t.incomingChannel="sda_channel",t.incomingDigAdAdId="sda_digadid",t.incomingDigAdCid="sda_digadcid",t.incomingDigAdKeyword="sda_digadkeyword",t.incomingDigAdLocation="sda_location",t.incomingDigAdPlacement="sda_placement",t.incomingDigAdPosition="sda_position",t.incomingDigAdProvider="sda_digadprov",t.incomingKeyword="sda_keyword",t.incomingTrace="sda_trace",t.incomingCrossDomainInfo="sda_xdinfo",t.incomingPlugins="sda_plugins",t.incomingReferrer="sda_referrer",t.incomingDebug="sda_debug",t.incomingSemMatchType="sda_matchtype",t.incomingTargetId="sda_targetid",t.DO_NOT_PUBLISH="__DO_NOT_PUBLISH__"},94:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.md5=void 0;var n=function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,n,r,i,o,a){return t((s=t(t(n,e),t(i,a)))<<(d=o)|s>>>32-d,r);var s,d}function r(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)}function i(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)}function o(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)}function a(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)}function s(e,n){var s,d,c,u,l;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var p=1732584193,g=-271733879,f=-1732584194,m=271733878;for(s=0;s<e.length;s+=16)d=p,c=g,u=f,l=m,p=r(p,g,f,m,e[s],7,-680876936),m=r(m,p,g,f,e[s+1],12,-389564586),f=r(f,m,p,g,e[s+2],17,606105819),g=r(g,f,m,p,e[s+3],22,-1044525330),p=r(p,g,f,m,e[s+4],7,-176418897),m=r(m,p,g,f,e[s+5],12,1200080426),f=r(f,m,p,g,e[s+6],17,-1473231341),g=r(g,f,m,p,e[s+7],22,-45705983),p=r(p,g,f,m,e[s+8],7,1770035416),m=r(m,p,g,f,e[s+9],12,-1958414417),f=r(f,m,p,g,e[s+10],17,-42063),g=r(g,f,m,p,e[s+11],22,-1990404162),p=r(p,g,f,m,e[s+12],7,1804603682),m=r(m,p,g,f,e[s+13],12,-40341101),f=r(f,m,p,g,e[s+14],17,-1502002290),p=i(p,g=r(g,f,m,p,e[s+15],22,1236535329),f,m,e[s+1],5,-165796510),m=i(m,p,g,f,e[s+6],9,-1069501632),f=i(f,m,p,g,e[s+11],14,643717713),g=i(g,f,m,p,e[s],20,-373897302),p=i(p,g,f,m,e[s+5],5,-701558691),m=i(m,p,g,f,e[s+10],9,38016083),f=i(f,m,p,g,e[s+15],14,-660478335),g=i(g,f,m,p,e[s+4],20,-405537848),p=i(p,g,f,m,e[s+9],5,568446438),m=i(m,p,g,f,e[s+14],9,-1019803690),f=i(f,m,p,g,e[s+3],14,-187363961),g=i(g,f,m,p,e[s+8],20,1163531501),p=i(p,g,f,m,e[s+13],5,-1444681467),m=i(m,p,g,f,e[s+2],9,-51403784),f=i(f,m,p,g,e[s+7],14,1735328473),p=o(p,g=i(g,f,m,p,e[s+12],20,-1926607734),f,m,e[s+5],4,-378558),m=o(m,p,g,f,e[s+8],11,-2022574463),f=o(f,m,p,g,e[s+11],16,1839030562),g=o(g,f,m,p,e[s+14],23,-35309556),p=o(p,g,f,m,e[s+1],4,-1530992060),m=o(m,p,g,f,e[s+4],11,1272893353),f=o(f,m,p,g,e[s+7],16,-155497632),g=o(g,f,m,p,e[s+10],23,-1094730640),p=o(p,g,f,m,e[s+13],4,681279174),m=o(m,p,g,f,e[s],11,-358537222),f=o(f,m,p,g,e[s+3],16,-722521979),g=o(g,f,m,p,e[s+6],23,76029189),p=o(p,g,f,m,e[s+9],4,-640364487),m=o(m,p,g,f,e[s+12],11,-421815835),f=o(f,m,p,g,e[s+15],16,530742520),p=a(p,g=o(g,f,m,p,e[s+2],23,-995338651),f,m,e[s],6,-198630844),m=a(m,p,g,f,e[s+7],10,1126891415),f=a(f,m,p,g,e[s+14],15,-1416354905),g=a(g,f,m,p,e[s+5],21,-57434055),p=a(p,g,f,m,e[s+12],6,1700485571),m=a(m,p,g,f,e[s+3],10,-1894986606),f=a(f,m,p,g,e[s+10],15,-1051523),g=a(g,f,m,p,e[s+1],21,-2054922799),p=a(p,g,f,m,e[s+8],6,1873313359),m=a(m,p,g,f,e[s+15],10,-30611744),f=a(f,m,p,g,e[s+6],15,-1560198380),g=a(g,f,m,p,e[s+13],21,1309151649),p=a(p,g,f,m,e[s+4],6,-145523070),m=a(m,p,g,f,e[s+11],10,-1120210379),f=a(f,m,p,g,e[s+2],15,718787259),g=a(g,f,m,p,e[s+9],21,-343485551),p=t(p,d),g=t(g,c),f=t(f,u),m=t(m,l);return[p,g,f,m]}function d(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function l(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return d(s(c(e),8*e.length))}(l(e))}function g(e,t){return function(e,t){var n,r,i=c(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=s(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=s(o.concat(c(t)),512+8*t.length),d(s(a.concat(r),640))}(l(e),l(t))}return function(e,t,n){return t?n?g(t,e):u(g(t,e)):n?p(e):u(p(e))}}();t.md5=function(e,t,r){return n(e,t,r)}},370:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setCaptureUnhandledMessages=t.clearUnhandledMessages=t.reprocessUnhandledMessages=t.removeListener=t.addListener=t.initialize=void 0;var r=n(364),i=[],o={},a=!0;function s(e){if(e.data&&e.data.type){var t=o[e.data.type];t?t(e):a&&i.push(e)}}function d(){i=[]}t.initialize=function(){r.addEvent(window,"message",s)},t.addListener=function(e,t){o[e]=t},t.removeListener=function(e){void 0!==o[e]&&delete o[e]},t.reprocessUnhandledMessages=function(){if(0!==i.length){var e=i.slice(0);d();for(var t=0;t<e.length;t++)s(e[t])}},t.clearUnhandledMessages=d,t.setCaptureUnhandledMessages=function(e){a=e}},673:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getAll=t.add=t.clear=t.isEnabled=void 0;var r=n(373),i=n(10),o=n(790),a=n(648),s=null;function d(){if(null===s){var e=o.isSupported();s=e}return s}function c(){return o.getObject(r.pagePublishHistory)||{}}function u(e){o.setObject(r.pagePublishHistory,e)}t.isEnabled=d,t.clear=function(){d()&&u([])},t.add=function(e){if(d()){var t=function(e){var t={};for(var n in i){var r=i[n];void 0!==e[r]&&(t[n]=e[r])}var o=function(e){return e=(e||"").toLowerCase().replace(/\./g,"/")};return t.eVars=t.eVars?a.stringToDictionary(t.eVars,o,null):{},t.props=t.props?a.stringToDictionary(t.props,o,null):{},t.perfCustom=t.perfCustom?a.stringToDictionary(t.perfCustom):{},t}(e),n=c();return n.push(t),u(n),t}return null},t.getAll=function(){return d()?c():[]}},275:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Plugin=void 0;var n=function(){function e(){this.priority=1,this.initialized=!1}return e.prototype.init=function(e){this.commandProcessor=e.commandProcessor,this.state=this.commandProcessor.getState(),this.pluginName&&this.pluginVersion&&(this.state.pluginVersions[this.pluginName]=this.pluginVersion)},e.prototype.debug=function(e){if(e){e+="";var t=this.state.dbg||"";t&&(e=t+","+e),e.length>100&&(e=e.substring(0,100)),this.state.dbg=e}},e}();t.Plugin=n},831:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.waitForLoad=t.getPlugin=t.registerPlugin=void 0;var r=n(364),i={},o={};function a(e){return e=e.toLowerCase(),i[e]}t.registerPlugin=function(e,t){r.debug(e+" plugin loaded."),t&&(e=e.toLowerCase(),i[e]=t);var n=o[e];if(n){clearTimeout(n.timer);var s=a(e);n.callback(s),delete o[e]}},t.getPlugin=a,t.waitForLoad=function(e,t,n){e=e.toLowerCase(),o[e]={callback:t,timer:setTimeout((function(){var n=a(e);t(n)}),n)}}},828:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getProps=t.setProp=t.getProp=void 0,t.getProp=function(e,t){var n=(t=(t||"").toString()).toLowerCase();return t=e.propNames[n],e.props[t]},t.setProp=function(e,t,n){var r=(t=(t=(t||"").toString()).replace(/\//g,".")).toLowerCase();void 0===e.propNames[r]?e.propNames[r]=t:t=e.propNames[r],e.props[t]=n,e.propsAll[t]=n},t.getProps=function(e,t){void 0===t&&(t=!0);var n=e.props;return t&&(e.props={},e.propNames={}),n}},469:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._setList=t._getList=t.removeAll=t.remove=t.add=t.isEnabled=void 0;var r=n(373),i=n(364),o=n(790),a=null;function s(){if(null===a){var e=o.isSupported();a=e}return a}function d(){return o.getObject(r.publishPacketList)||{}}function c(e){o.setObject(r.publishPacketList,e)}t.isEnabled=s,t.add=function(e,t){if(s()){var n=d();n[e]=t,c(n)}},t.remove=function(e){var t=void 0;if(s()){var n=d();void 0!==n[e]&&(t=n[e],delete n[e],c(n))}return t},t.removeAll=function(){var e=[];if(s()){var t=d(),n=i.keys(t);if(0!==n.length){for(var r=0;r<n.length;r++)e.push(t[n[r]]);c(t={})}}return e},t._getList=d,t._setList=c},648:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stringToDictionary=t.dictionaryToString=t.unescape=t.escape=void 0;var r=n(373);function i(e){return(e=(e||"")+"").replace(new RegExp("\\"+r.serializeEscapeChar,"g"),r.serializeEscapeChar+r.serializeEscapeChar)}function o(e){return e.replace(new RegExp("\\"+r.serializeEscapeChar+"(.)","g"),"$1")}t.escape=i,t.unescape=o,t.dictionaryToString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(i(n)+r.serializeEscapeChar+"2"+i(e[n]));return t.join(r.serializeEscapeChar+"1")},t.stringToDictionary=function(e,t,n){var i={};if(e){var a=e.split(r.serializeEscapeChar+"1"),s=0;for(s=0;s<a.length;s++){var d=a[s].split(r.serializeEscapeChar+"2");if(2===d.length){var c=o(d[0]),u=o(d[1]);t&&(c=t(c)),n&&(u=n(u)),i[c]=u}}}return i}},790:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._setString=t._getString=t.setString=t.getString=t.setObject=t.getObject=t.isSupported=void 0;var n=null;function r(){if(null===n){var e=!1;try{e=void 0!==window.sessionStorage&&"undefined"!=typeof JSON&&void 0!==JSON.stringify&&void 0!==JSON.parse}catch(e){}n=e}return n}function i(e){return window.sessionStorage[e]||""}function o(e,t){window.sessionStorage[e]=t||""}t.isSupported=r,t.getObject=function(e){if(r())try{var t=i(e);return JSON.parse(t||null)}catch(e){}return null},t.setObject=function(e,t){if(r())try{o(e,JSON.stringify(t||null))}catch(e){}},t.getString=function(e){if(r())try{return i(e)}catch(e){}return""},t.setString=function(e,t){if(r())try{o(e,t)}catch(e){}},t._getString=i,t._setString=o},332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropMap=t.TransformPlugin=void 0;var r=n(191),i=n(275),o=n(364),a=n(68),s=n(10),d=n(648),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype._transform=function(){var e=o.getArgs(arguments,"params");return this.params=e.params,this.props=null,this.eVars=null,this.onTransform(),this.props&&this.props.getIsChanged()&&this.updateState("propsAll",this.props.getChanges()),this.eVars&&this.eVars.getIsChanged()&&this.updateState("eVarsAll",this.eVars.getChanges()),!1},t.prototype.updateState=function(e,t){if(t){this.state[e]||(this.state[e]={});for(var n=this.state[e],r=t.adds,i=r.length,o=0;o<i;o++){var a=r[o][0],s=r[o][1];n[a]=s}for(i=(r=t.changes).length,o=0;o<i;o++){a=r[o][0],r[o][1],s=r[o][2];n[a]=s}for(i=(r=t.removes).length,o=0;o<i;o++){a=r[o][0],r[o][1];delete n[a]}}},t.prototype.get=function(e,t){void 0===t&&(t=!0);var n=o.trim((this.params[e]||"").toString());return!0===t&&(n=n.toLowerCase()),n},t.prototype.set=function(e,t){t=(t||"").toString(),this.params[e]=t},t.prototype.getProps=function(){return this.props||(this.props=this.getPropsInternal(s.props)),this.props},t.prototype.getEVars=function(){return this.eVars||(this.eVars=this.getPropsInternal(s.eVars)),this.eVars},t.prototype.setDoNotPublish=function(e){void 0===e&&(e=!0),e?this.params[s.DO_NOT_PUBLISH]="1":void 0!==this.params[s.DO_NOT_PUBLISH]&&delete this.params[s.DO_NOT_PUBLISH]},t.prototype.getDoNotPublish=function(){return void 0!==this.params[s.DO_NOT_PUBLISH]},t.prototype.copyProps=function(e){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r],s=this.parsePropCopyItemName(i.to),d=s.collection.find(s.name);if(!d||!d.normalizedValue||i.overwriteIfExists)for(var c="string"==typeof i.from?[i.from]:i.from,u=0;u<c.length;u++){var l=this.parsePropCopyItemName(c[u]),p=l.collection.get(l.name,!1)||i.defaultValue||"";if(p||i.copyIfEmpty){s.collection.set(s.name,p,!1),a.default.debug&&o.debugObj({"Transform::CopyProp":{from:c[u],to:i.to,value:p}}),-1===o.arrayIndexOf(n,s.collection)&&n.push(s.collection);break}}}for(t=n.length,r=0;r<t;r++)n[r].save()},t.prototype.copyPropsToDataLayer=function(e,t){t=t||{};for(var n=e.length,r=0;r<n;r++){var i=e[r],s=i.to,d=this.parsePropCopyItemName(s),c=this.getDataLayerItem(t,s),u=d.collection.find(d.name);if(!c&&(!u||!u.normalizedValue)||i.overwriteIfExists)for(var l="string"==typeof i.from?[i.from]:i.from,p=0;p<l.length;p++){var g=this.parsePropCopyItemName(l[p]),f=g.collection.get(g.name,!1)||i.defaultValue||"";if(f||i.copyIfEmpty){this.setDataLayerItem(t,s,f),a.default.debug&&o.debugObj({"Transform::CopyPropToDataLayer":{from:l[p],to:i.to,value:f}});break}}}return t},t.prototype.getDataLayerItem=function(e,t){for(var n=e,r=(t=t.replace(/\//g,".")).split("."),i=r.length,o=0;o<i&&void 0!==(n=n[r[o]]);o++);return(n||"").toString()},t.prototype.setDataLayerItem=function(e,t,n){for(var r=e,i=(t=t.replace(/\//g,".")).split("."),o=i.length,a=0;a<o-1;a++)void 0===r[i[a]]&&(r[i[a]]={}),r=r[i[a]];r[i[o-1]]=(n||"").toString()},t.prototype.parsePropCopyItemName=function(e){var t=null,n=e.indexOf(".");return-1!==n&&(t="evars"===e.substring(0,n).toLowerCase().substring(0,5)?this.getEVars():this.getProps(),e=e.substring(n+1)),t||(t=this.getProps()),{collection:t,name:e}},t.prototype.getPropsInternal=function(e){return new u(this.params,e)},t}(i.Plugin);t.TransformPlugin=c;var u=function(){function e(e,t){this.isChanged=!1,this.map={},this.params=e,this.mapKey=t,this.originalValue=e[t];for(var n=d.stringToDictionary(e[t]),r=o.keys(n),i=0;i<r.length;i++){var a=r[i],s=n[r[i]],c=this.normalizeName(a),u=this.normalizeValue(s);this.map[c]={name:a,value:s,normalizedName:c,normalizedValue:u}}}return e.prototype.save=function(){for(var e={},t=o.keys(this.map),n=0;n<t.length;n++){var r=this.map[t[n]];e[r.name.replace("/",".")]=r.value}var i=d.dictionaryToString(e);i!==this.originalValue&&(this.isChanged=!0),this.params[this.mapKey]=i},e.prototype.getKeys=function(){return o.keys(this.map)},e.prototype.get=function(e,t){void 0===t&&(t=!0);var n=this.find(e);return n?t?n.normalizedValue:n.value:""},e.prototype.remove=function(e,t){void 0===t&&(t=!1);var n=this.find(e);n&&delete this.map[n.normalizedName],t&&this.save()},e.prototype.set=function(e,t,n){void 0===n&&(n=!1),t=(t||"").toString();var r=this.find(e);r?(r.value=t,r.normalizedValue=this.normalizeValue(t)):(r={name:e,normalizedName:this.normalizeName(e),value:t,normalizedValue:this.normalizeValue(t)},this.map[r.normalizedName]=r),n&&this.save()},e.prototype.find=function(e){return this.map[this.normalizeName(e)]},e.prototype.normalizeName=function(e){return o.trim(e||"").toLowerCase().replace(".","/")},e.prototype.normalizeValue=function(e){return o.trim(e||"").toLowerCase()},e.prototype.getIsChanged=function(){return this.isChanged},e.prototype.getChanges=function(){return o.diff(d.stringToDictionary(this.originalValue),d.stringToDictionary(this.params[this.mapKey]))},e}();t.PropMap=u},364:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findClickTarget=t.getNodeIndex=t.getXPath=t.bucketRelativeMousePos=t.getRelativeScrollPos=t.runSafe=t.isPageLoaded=t.isSsl=t.isSafari=t.loadScript=t.deleteCallback=t.createCallback=t.diff=t.flatten=t.uniqueArray=t.stringToBool=t.addParamsToUrl=t.attachSyncCommands=t.map=t.forEach=t.keys=t.arrayIndexOf=t.isXDInfoUrl=t.isDate=t.isArray=t.getQueryParams=t.error=t.info=t.warn=t.debugObj=t.debug=t.getArgs=t.getSDAQueue=t.getSDAName=t.getSDA=t.extend=t.trim=t.getPerfTime=t.getTimeInTicks=t.generateRandomInt=t.generateRandomId=t.generateGuid=t.generate16RandomBytes=t.isHidden=t.stopPropagation=t.preventDefault=t.restrictValueTo=t.ready=t.removeEvent=t.addEvent=void 0,t.parseRegExp=t.isIFrame=t.sendMessage=t.compareVersions=t.versionGTE=t.compareTemplateValue=t.debounce=t.getRelativeMouseAbsolutePos=t.getRelativeMouseOffsetPos=void 0;var r=n(68),i=n(373),o=n(10),a=!1;t.addEvent=function(e,t,n){try{e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}catch(e){}},t.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.ready=function(e){var t=!1,n=!0,r=window,i=r.document,o=i.documentElement,a=i.addEventListener,s=a?"addEventListener":"attachEvent",d=a?"removeEventListener":"detachEvent",c=a?"":"on",u=function(n){"readystatechange"==n.type&&"complete"!=i.readyState||(("load"==n.type?r:i)[d](c+n.type,u,!1),!t&&(t=!0)&&e.call(r,n.type||n))},l=function(){try{o.doScroll("left")}catch(e){return void setTimeout(l,50)}u("poll")};if("complete"==i.readyState)e.call(r,"lazy");else{if(!a&&o.doScroll){try{n=!r.frameElement}catch(e){}n&&l()}i[s](c+"DOMContentLoaded",u,!1),i[s](c+"readystatechange",u,!1),r[s](c+"load",u,!1)}},t.restrictValueTo=function(e,t,n){return-1!==e.indexOf(n)?n:t},t.preventDefault=function(e){e.preventDefault?e.preventDefault():window.event?window.event.returnValue=!1:e.returnValue=!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.isHidden=function(){return void 0===a&&function(){var e="hidden",t=function(t){var n=!1,r=!0,i={focus:n,focusin:n,pageshow:n,blur:r,focusout:r,pagehide:r};t=t||window.event,a=t.type in i?i[t.type]:document[e]};e in document?document.addEventListener("visibilitychange",t):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(e="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t;t({type:"visible"===document.visibilityState?"focus":"blur"})}(),a};var s=null;function d(){if(!s){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)try{var t=new Uint8Array(16);s=function(){return e.getRandomValues(t),Array.prototype.slice.call(t)}}catch(e){}if(!s){var n=new Array(16);s=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}}return s()}function c(){return u().toString(36)}function u(){var e=d();return(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]&2147483647}function l(){return 1*new Date}function p(){var e="sda",t=window[e];return t||h("Utils::getSDA - "+e+" not found."),t}function g(){return"sda"}function f(){return P()?"[IFRAME] ":""}function m(e){e&&r.default.debug&&console&&console.log&&(JSON&&JSON.stringify&&JSON.parse&&(e=JSON.parse(JSON.stringify(e))),console.log(i.debugPrefix+f(),e))}function h(e,t){console&&console.error&&(t?console.error(i.errorPrefix+f()+e,t):console.error(i.errorPrefix+f()+e))}function v(e){return e instanceof Date&&!isNaN(e.valueOf())}function y(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function b(e){if("object"==typeof e&&e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}return[]}function _(e,t){if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t);else if(e.length===+e.length)for(var n=0,r=e.length;n<r;n++)t(e[n],n,e);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i,e)}function I(e,t){for(var n=-1,r=e.nodeName.toLowerCase(),i=0;i<t.length;i++){var o=t[i];if(o.nodeName.toLowerCase()===r&&(n++,o===e))return n}return-1}function w(e,t){for(var n=e.split("."),r=t.split("."),i=n.length,o=r.length,a=0;a<i||a<o;a++){if(a>=i)return 1;if(a>=o)return-1;var s=parseInt(n[a],10),d=parseInt(r[a],10);if(s>d)return-1;if(s<d)return 1}return 0}function P(){return window.parent!==window.self}t.generate16RandomBytes=d,t.generateGuid=function(){var e=d();e[6]=15&e[6]|64,e[8]=63&e[8]|128;for(var t="",n=0;n<e.length;n++)t+=(e[n]+256).toString(16).substr(1);return t.substring(0,8)+"-"+t.substring(8,12)+"-"+t.substring(12,16)+"-"+t.substring(16,20)+"-"+t.substring(20,32)},t.generateRandomId=c,t.generateRandomInt=u,t.getTimeInTicks=l,t.getPerfTime=function(){var e=window.performance;if(e&&e.now)return e.now();if(e.timing){var t=e.timing.navigationStart;if(t)return l()-t}return 0},t.trim=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},t.extend=function e(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=Array.prototype.slice.call(arguments,1),o=0;o<i.length;o++)if(i[o])for(var a in i[o])i[o][a]&&i[o][a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=i[o][a]:(t[a]=t[a]||{},e(t[a],i[o][a])):t[a]=i[o][a];return t},t.getSDA=p,t.getSDAName=g,t.getSDAQueue=function(){var e=p(),t=null;return e&&((t=e.q)||(t=e.q=[])),t},t.getArgs=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={},i={};"object"==typeof(e=Array.prototype.slice.call(e||[],0))[e.length-1]&&(i=e[e.length-1],e=e.slice(0,e.length-1));for(var o=0;o<t.length;o++)r[t[o]]=i[t[o]]||e[o];return r},t.debug=function(e){e&&r.default.debug&&console&&console.log&&console.log(i.debugPrefix+f()+e)},t.debugObj=m,t.warn=function(e){e&&console&&console.warn&&console.warn(i.debugPrefix+f()+e)},t.info=function(e){e&&console&&(console.info?console.info(i.debugPrefix+f()+e):console.log&&console.log(i.debugPrefix+f()+e))},t.error=h,t.getQueryParams=function(e){for(var t,n=/\+/g,r=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(n," "))},o=[window.location.search.substring(1),window.location.hash.substring(1)],a={},s=0;s<o.length;s++)for(var d=o[s];t=r.exec(d);){var c=i(t[1]);e&&(c=e(c)),a[c]=i(t[2])}return a},t.isArray=function(e){return void 0!==Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},t.isDate=v,t.isXDInfoUrl=function(e){return new RegExp("(\\?|\\#|\\&)"+o.incomingCrossDomainInfo+"=").test(e)},t.arrayIndexOf=y,t.keys=b,t.forEach=_,t.map=function(e,t){var n=[];return null==e?n:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(_(e,(function(e,r,i){n.push(t(e,r,i))})),n)},t.attachSyncCommands=function(e){e.getLinkerUrl=function(t,n){var r="";return e.sync("getLinkerUrl",t,n,(function(e){return r=e})),r},e.linkByPost=function(t,n){e.sync("linkByPost",t,n)},e.link=function(t,n){e.sync("link",t,n)}},t.addParamsToUrl=function(e,t,n){var r,i=document.createElement("a");return i.href=e,t&&(r=(r=i.search)?r+"&":"?",r+=t,i.search=r),n&&(r=(r=i.hash)?r+"&":"#",r+=n,i.hash=r),i.href},t.stringToBool=function(e){return""!==(e=(e||"").toString())&&-1!=="Y1T".indexOf(e.toUpperCase().charAt(0))},t.uniqueArray=function(e){var t=[];if(e&&0!==e.length)for(var n=0;n<e.length;n++){for(var r=!1,i=0;i<t.length;i++)if(t[i]===e[n]){r=!0;break}r||t.push(e[n])}return t},t.flatten=function e(t,n,r){var i={};if(t&&"object"==typeof t){for(var o in r=r||0,(n=n||[]).push(t),t)if(t.hasOwnProperty(o)){var a=t[o],s=typeof a;if("function"===s&&(s=typeof(a=a())),null==a&&(a=""),"number"===s&&isNaN(a)&&(a="0"),"object"===s){if(v(a))i[o]=a.getTime().toString();else if(r+1<=10&&-1===y(n,a)){var d=e(a,n,r+1);for(var c in d)d.hasOwnProperty(c)&&(i[o+"."+c]=d[c])}}else i[o]=a.toString()}}return i},t.diff=function(e,t){t=t||{};for(var n=b(e=e||{}).sort(),r=b(t).sort(),i=[],o=[],a=[],s=0,d=0,c=n.length,u=r.length;s<c&&d<u;){var l=n[s],p=r[d],g=e[l],f=t[p];l<p?(o.push([l,g]),s++):l===p?(g!==f&&a.push([p,g,f]),s++,d++):(i.push([p,f]),d++)}for(;s<c;){g=e[l=n[s]];o.push([l,g]),s++}for(;d<u;){f=t[p=r[d]];i.push([p,f]),d++}return{adds:i,removes:o,changes:a}},t.createCallback=function(e){var t="_cb"+c(),n="window['_SDA']['"+t+"']",r=function(){delete window["_SDA"][t]},i=function(){r(),e.apply(null,arguments)};return window["_SDA"][t]=i,{name:n,func:i,remove:r}},t.deleteCallback=function(e){var t=e.lastIndexOf("[");if(-1!==t){var n=e.indexOf("'",t+2);if(-1!==n){var r=e.substring(t+2,n);window["_SDA"][r]&&delete window["_SDA"][r]}}},t.loadScript=function(e,t,n){var r=document.createElement("script");r.src=e,r.async=!0,n&&(r.onload=n),t&&(r.onerror=t),(document.body||document.getElementsByTagName("head")[0]).appendChild(r)},t.isSafari=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")},t.isSsl=function(){return"https:"===document.location.protocol},t.isPageLoaded=function(){var e=document.readyState.toString();return"complete"===e||"loaded"===e},t.runSafe=function(e,t,n){var r=null,i=!1,o=function(){r&&(clearTimeout(r),r=null)},a=function(){i=!0,o(),t()};try{r=setTimeout((function(){return a()}),n),e()}catch(e){a()}return{done:function(){return o(),!i}}},t.getRelativeScrollPos=function(){var e=0,t=0;if(document&&document.body){var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,i=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft||0,o=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0,a=Math.max(document.body.scrollWidth||0,document.documentElement.scrollWidth||0,document.body.offsetWidth||0,document.documentElement.offsetWidth||0,document.body.clientWidth||0,document.documentElement.clientWidth||0);t=(o+r)/Math.max(document.body.scrollHeight||0,document.documentElement.scrollHeight||0,document.body.offsetHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0,document.documentElement.clientHeight||0)*100,e=(i+n)/a*100;e=Math.max(Math.min(e,100),0),t=Math.max(Math.min(t,100),0),e=Math.round(10*e)/10,t=Math.round(10*t)/10}return{x:e,y:t}},t.bucketRelativeMousePos=function(e,t,n){var r=0;if(t>0){var i=Math.ceil(t/n),o=100/i,a=Math.floor(e/o);a>=i&&(a=i-1),r=o/2+o*a,r=Math.round(10*r)/10,r=Math.max(Math.min(r,100),0),isNaN(r)&&(r=0)}return r},t.getXPath=function e(t,n){void 0===n&&(n="");var r=t.parentElement;if(t.id&&"string"==typeof t.id&&!0===/^[a-z\-_0-9]+$/i.test(t.id)&&t.id.replace(/[^0-9]/g,"").length<=2&&!1===/^slideshow-/.test(t.id))return"//".concat(t.nodeName.toLowerCase(),'[@id="').concat(t.id,'"]').concat(n);if(r){var i=t.nodeName.toLowerCase();return i&&!0===/^[a-z\-_0-9]+$/i.test(i)?e(r,"/"+i+"["+(I(t,r.children)+1)+"]"+n):""}return"//html[1]"+n},t.getNodeIndex=I,t.findClickTarget=function(e){var t=null,n=0,r=0;return e||(e=window.event),e&&(n=e.offsetX,r=e.offsetY,t=e.target||e.srcElement||e.originalTarget),{el:t,x:n,y:r}},t.getRelativeMouseOffsetPos=function(e,t,n){var r=0,i=0,o=0,a=0;if(e&&e.getBoundingClientRect){var s=e.getBoundingClientRect();r=s.width,i=s.height,r&&i&&(o=t/r*100,a=n/i*100,isNaN(o)&&(o=0),isNaN(a)&&(a=0),o=Math.max(Math.min(o,100),0),a=Math.max(Math.min(a,100),0),o=Math.round(10*o)/10,a=Math.round(10*a)/10)}return{x:o,y:a,width:r,height:i}},t.getRelativeMouseAbsolutePos=function(e){var t=0,n=0;if(e||(e=window.event),document&&document.body&&e){var r=0,i=0,o=document.body.scrollWidth,a=document.body.scrollHeight;if(void 0!==e.pageX)r=e.pageX,i=e.pageY;else if(void 0!==e.clientX){var s=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft||0,d=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0;r=e.clientX+s,i=e.clientY+d}o>0&&(t=100*r/o),a>0&&(n=100*i/a),t=Math.max(Math.min(t,100),0),n=Math.max(Math.min(n,100),0),t=Math.round(10*t)/10,n=Math.round(10*n)/10}return{x:t,y:n}},t.debounce=function(e,t){var n=null;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n&&clearTimeout(n),n=setTimeout((function(){n=null,e(r)}),t)}},t.compareTemplateValue=function(e,t){return e===t},t.versionGTE=function(e){return w(e,i.version)>=0},t.compareVersions=w,t.sendMessage=function(e,t){t&&t.postMessage&&(m({SendMessage:{message:e}}),t.postMessage(e,"*"))},t.isIFrame=P,t.parseRegExp=function(e,t,n){if(e){if("/"===e[0]){var r=e.lastIndexOf("/");if(r>0){var i=e.substr(1,r-1),o=e.substr(r+1);return new RegExp(i,o)}}return new RegExp(e,t||n||"i")}}},358:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.dataLayer=t.tagServerUrl=t.scriptUrl=t.scenario=t.clientId=t.version=t.build=t.getSessionId=t.registerPlugin=void 0;var r=n(370),i=n(364),o=n(373),a=n(831),s=n(927),d=n(68),c=n(488);n(332),setTimeout((function(){var e="_SDA::StartCount";if(window[e]=window[e]||0,window[e]++,1===window[e]){r.initialize();var t=i.getSDAQueue(),n=i.getSDAName(),o=null;for(window[n]=function(){o.sd(Array.prototype.slice.call(arguments))},(o=new s.Loop).insert(["init"]);0!==t.length;){var a=t.shift();o.push(a)}var d=i.getSDA();i.attachSyncCommands(d),o.sdSync()}else console&&console.error&&console.error("SDA.js loaded more than once.")}),0),t.registerPlugin=function(e,t){a.registerPlugin(e,t)},t.getSessionId=function(){return c.readSessionCookie().id},t.build=o.build,t.version=o.version,t.clientId=o.clientId,t.scenario=o.scenario,t.scriptUrl=o.scriptUrl,t.tagServerUrl=o.tagServerUrl,t.dataLayer=d.default.dataLayer,t.debug=d.default.debug}},e=>{var t,n=(t=358,e(e.s=t));(window._SDA=window._SDA||{}).core=n}]);