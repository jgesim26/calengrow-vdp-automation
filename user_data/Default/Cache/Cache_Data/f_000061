!function(){if(null!==document.querySelector('script[src*="d2v1gjawtegg5z.cloudfront.net/assets"]'))return!1;var e=document.referrer;if(e&&-1!==e.indexOf("robots.txt"))return!1;for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++)if(t[n].src&&-1!==t[n].src.indexOf(".mxpnl.com/libs")){!0;break}const a="https://d2v1gjawtegg5z.cloudfront.net/sokal_mp.min.js";!function(e,t){if(!t.__SV){var n=window;try{var r,i,o,s=n.location,c=s.hash;r=function(e,t){return(i=e.match(RegExp(t+"=([^&]*)")))?i[1]:null},c&&r(c,"state")&&(o=JSON.parse(decodeURIComponent(r(c,"state"))),"mpeditor"===o.action&&(n.sessionStorage.setItem("_mpcehash",c),history.replaceState(o.desiredHash||"",e.title,s.pathname+s.search)))}catch(d){}var p,l;window.mixpanel=t,t._i=[],t.init=function(e,n,a){function r(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var i=t;for(void 0!==a?i=t[a]=[]:a="mixpanel",i.people=i.people||[],i.toString=function(e){var t="mixpanel";return"mixpanel"!==a&&(t+="."+a),e||(t+=" (stub)"),t},i.people.toString=function(){return i.toString(1)+".people (stub)"},p="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),l=0;l<p.length;l++)r(i,p[l]);t._i.push([e,n,a])},t.__SV=1.2,(n=e.createElement("script")).type="text/javascript",n.async=!0,n.src=void 0!==a?a:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(r=e.getElementsByTagName("script")[0]).parentNode.insertBefore(n,r)}}(document,window.mixpanel||[]),mixpanel.init("2f2c9ef8c2e9dc7b36d84600a169086e",{api_host:"https://dqyub94bwd45.cloudfront.net",loaded:function(){var e=new Event("mixpanelLoaded");document.dispatchEvent(e)}},"wsmp")}(),function(){var e={init:function(){j$(document).on("ws3ptrkVDP",e.appendVDP),j$(document).on("ws3ptrkNewVDP",e.appendNewVDP),j$(document).on("ws3ptrkUsedVDP",e.appendUsedVDP),j$(document).on("ws3ptrkLEAD",e.appendLeads),j$(document).on("ws3ptrkHAD",e.appendHAD),j$(document).on("inStoreVisit",e.appendIS),j$(document).on("ws3ptrkVisit",e.appendVisit),j$(document).on("ws3ptrkPageView",e.appendPageView),e.trackDailyVisitor(),ws3ptrk.pixelPageViewEnabled&&e.prependPixel("page_view")},trackDailyVisitor:function(){var t=1/24*(24-(new Date).getHours());wsCookies.get("dailyVisitor")||(e.prependPixel("unique_visitor_daily"),wsCookies.set("dailyVisitor",1,{expires:t}))},appendVDP:function(){e.prependPixel("vdp_view")},appendNewVDP:function(){e.prependPixel("new_vdp_view")},appendUsedVDP:function(){e.prependPixel("used_vdp_view")},appendLeads:function(){e.prependPixel("form_submission")},appendHAD:function(){e.prependPixel("hours_and_directions_view")},appendSR:function(){e.prependPixel("page_view")},appendVisit:function(){e.prependPixel("site_visit")},appendIS:function(){e.prependPixel("in_store_visit")},appendPageView:function(){e.prependPixel("page_view")},prependPixel:function(t){var n=5e3;setTimeout(function(){window.wsTrackingPixels?"page_view"==t?j$("body").append(e.subTtdPixelParams(wsTrackingPixels[t])):j$("body").append(wsTrackingPixels[t]):setTimeout(e.prependPixel(t),n)},n)},subTtdPixelParams:function(t){if(!t||!t.length)return t;if(t.includes("{TTD_PAGE_TYPE}")){let n=t;return n=(n=(n=(n=(n=n.replace("{TTD_PAGE_TYPE}",e.parseTtdParamValue("pageType"))).replace("{TTD_CONDITION}",e.parseTtdParamValue("condition"))).replace("{TTD_MAKE}",e.parseTtdParamValue("make"))).replace("{TTD_MODEL}",e.parseTtdParamValue("model"))).replace("{TTD_TRIM}",e.parseTtdParamValue("trim"))}return t},parseTtdParamValue:function(e){if(ws3ptrk.pageValues&&ws3ptrk.pageValues[e]&&ws3ptrk.pageValues[e].length){const t="condition"===e?ws3ptrk.newOrUsed(ws3ptrk.pageValues[e]):ws3ptrk.pageValues[e];return encodeURIComponent(t)}return""}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof wsTrackingPixels||!wsTrackingPixels.amazon_tag_id||0===wsTrackingPixels.amazon_tag_id.length||"undefined"==typeof amzn)return!1;e.viewEvent(),j$(document).on("ws3ptrkVDP",e.vdpEvent),j$(document).on("ws3ptrkSRP",e.srpEvent),j$(document).on("ws3ptrkLEAD",e.leadsEvent),j$(document).on("ws3ptrkHAD",e.hadEvent)},viewEvent:function(){amzn("setRegion","NA"),amzn("addTag",wsTrackingPixels.amazon_tag_id),amzn("trackEvent","PageView")},srpEvent:function(){amzn("trackEvent","SRP View")},vdpEvent:function(){amzn("trackEvent","VDP View")},leadsEvent:function(){amzn("trackEvent","Form Submission")},hadEvent:function(){amzn("trackEvent","Hours and Directions")}};document.addEventListener("ws3ptrkReady",e.init)}(),function(e){var t=!1;if("undefined"==typeof requirejs&&"function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,a=window.Cookies=e();a.noConflict=function(){return window.Cookies=n,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(n){function a(t,r,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},a.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(k){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var p in i)i[p]&&(c+="; "+p,!0!==i[p]&&(c+="="+i[p]));return document.cookie=t+"="+r+c}t||(o={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,m=0;m<l.length;m++){var v=l[m].split("="),_=v.slice(1).join("=");'"'===_.charAt(0)&&(_=_.slice(1,-1));try{var u=v[0].replace(d,decodeURIComponent);if(_=n.read?n.read(_,u):n(_,u)||_.replace(d,decodeURIComponent),this.json)try{_=JSON.parse(_)}catch(k){}if(t===u){o=_;break}t||(o[u]=_)}catch(k){}}return o}}return a.set=a,a.get=function(e){return a.call(a,e)},a.getJSON=function(){return a.apply({json:!0},[].slice.call(arguments))},a.defaults={},a.remove=function(t,n){a(t,"",e(n,{expires:-1}))},a.withConverter=t,a}return t(function(){})}),function(){var e={init:function(){if("undefined"==typeof wsTrackingPixels)return!1;wsTrackingPixels&&wsTrackingPixels.facebook_pixel_ids&&wsTrackingPixels.facebook_pixel_ids.length>0&&(e.facebookPageView(),j$(document).on("ws3ptrkFacebookSSE",function(t){e.trackFacebookServerSide(t.detail)}))},trackFacebookServerSide:function(t){t&&t.event_name&&j$.each(wsTrackingPixels.facebook_pixel_ids,function(n,a){e.pushServerSideEvent(e.buildFacebookServerSidePayload(t,a))})},facebookPageView:function(){e.trackFacebookServerSide({event_name:"PageView",event:{}})},buildFacebookServerSidePayload:function(t,n){const{event_name:a,event:r}=t;return{event_name:a,event:r,ip:ws3ptrk.visitorIp(),user_agent:navigator.userAgent,fbc:wsCookies.get("_fbc"),fbp:wsCookies.get("_fbp"),url:window.location.href,vendor:"facebook",client_id:n,event_id:e.uuidv4()}},pushServerSideEvent:async function(t){try{const a=await fetch(e.SSELUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Error: "+a.status)}catch(n){console.error("Failed to send event",n)}},uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},SSELUrl:"https://o4tx6ang9h.execute-api.us-east-1.amazonaws.com/production/events"};document.addEventListener("ws3ptrkReady",e.init)}();var wsVendor,wsClient,wsCookies=Cookies.noConflict(),ipApiUrl="https://pro.ip-api.com/json/?key=Wby6zeBrLXhQakt",ws3pUseAscTracking="www.nucarmazdanewcastle.com"===window.location.host;!function(e){"use strict";function t(){e.uetq=e.uetq||[];var t={pixelPageViewEnabled:!0,setup:function(){if("undefined"==typeof jQuery){var e=document.createElement("script");e.src="//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.min.js",document.head.insertBefore(e,document.head.firstChild),setTimeout(function(){t.startTracking()},5e3)}else{if(null!==document.querySelector('script[src*="d2v1gjawtegg5z.cloudfront.net/assets"]'))return!1;t.startTracking()}},startTracking:function(){e.j$=jQuery,wsClient=t.domainName(),"undefined"==typeof mixpanel||!0!==mixpanel.wsmp.__loaded?document.addEventListener("mixpanelLoaded",function(){t.verifyTraffic(1)}):t.verifyTraffic(1)},verifyTraffic:function(e){if(t.checkIpInfoCookie())return!1;var n=2,a=ipApiUrl+"&fields=status,countryCode,org,hosting,proxy,query,as",r=new XMLHttpRequest;r.open("GET",a),r.timeout=500,r.onload=function(){t.onVerifyTrafficSuccess(e,n,JSON.parse(r.response))},r.onerror=function(){e<=n?t.verifyTraffic(e+1):t.addPixelScript()},r.ontimeout=function(){e<=n?t.verifyTraffic(e+1):t.addPixelScript()},r.send()},onVerifyTrafficSuccess:function(e,n,a){if(a.status&&"success"===a.status){var r={country:a.countryCode,hosting:a.hosting,proxy:a.proxy,ip:a.query,as:a.as},i=t.isTrafficIgnored(r);wsCookies.set("ws-visitor-ip-data",JSON.stringify(r),{expires:1e4}),i?mixpanel.wsmp.register({$ignore:!0}):(mixpanel.wsmp.track("Visitor IP Tracked",r),t.addPixelScript())}else e<=n?t.verifyTraffic(e+1):(mixpanel.wsmp.track("Visitor IP Not Tracked"),t.addPixelScript())},checkIpInfoCookie:function(){var e=wsCookies.get("ws-visitor-ip-data");if(e){var n=JSON.parse(e);if(n){return t.isTrafficIgnored(n)?mixpanel.wsmp.register({$ignore:!0}):t.addPixelScript(),!0}}return!1},isTrafficIgnored:function(e){var n=!1;return"true"!==t.getParamVal("3p_debug_mode")&&(e.country&&"US"!==e.country&&(n=!0),e.hosting&&(n=!0),n)},addPixelScript:function(){var e=document.createElement("script"),n='img[src*="insight.adsrvr.org"][height="1"][width="1"] { position: absolute; left: -10000px; }',a=document.createElement("style");document.head.insertBefore(a,document.head.lastChild),a.appendChild(document.createTextNode(n));var r=Date.parse(new Date)+"a";e.src="//d18zm77o7qzu1y.cloudfront.net/3p-tracking-pixels/"+t.domainName()+".js?date="+r,document.head.insertBefore(e,document.head.lastChild);var i=0,o=setInterval(function(){("undefined"!=typeof wsTrackingPixels||i>20)&&(t.addAmazonTags(),t.vendorReady(),clearInterval(o)),i++},100)},updateUserIP:function(){try{fetch("https://api64.ipify.org",{},{method:"GET",headers:{"User-Agent":"ipify lookup",Accept:"application/json","Content-Type":"application/json",Origin:t.domainName(),"Access-Control-Request-Method":"GET","Access-Control-Request-Headers":"content-type"}}).then(e=>e.text()).then(function(e){mixpanel.wsmp.people.set({$ip:e}),mixpanel.wsmp.people.union("IP Addresses",e)})}catch(e){console.log(e)}},trackVisitorLocation:function(){if("https:"!=e.location.protocol)return!1;"geolocation"in navigator&&-1==location.search.substr(1).indexOf("agree_redirect")&&navigator.geolocation.getCurrentPosition(function(e){var n=e.coords.latitude,a=e.coords.longitude;mixpanel.wsmp.track("Visitor Location Registered",{lat:n,lng:a,$latitude:n,$longitude:a,map_url:"https://www.google.com/maps/search/?api=1&query="+n+","+a}),mixpanel.wsmp.register({$latitude:n,$longitude:a}),mixpanel.wsmp.people.set_once({$latitude:n,$longitude:a}),mixpanel.wsmp.people.union("Locations",n+","+a),t.checkLocationForStoreVisit(n,a)})},checkLocationForStoreVisit:function(e,n){var a=wsTrackingPixels.coords;if(a===undefined)return!1;var r=a.lat,i=a.lng;if(r.length&&i.length){t.calcRadDistance(r,i,e,n,"M")<.189&&(mixpanel.wsmp.track("In Store Visit"),mixpanel.wsmp.people.set_once("First In Store Visit",new Date),mixpanel.wsmp.people.set("Last In Store Visit",new Date),j$(document).trigger("inStoreVisit"))}},calcRadDistance:function(e,t,n,a,r){if(e==n&&t==a)return 0;var i=Math.PI*e/180,o=Math.PI*n/180,s=t-a,c=Math.PI*s/180,p=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos(c);return p>1&&(p=1),p=60*(p=180*(p=Math.acos(p))/Math.PI)*1.1515,"K"==r&&(p*=1.609344),"N"==r&&(p*=.8684),p},vendorReady:function(){j$("script[src*='worktrucksolutions']").length>0&&(t.pixelPageViewEnabled=!1);var e=new Event("ws3ptrkReady");document.dispatchEvent(e)},eventScore:function(e){var t={"Website Visit":1,"Search Results Page View":5,"Hours and Directions Page View":20,"Vehicle Detail Page View":10,"Form Submission":30,"In Store Visit":60};return t[e]===undefined?0:t[e]},incrementScore:function(e){var n=t.eventScore(e);n>0&&mixpanel.wsmp.people.increment("traffic_score",n)},trackCampaignsAndSessions:function(){if(t.loadSokalSyncPixel(),e.location.href.indexOf("utm_source")>-1&&"organic"!==t.getParamVal("utm_medium")){wsCookies.set("campaignVisit",1,{expires:1});var n={"landing-page":e.location.href};n=t.appendAdNetworkClickIds(n),mixpanel.wsmp.track("Ad Campaign Hit",n),mixpanel.wsmp.people.append(n)}if(!wsCookies.get("siteVisit")){if("undefined"==typeof asc_datalayer)var a=!1;else a=!0;mixpanel.wsmp.track("Website Visit",{"landing-page":e.location.href,asc_tracking_enabled:a}),t.incrementScore("Website Visit"),t.trackVisitorLocation(),j$(document).trigger("ws3ptrkVisit")}var r=1/48;if(wsCookies.set("siteVisit",1,{expires:r}),wsCookies.get("campaignVisit")&&t.changePhoneNumber(),location.search.substr(1).includes("agree_redirect")){var i="https://agreeform.com?mp_id="+mixpanel.wsmp.get_distinct_id()+"&"+location.search.substr(1);e.location.href=i}j$("#smartpixSrc").length>0&&t.loadPixel(),t.catchEmails(),t.catchPhones(),t.trackServiceBehavior(),t.updateUserIP()},appendAdNetworkClickIds:function(e){return t.getParamVal("gclid").length&&(e.gclid=t.getParamVal("gclid")),t.getParamVal("msclkid").length&&(e.msclkid=t.getParamVal("msclkid")),t.getParamVal("fbclid").length&&(e.fbclid=t.getParamVal("fbclid")),e},trackServiceBehavior:function(){e.location.pathname.indexOf("service")>-1&&mixpanel.wsmp.track("Service Page View")},catchEmails:function(){j$(document).on("input","input",function(){t.validEmail(j$(this).val())&&(mixpanel.wsmp.people.set({$email:j$(this).val()}),mixpanel.wsmp.people.append({emails:j$(this).val()}),t.identify(),wsCookies.get("ws-audit")&&console.log(j$(this).val()))})},catchPhones:function(){j$(document).on("input","input",function(){t.validPhone(j$(this).val())&&(mixpanel.wsmp.people.set({phone:j$(this).val()}),mixpanel.wsmp.people.append({phones:j$(this).val()}),t.identify(),wsCookies.get("ws-audit")&&console.log(j$(this).val()))})},validPhone:function(e){return/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(e)},validEmail:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},changePhoneNumber:function(){var e;if("undefined"!=typeof trackedPhoneNumber&&"undefined"!=typeof originalPhones){var n=originalPhones.split(", "),a=n.length;for(e=0;e<a;e++){var r=n[e].replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i=new RegExp(r,"g");if(Number((document.documentElement.outerHTML.match(i)||[]).length)>1){var o=document.body.childNodes;t.replaceInNodes(o,i,trackedPhoneNumber)}}j$('a[href^="tel:"]').attr("href","tel:"+trackedPhoneNumber)}},replaceInNodes:function(e,n,a){for(var r=0;r<e.length;r++){var i=e[r];if(i.attributes!==undefined)for(var o=i.attributes,s=0;s<o.length;s++)o[s].nodeValue=o[s].nodeValue.replace(n,a);3==i.nodeType&&(i.data=i.data.replace(n,a)),1==i.nodeType&&t.replaceInNodes(i.childNodes,n,a)}},loadPixel:function(){var e=mixpanel.wsmp.get_distinct_id(),t=document.createElement("IMG"),n=j$("#smartpixSrc").val();t.src=n+"?uuid="+e,t.style.display="none",document.body.appendChild(t)},loadSokalSyncPixel:function(){if("undefined"==typeof mixpanel)return!1;try{var e=mixpanel.wsmp.get_distinct_id()}catch(a){e=""}if(0===e.length)return!1;var t=document.createElement("IMG"),n="https://sync.gosokal.com/mp_sync_pix.png";t.src=n+"?uuid="+e,t.height="1",t.width="1",t.style.position="absolute",t.style.left="-10000px","undefined"!=typeof wsTrackingPixels&&"undefined"!=typeof wsTrackingPixels.advertiser_id&&wsTrackingPixels.advertiser_id.length>0&&(t.src+="&adv_id="+wsTrackingPixels.advertiser_id),document.body.appendChild(t)},registerUser:function(n){if(void 0===wsClient)return!1;var a;"undefined"!=typeof wsTrackingPixels&&wsTrackingPixels&&(a=wsTrackingPixels.advertiser_id),mixpanel.wsmp.register({client:wsClient,vendor:n,audit:t.registerAudit(),advertiser_id:a}),wsVendor=n,mixpanel.wsmp.people.set_once({client:wsClient,vendor:n,advertiser_id:a,"Initial Source":t.getParamVal("utm_source"),"Initial Medium":t.getParamVal("utm_medium"),"Initial Campaign":t.getParamVal("utm_campaign")}),"/"!==e.location.pathname||ws3pUseAscTracking||t.pushEvents({ga_event_category:"Home Page View",ga_event_action:"Home Page View",ga_event_label:"",ga_event_value:1,mp_event_name:"",mp_event_props:{},track_mp:!1}),t.identify(),t.trackCampaignsAndSessions()},registerAudit:function(){return!(!t.checkForUrlString("auditCode")&&!wsCookies.get("ws-audit"))&&(wsCookies.set("ws-audit",1,{expires:1/24}),!0)},domainName:function(){var t=e.location.hostname;return t.substring(t).replace("www.","")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},newOrPreowned:function(e){return e.toLowerCase().indexOf("new")>=0?"New":"Pre-Owned"},newOrUsed:function(e){if(void 0===e)return"";var t=e.toLowerCase();return"n"===t?"New":"u"===t?"Used":t.indexOf("new")>=0?"New":"Used"},pushEvents:function(n){dataLayer.push({event:"gaTriggerEvent",gaEventCategory:n.ga_event_category,gaEventAction:n.ga_event_action,gaEventLabel:n.ga_event_label,gaEventValue:t.calcValue(n.ga_event_value)}),e.uetq.push({ec:n.ga_event_category,ea:n.ga_event_action,el:n.ga_event_label}),n.track_mp&&(mixpanel.wsmp.track(n.mp_event_name,n.mp_event_props),t.incrementScore(n.mp_event_name),t.updateProfile(n.mp_event_name,n.mp_event_props)),wsCookies.get("ws-audit")&&(console.log(n.mp_event_name),console.log(n.mp_event_props))},updateProfile:function(e,n){var a=wsCookies.get("ws-visitor-info"),r=a?JSON.parse(a):{};"Form Submission"===e&&(mixpanel.wsmp.people.set_once({"First Form Submission":new Date}),mixpanel.wsmp.people.set({client:wsClient,"Last Form Submission":new Date}),mixpanel.wsmp.people.append({"Forms Submitted":n.form_title}),mixpanel.wsmp.people.set_once({uuid:wsCookies.get("ws-known-visitor"),client:wsClient,"First Seen":new Date}),Object.keys(r).length>0&&(wsCookies.get("ws-update-profile")||wsCookies.set("ws-update-profile",1,{expires:1e4}),mixpanel.wsmp.people.set_once(r))),t.storeUserProperties(n)},storeUserProperties:function(e){j$.each(Object.keys(e),function(t,n){mixpanel.wsmp.people.append(n+"s of interest",e[n]),mixpanel.wsmp.people.set("Last "+n+"s of interest",e[n])}),t.identify()},identify:function(){wsCookies.get("ws-known-visitor")&&mixpanel.wsmp.identify()},setCustProps:function(e){var n=j$("input[name*='"+e.$first_name+"'], input[name*='"+e.$last_name+"'], input[name*='"+e.$email+"'], input[name*='"+e.phone+"']");j$(document).on("change",n,function(n){if(n.target.value.length){wsCookies.get("ws-visitor-info")||wsCookies.set("ws-visitor-info",{});var a,r=JSON.parse(wsCookies.get("ws-visitor-info")),i=j$("input[name*='"+e.phone+"']");j$(n.target).is(i)&&i.length>1&&i.val().length<10?i.each(function(){a+=j$(this).val()}):a=n.target.value;var o=t.getKeyByValue(e,n.target.name);void 0!==o&&(r[o]=a,wsCookies.set("ws-visitor-info",r,{expires:1e4}))}})},getKeyByValue:function(e,t){var n=Object.keys(e);return n[n.map(function(t){return e[t]}).indexOf(t)]},calcValue:function(e){var t=parseInt(e);return isNaN(t)&&(t=0),t},checkForUrlString:function(t){return e.location.href.indexOf(t)>-1},getParamVal:function(t){var n=e.location.href,a=(t=t.replace(/[\[\]]/g,"\\$&"),new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(n));return a&&a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):""},getPathVal:function(){var t=e.location.href,n=new RegExp("\\/"+t+"\\/([^/]+)\\/").exec(t);return n&&n[1]?decodeURIComponent(n[1].replace(/\+/g," ")):""},getInputValue:function(e){if(0===e.length)return"";e.val()},trackDirections:function(){t.pushEvents({ga_event_category:"Hours & Directions",ga_event_action:"Hours and Directions",ga_event_label:"Hours and Directions",mp_event_name:"Hours and Directions Page View",mp_event_props:{},track_mp:!0}),j$(document).trigger("ws3ptrkHAD")},trackEvent:function(e,n,a,r){void 0===r&&(r=!0);try{e(a)}catch(o){var i=t.mpEventName(n);console.log("3PA: "+o.message),mixpanel.wsmp.track(i,{"incomplete-event":!0})}r&&j$(document).trigger("ws3ptrk"+n.toUpperCase())},mpEventName:function(e){return"vdp"===e?"Vehicle Detail Page View":"srp"===e?"Search Results Page View":"lead"===e?"Form Submission":void 0},trackFacebookLead:function(e,n,a,r,i,o){var s={vendor:"Sokal"};if(void 0!==e){var c={content_type:"vehicle",content_ids:[e],make:n,model:a,year:r,state_of_vehicle:i,vin:e,postal_code:o};$.extend(s,c)}s=t.removeEmptyPairs(s),t.trackFbq("Lead",s)},trackFacebookVdp:function(e,n,a,r,i,o){var s={content_type:"vehicle",content_ids:[e],make:n,model:a,year:r,state_of_vehicle:i,postal_code:o,vendor:"Sokal"};s=t.removeEmptyPairs(s),t.trackFbq("ViewContent",s)},trackFacebookSrp:function(e,n,a,r,i,o){var s={content_type:"vehicle",content_ids:e,make:n,model:a,year:r,state_of_vehicle:i,postal_code:o,vendor:"Sokal"};s=t.removeEmptyPairs(s),t.trackFbq("Search",s)},trackFbq:function(e,n){fbq&&"undefined"!=typeof fbq&&(wsTrackingPixels.facebook_pixel_ids.length>0?j$.each(wsTrackingPixels.facebook_pixel_ids,function(t,a){fbq("trackSingle",a,e,n)}):fbq("track",e,n)),t.triggerFacebookSSE(e,n)},triggerFacebookSSE:function(e,t){var n=new CustomEvent("ws3ptrkFacebookSSE",{detail:{event_name:e,event:t}});document.dispatchEvent(n)},visitorIp:function(){const e=wsCookies.get("ws-visitor-ip-data");if(e){let t=JSON.parse(e);return t?t.ip:""}return""},addAmazonTags:function(){"undefined"!=typeof wsTrackingPixels&&wsTrackingPixels.amazon_tag_id&&wsTrackingPixels.amazon_tag_id.length>0&&(!function(t,n,a){(a=a||{}).id=t,e.versaTagObj={$:[],onready:function(e){this.$.push(e)}};var r=n.getElementsByTagName("script")[0],i=n.createElement("script");i.options=a,i.async=!0,i.src="https://secure-ds.serving-sys.com/SemiCachedScripts/ebOneTag.js?id="+t,i.options=a,r.parentNode.insertBefore(i,r)}("1073746979",document,{dataLayer:"SizmekDataLayer"}),t=e,n=document,a=void 0,r=void 0,i=void 0,t.amzn||(t.amzn=i=function(){t.amzn.q.push([arguments,(new Date).getTime()])},i.q=[],i.version="0.0",(a=n.createElement("script")).src="https://c.amazon-adsystem.com/aat/amzn.js",a.id="amzn-pixel",a.async=!0,(r=n.getElementsByTagName("script")[0]).parentNode.insertBefore(a,r)));var t,n,a,r,i},removeEmptyPairs:function(e){return j$.each(e,function(t){e[t]&&e[t].length||delete e[t]}),e},measurementIdPresent:function(){return!!e.wsTrackingPixels&&!!e.wsTrackingPixels.ga4_measurement_id},buildGa4Event:function(e,n){var a=t.normalizeGa4Values(n);switch(e){case"asc_itemlist_pageview":return{event:e,event_owner:"sokal",page_type:"itemlist",item_results:a.count,itemlist_type:a.inventoryType,item_condition:a.inventoryType,item_model:a.model,item_year:a.year,item_make:a.make,item_variant:"",item_color:"",page_number:"",items:a.vins&&a.vins.length?a.vins.map(e=>({item_id:e})):[]};case"asc_item_pageview":return{event:e,event_owner:"sokal",page_type:"item",item_id:a.vin,item_number:a.stock,item_price:"",item_condition:a.inventoryType,item_year:a.year,item_make:a.make,item_model:a.model,item_variant:"",item_color:"",item_type:a.inventoryType,item_category:"",item_fuel_type:"",item_inventory_date:""};case"view_item":return{currency:"USD",value:0,items:[{item_id:a.vin,item_name:a.name,item_brand:a.make,item_category:a.model,item_category2:a.year,item_category3:a.stock,item_variant:a.inventoryType,item_list_name:"Vehicle Detail Page View"}]};case"view_item_list":return{item_list_name:"Search Results Page View",items:a.vins&&a.vins.length?a.vins.map(e=>({item_id:e})):[]};case"asc_form_submission":return{event:e,event_owner:"sokal",page_type:"item",comm_type:"sales",comm_outcome:"crm_update",submission_id:"",element_text:"",form_name:a.formName,form_type:"custom",item_id:a.vin,item_number:a.stock,item_price:"",item_condition:a.inventoryType,item_year:a.year,item_make:a.make,item_model:a.model,item_variant:"",item_color:"",item_type:a.inventoryType,item_category:"",item_fuel_type:"",item_inventory_date:""};case"asc_pageview":return{event:e,event_owner:"sokal",page_type:"directions"};default:return null}},pushGa4Event:function(n,a){e.gtag&&t.measurementIdPresent()&&a&&(a.send_to=e.wsTrackingPixels.ga4_measurement_id,gtag("event",n,a))},normalizeGa4Values:function(e){var t={};for(let a in e){var n=e[a];n||(n=""),"string"==typeof n?("inventoryType"===a&&(n="New"===n?"new":"used"),t[a]=n.toLowerCase()):t[a]=n}return t},setPageValues:function(e){t.pageValues={pageType:e.pageType,condition:e.condition,make:e.make,model:e.model,trim:e.trim}}};return t}"undefined"==typeof ws3ptrk&&(e.ws3ptrk=t())}(window),setTimeout(ws3ptrk.setup,100);var ws3pAscPollTimer,ws3pAscUseAscTracking="www.nucarmazdanewcastle.com"===window.location.host,ws3pAscTimeOutValue=500,ws3pAscEventsArrLength=null,ws3pAscPrevEventsArrLength=0,ws3pAscKnownAscFormSubmissionEvents=["asc_form_submission","asc_form_submission_parts","asc_form_submission_sales","asc_form_submission_sales_appt","asc_form_submission_service","asc_form_submission_service_appt"],ws3pAscTrackedAscEvents=["asc_pageview","asc_item_pageview","asc_itemlist_pageview",...ws3pAscKnownAscFormSubmissionEvents];!function(){function e(){var e={setupAsc:function(){ws3pAscUseAscTracking&&(ws3pAscPollTimer=setInterval(e.checkAscEvents,ws3pAscTimeOutValue))},checkAscEvents:function(){if(null===ws3pAscEventsArrLength&&window.asc_datalayer&&window.asc_datalayer.events)return ws3pAscEventsArrLength=window.asc_datalayer.events.length,ws3ptrk.registerUser(e.getAffiliation()),e.buildAscEvents();if(null!==ws3pAscEventsArrLength)return(ws3pAscEventsArrLength=window.asc_datalayer.events.length)>ws3pAscPrevEventsArrLength?e.buildAscEvents():void 0},buildAscEvents:function(){const t=window.asc_datalayer.events.slice(ws3pAscPrevEventsArrLength,ws3pAscEventsArrLength);if(ws3pAscPrevEventsArrLength=ws3pAscEventsArrLength,t.length>0){var n=t.reduce((t,n)=>{const a=e.parseAscEvent(n);return a&&t.push(a),t},[]);n.length&&e.sendAscEvents(n)}},parseAscEvent:function(t){if(t&&t.event&&t.event.length&&ws3pAscTrackedAscEvents.includes(t.event)){const p=t.args||t;if(!p)return;if("asc_pageview"===t.event&&["contact","directions"].includes(p.page_type))return void e.trackDirectionsFromAsc();if("asc_pageview"===t.event&&"home"===p.page_type)return{ga_event_category:"Home Page View",ga_event_category:"Home Page View",ga_event_action:"Home Page View",ga_event_label:"",ga_event_value:1,mp_event_name:"",mp_event_props:{},track_mp:!1};if("asc_itemlist_pageview"===t.event){const t=p.itemlist_type&&"new"===p.itemlist_type?"New Inventory":"Used Inventory",n=p.item_results,a=p.item_make,r=p.item_model,i=p.item_year;return{ga_event_category:"Search Results Page View",ga_event_action:t,ga_event_label:n,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,model:r,year:i,query:t},fb_props:{event_type:"srp",vin:e.getVins(),make:a,model:r,year:i,type:ws3ptrk.newOrUsed(t),zip:e.getZip()},track_mp:!0,track_fb:!0}}if("asc_item_pageview"===t.event){const t=p.item_condition,n=p.item_make,a=p.item_model,r=p.item_year,i=p.item_number,o=p.item_id,s=p.item_color;return{ga_event_category:"VDP Views "+ws3ptrk.newOrPreowned(t)+" Inventory",ga_event_action:n+" "+a,ga_event_label:i,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:n,model:a,inventorytype:ws3ptrk.newOrUsed(t),year:r,stock:i,vin:o,color:s},fb_props:{event_type:"vdp",vin:o,make:n,model:a,year:r,type:ws3ptrk.newOrUsed(t),zip:e.getZip()},track_mp:!0,track_fb:!0}}if(ws3pAscKnownAscFormSubmissionEvents.includes(t.event)){var n=p.form_name||p.event_owner,a=p.item_condition,r=p.item_year,i=p.item_make,o=p.item_model,s=p.item_number,c=p.item_id;return{ga_event_category:"Lead Form Submissions",ga_event_action:n,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:n,make:i,model:o,inventorytype:ws3ptrk.newOrUsed(a),year:r,stock:s,vin:c},fb_props:{event_type:"form_submission",vin:c,make:i,model:o,year:r,type:ws3ptrk.newOrUsed(a),zip:e.getZip()},track_mp:!0,track_fb:!0}}}},sendAscEvents:function(e){e.forEach(e=>{if(window.uetq.push({ec:e.ga_event_category,ea:e.ga_event_action,el:e.ga_event_label}),dataLayer.push({event:"gaTriggerEvent",gaEventCategory:e.ga_event_category,gaEventAction:e.ga_event_action,gaEventLabel:e.ga_event_label,gaEventValue:ws3ptrk.calcValue(e.ga_event_value)}),e.track_mp&&(mixpanel.wsmp.track(e.mp_event_name,e.mp_event_props),ws3ptrk.incrementScore(e.mp_event_name),ws3ptrk.updateProfile(e.mp_event_name,e.mp_event_props)),e.track_fp){const{fb_props:{vin:t,make:n,model:a,year:r,type:i,zip:o,event_type:s}}=e;s&&"vdp"===s&&ws3ptrk.trackFacebookVdp(t,n,a,r,i,o),s&&"srp"===s&&ws3ptrk.trackFacebookSrp(t,n,a,r,i,o),s&&"form_submission"===s&&ws3ptrk.trackFacebookLead(t,n,a,r,i,o)}wsCookies.get("ws-audit")&&(console.log(e.mp_event_name),console.log(e.mp_event_props))})},getVins:function(){if(window.asc_datalayer.items){const{items:e}=window.asc_datalayer;return e.map(e=>e.item_id)}if(window.asc_datalayer[0]&&window.asc_datalayer[0].items){return window.asc_datalayer[0].items.map(e=>e.item_id)}return[]},getZip:function(){return"undefined"!=typeof sdPageVars?sdPageVars.page_vars.dealerZipCode:""},getAffiliation:function(){return window.asc_datalayer.affiliation?window.asc_datalayer.affiliation:window.asc_datalayer[0]&&window.asc_datalayer[0].affiliation?window.asc_datalayer[0].affiliation:window.location.host},trackDirectionsFromAsc:function(){e.sendAscEvents([{ga_event_category:"Hours & Directions",ga_event_action:"Hours and Directions",ga_event_label:"Hours and Directions",mp_event_name:"Hours and Directions Page View",mp_event_props:{},track_mp:!0}]),j$(document).trigger("ws3ptrkHAD")},logMixPanelPeople:function(){}};return e}"undefined"==typeof ws3pAscTracking&&(window.ws3pAscTracking=e())}(window),ws3pAscUseAscTracking&&(document.addEventListener("ws3ptrkReady",ws3pAscTracking.setupAsc),document.addEventListener("beforeunload",ws3pAscTracking.checkAscEvents)),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;(document.querySelector('script[src*="overfuel"]')||document.querySelector('link[href*="overfuel"]')||"undefined"!=typeof window.dealerId)&&e.overfuelEvents()},overfuelEvents:function(){ws3ptrk.registerUser("overfuel"),e.listenToDataLayer(),(ws3ptrk.checkForUrlString("contact-us")||ws3ptrk.checkForUrlString("directions"))&&ws3ptrk.trackDirections()},listenToDataLayer:function(){var t=dataLayer.push;dataLayer.push=function(){return Array.prototype.slice.call(arguments).forEach(function(t){t&&t[1]&&("asc_item_pageview"!==t[1]||e.isTracked("vdp",t[2].item_id)?"asc_itemlist_pageview"!==t[1]||e.isTracked("srp",t[2].event_id)?"asc_form_submission"!==t[1]||e.isTracked("form",t[2].event_id)?"asc_form_engagement"!==t[1]||e.isTracked("engagement",t[2].event_id)?"asc_cta_interaction"!==t[1]||e.isTracked("cta",t[2].event_id)||e.overfuelTrackCtaInteraction(t[2]):e.overfuelTrackFormEngagement(t[2]):e.overfuelTrackForm(t[2]):e.overfuelTrackSearch(t[2]):e.overfuelTrackVdp(t[2]))}),t.apply(this,arguments)},dataLayer.forEach(function(t){t&&t[1]&&("asc_item_pageview"!==t[1]||e.isTracked("vdp",t[2].item_id)?"asc_itemlist_pageview"!==t[1]||e.isTracked("srp",t[2].event_id)?"asc_form_submission"!==t[1]||e.isTracked("form",t[2].event_id)?"asc_form_engagement"!==t[1]||e.isTracked("engagement",t[2].event_id)?"asc_cta_interaction"!==t[1]||e.isTracked("cta",t[2].event_id)||e.overfuelTrackCtaInteraction(t[2]):e.overfuelTrackFormEngagement(t[2]):e.overfuelTrackForm(t[2]):e.overfuelTrackSearch(t[2]):e.overfuelTrackVdp(t[2]))})},overfuelTrackVdp:function(t){if(!t)return!1;var n=t.item_condition||"Used",a=t.item_year,r=t.item_make,i=t.item_model,o=t.item_number,s=t.item_id,c=t.item_color,p="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",l=r+" "+i;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(n)+"VDP"),ws3ptrk.pushEvents({ga_event_category:p,ga_event_action:l,ga_event_label:o,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:r,model:i,inventorytype:ws3ptrk.newOrUsed(n),year:a,stock:o,vin:s,color:c},
track_mp:!0}),ws3ptrk.trackFacebookVdp(s,r,i,a,ws3ptrk.newOrUsed(n),e.getZip(t))},overfuelTrackSearch:function(t){if(!t)return!1;var n=t.item_results||"",a=t.item_make,r=t.item_model,i=t.item_year,o=t.item_condition||"",s="",c=[];o&&(s+=" "+o),i&&(s+=" "+i),a&&(s+=" "+a),r&&(s+=" "+r),0===(s=s.trim()).length&&(s=ws3ptrk.checkForUrlString("/new-inventory")?"New Inventory":ws3ptrk.checkForUrlString("/used-inventory")?"Used Inventory":"All Inventory"),j$("[data-vin]").each(function(){var e=j$(this).data("vin");e&&e.length&&c.push(e)}),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:s,ga_event_label:n,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,model:r,year:i,query:s},track_mp:!0}),ws3ptrk.trackFacebookSrp(c,a,r,i,o,e.getZip(t))},overfuelTrackForm:function(t){if(!t)return!1;var n=t.form_name||"Form Submission",a=t.item_condition,r=t.item_year,i=t.item_make,o=t.item_model,s=t.item_number,c=t.item_id;ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:n,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:n,make:i,model:o,inventorytype:a,year:r,stock:s,vin:c},track_mp:!0}),c&&c.length&&ws3ptrk.trackFacebookLead(c,i,o,r,ws3ptrk.newOrUsed(a),e.getZip(t))},overfuelTrackFormEngagement:function(t){if(!t)return!1;var n=t.form_type||"Form Engagement",a=t.item_condition,r=t.item_year,i=t.item_make,o=t.item_model,s=t.item_number,c=t.item_id;ws3ptrk.pushEvents({ga_event_category:"Form Interaction",ga_event_action:n,ga_event_label:"",ga_event_value:2,mp_event_name:"Form Interaction",mp_event_props:{form_type:n,make:i,model:o,inventorytype:a,year:r,stock:s,vin:c},track_mp:!0}),c&&c.length&&ws3ptrk.trackFacebookLead(c,i,o,r,ws3ptrk.newOrUsed(a),e.getZip(t))},overfuelTrackCtaInteraction:function(e){if(!e)return!1;var t=e.element_text||"CTA Click",n=e.item_condition,a=e.item_year,r=e.item_make,i=e.item_model,o=e.item_number,s=e.item_id;ws3ptrk.pushEvents({ga_event_category:"CTA Interaction",ga_event_action:t,ga_event_label:"",ga_event_value:1,mp_event_name:"CTA Interaction",mp_event_props:{element_text:t,make:r,model:i,inventorytype:n,year:a,stock:o,vin:s},track_mp:!0})},isTracked:function(e,t){if(!t)return!1;var n="ws3ptrk_df_"+e+"_"+t;return!!window[n]||(window[n]=!0,!1)},getZip:function(e){if(e&&e.item_location){var t=e.item_location.match(/\d{5}/);if(t)return t[0]}return""}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){e.loadImage()},loadImage:function(){var t=new Image(1,1);t.onload=function(){try{e.events()}catch(t){console.log(t)}},t.src="https://match.adsrvr.org/track/cmf/generic?ttd_pid=ldvkl6h&ttd_tpi=1",j$("body").append(t)},events:function(){var e=mixpanel.wsmp.get_distinct_id();if(!e)return!1;var t="https://sync.gosokal.com/decode_uuid?uuid="+e;j$.get(t).done(function(e){var t={};e.tradedesk_id&&(t.tduid=e.tradedesk_id),e.csid&&(t.csid=e.csid),j$.isEmptyObject(t)||(mixpanel.wsmp.people.set(t),mixpanel.wsmp.register(t))})}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$('script[src*="inticeinc.com"], script[src*="inticeflux.com"]').length>0&&e.inticeEvents()},inticeEvents:function(){ws3ptrk.registerUser("intice"),"undefined"!=typeof window.inticeDealerVDP&&ws3ptrk.trackEvent(e.trackVdp,"vdp"),e.isSrp()&&ws3ptrk.trackEvent(e.trackSrp,"srp"),j$("form").on("submit",function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)}),(ws3ptrk.checkForUrlString("contact")||ws3ptrk.checkForUrlString("directions"))&&ws3ptrk.trackDirections()},isSrp:function(){return window.location.href.includes("/inventory")||window.location.href.includes("/search")||window.location.href.includes("/vehicles")},trackVdp:function(){var e=window.inticeDealerVDP,t=e.item_condition||"Used",n=e.item_year,a=e.item_make,r=e.item_model,i=e.item_number,o=e.item_id,s=e.item_color,c="VDP Views "+ws3ptrk.newOrPreowned(t)+" Inventory",p=a+" "+r;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(t)+"VDP"),ws3ptrk.pushEvents({ga_event_category:c,ga_event_action:p,ga_event_label:i,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:t,year:n,stock:i,vin:o,color:s},track_mp:!0}),ws3ptrk.trackFacebookVdp(o,a,r,n,ws3ptrk.newOrUsed(t),"");var l={vin:o,make:a,model:r,year:n,inventoryType:t,stock:i};ws3ptrk.pushGa4Event("view_item",ws3ptrk.buildGa4Event("view_item",l)),ws3ptrk.pushGa4Event("asc_item_pageview",ws3ptrk.buildGa4Event("asc_item_pageview",l))},trackSrp:function(){var e="Vehicle Search";ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:e,ga_event_label:"",ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{query:e},track_mp:!0})},trackForm:function(e){var t=j$(e).attr("id")||j$(e).attr("class")||"Contact Form",n=window.inticeDealerVDP||{},a=n.item_make,r=n.item_model,i=n.item_year,o=n.item_number,s=n.item_id;ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:t,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t,make:a,model:r,year:i,stock:o,vin:s},track_mp:!0});var c={formName:t,make:a,model:r,inventoryType:n.item_condition,year:i,stock:o,vin:s};ws3ptrk.pushGa4Event("asc_form_submission",ws3ptrk.buildGa4Event("asc_form_submission",c))}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;(j$('a[href*="www.dealerinspire.com"]').length||j$('script[src*="dealerinspire.com"]').length)&&e.dealerInspireEvents()},dealerInspireEvents:function(){ws3ptrk.registerUser("dealerinspire"),"object"==typeof di_lead_data&&ws3ptrk.trackEvent(e.dealerInspireTrackForm,"lead"),ws3ptrk.checkForUrlString("-vehicles")&&ws3ptrk.trackEvent(e.dealerInspireTrackSearch,"srp"),(j$(".details-page-row").length||j$("main").length>0&&j$("main").hasClass("vdp"))&&ws3ptrk.trackEvent(e.dealerInspireTrackVdp,"vdp"),(ws3ptrk.checkForUrlString("contact-us")||ws3ptrk.checkForUrlString("directions")||ws3ptrk.checkForUrlString("contactusform"))&&ws3ptrk.trackDirections()},dealerInspireTrackVdp:function(){if("undefined"!=typeof DealerInspireInventory)var t=DealerInspireInventory.options.vehicle;else if("undefined"!=typeof inventory_localization)t=inventory_localization.vehicle;if(void 0===t)t=inventory_localization.vehicle;var n=t.type,a=t.year,r=t.make,i=t.model,o=t.stock,s=t.vin,c=t.ext_color,p="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",l=r+" "+i;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(n)+"VDP"),ws3ptrk.pushEvents({ga_event_category:p,ga_event_action:l,ga_event_label:o,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:r,model:i,inventorytype:ws3ptrk.newOrUsed(n),year:a,stock:o,vin:s,color:c},track_mp:!0}),ws3ptrk.trackFacebookVdp(s,r,i,a,ws3ptrk.newOrUsed(n),e.getZip())},dealerInspireTrackSearch:function(){var t=DealerInspireInventory.options.shortcode;void 0===t&&(t={});var n="undefined"!=typeof t.make?t.make[0]:null,a="undefined"!=typeof t.model?t.model[0]:null,r="undefined"!=typeof t.type?t.type[0]:null,i=DealerInspireInventory.url_params;i||(i={});var o="undefined"!=typeof i["year[]"]?i["year[]"][0]:null;a=a||("undefined"!=typeof i["model[]"]?i["model[]"][0]:null),n=n||("undefined"!=typeof i["make[]"]?i["make[]"][0]:null),o&&(r+=" "+o),n&&(r+=" "+n),a&&(r+=" "+a),r&&0!==r.replace(/ /g,"").length||(r=ws3ptrk.checkForUrlString("new")?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:r,ga_event_label:j$(".count").text(),ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:n,model:a,year:o,query:r},track_mp:!0});var s=j$(".vehicle-overview").map(function(){return j$(".vehicle-overview").attr("id")});ws3ptrk.trackFacebookSrp(s,n,a,o,ws3ptrk.newOrUsed(r),e.getZip())},dealerInspireTrackForm:function(){var t=di_lead_data.form_name,n=di_lead_data.type,a=di_lead_data.model_year,r=di_lead_data.make,i=di_lead_data.model,o=di_lead_data.stock,s=di_lead_data.vin;ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:t,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t,make:r,model:i,inventorytype:n,year:a,stock:o,vin:s},track_mp:!0}),mixpanel.wsmp.people.set_once({$first_name:di_lead_data["first name"],$last_name:di_lead_data["last name"],$email:di_lead_data.email,phone:di_lead_data.phone}),ws3ptrk.trackFacebookLead(s,r,i,a,n,e.getZip())},getZip:function(){if("undefined"!=typeof sdPageVars)return sdPageVars.page_vars.dealerZipCode}};"www.nucarmazdanewcastle.com"!==window.location.host&&document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$("link[href*='remorainc.com']").length&&e.remoraEvents()},remoraEvents:function(){ws3ptrk.registerUser("remora"),j$(".form-modal-button").click(function(){jQuery(document).trigger("formModalOpened")}),j$(document).on("formModalOpened",function(){setTimeout(function(){j$('input[type="submit"]').click(function(t){ws3ptrk.trackEvent(e.remoraTrackForm,"lead",t.currentTarget)})},2e3)}),j$("#vehicle_list").length&&ws3ptrk.trackEvent(e.remoraTrackSearch,"srp"),j$("#vehicle_details").length&&ws3ptrk.trackEvent(e.remoraTrackVdp,"vdp")},remoraTrackSearch:function(){var e=j$("[data-key=year]").data("value"),t=j$("[data-key=make]").data("value"),n=j$("[data-key=model]").data("value"),a="";e&&(a+=" "+e),t&&(a+=" "+t),n&&(a+=" "+n),a!==undefined&&0!==a.replace(/ /g,"").length||(a="new"==j$("[data-key=type]").data("value")?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:a,ga_event_label:j$("#vehicle-count").text(),ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:t,model:n,year:e,query:a},track_mp:!0}),ws3ptrk.trackFacebookSrp(vins,t,n,e,type,"")},remoraTrackVdp:function(){var e=ws3ptrk.checkForUrlString("used")||ws3ptrk.checkForUrlString("certified")?"Used":"New",t=document.title.match(/\b\d{4}\b\s\b\w+\b\s\b\S+\b/)[0].split(" "),n=t[0],a=t[1],r=t[2],i=document.title.match(/\b\w+$/)[0],o=window.location.href.match(/\w+$/)[0];o&&(o=o.toUpperCase());var s=j$("dt:contains('Exterior:')").siblings("dd").text(),c="VDP Views "+ws3ptrk.newOrPreowned(e)+" Inventory",p=a+" "+r;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(e)+"VDP"),ws3ptrk.pushEvents({ga_event_category:c,ga_event_action:p,ga_event_label:i,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:e,year:n,stock:i,vin:o,color:s},track_mp:!0}),ws3ptrk.trackFacebookVdp(o,a,r,n,ws3ptrk.newOrUsed(e),"")},remoraTrackForm:function(e){var t=j$(e).closest(".content").siblings(".header").text();if(j$("#vehicle_details").length)var n=ws3ptrk.checkForUrlString("used")||ws3ptrk.checkForUrlString("certified")?"Used":"New",a=(c=document.title.match(/\b\d{4}\b\s\b\w+\b\s\b\S+\b/)[0].split(" "))[0],r=c[1],i=c[2],o=document.title.match(/\b\w+$/)[0],s=window.location.href.match(/\w+$/)[0];else if(j$("#vehicle_list").length){var c,p=j$(e).closest(".content").find(".veh-description");n=p.find("b:contains('Condition')").parent().siblings("td").text().trim(),a=(c=p.find("h4").text().match(/\b\d{4}\b\s\b\w+\b\s\b\S+\b/)[0].split(" "))[0],r=c[1],i=c[2],o=p.find("b:contains('Stock')").parent().siblings("td").text().trim(),s=p.find("img").attr("src").match(/\w{17}/)[0]}ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:t,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t,make:r,model:i,inventorytype:n,year:a,stock:o,vin:s},track_mp:!0}),s&&s.length&&ws3ptrk.trackFacebookLead(s,r,i,a,ws3ptrk.newOrUsed(n),"")},remoraFormFields:function(){return{$first_name:"first_name",$last_name:"last_name",$email:"email",phone:"phone_number"}}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$('script[src*="dealereprocess"]').length&&e.dealerEProcessEvents()},dealerEProcessEvents:function(){ws3ptrk.registerUser("dealereprocess"),ws3ptrk.checkForUrlString("/search/")&&ws3ptrk.trackEvent(e.dealerEProcessTrackSearch,"srp"),ws3ptrk.checkForUrlString("/auto/")&&ws3ptrk.trackEvent(e.dealerEProcessTrackVdp,"vdp"),ws3ptrk.checkForUrlString("directions")&&ws3ptrk.trackDirections(),j$(document).on("submit","form",function(t){ws3ptrk.trackEvent(e.dealerEProcessTrackForm,"lead",t.currentTarget)})},dealerEProcessTrackForm:function(e){var t=j$(e).closest("#modal_form_container").find("title").text();ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:t,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t},track_mp:!0})},dealerEProcessTrackVdp:function(){var t=$("details-overview_title:contains('VIN')");if("undefined"!=typeof asc_datalayer)var n=asc_datalayer.events.filter(e=>"asc_item_pageview"===e.event)[0];if(void 0!==n)var a=n.item_condition,r=n.item_year,i=n.item_make,o=n.item_model,s=n.item_id,c=n.item_color;else if(t.length>0){s=t.siblings(".details-overview_data").text();if(ws3ptrk.checkForUrlString("/auto/new/"))a=ws3ptrk.newOrUsed("new");else a=ws3ptrk.newOrUsed("used")}else if(j$(".vehicle_title").length>0){var p=j$(".vehicle_title").children()[0].textContent.split(" "),l=j$(document).find(".details-overview_data")[3],d=j$(document).find(".details-overview_data")[4];a=p[0],r=p[1],i=p[2],o=p[3],s=l.textContent,c=d.textContent}else{var m=j$(".vehicle_title_h1").text().split(" ");a=m[0],r=m[1],i=m[2],o=m[3],s=j$(".features_snapshot__label:contains('VIN')").siblings(".features_snapshot__detail").text(),c=j$(".features_snapshot__label:contains('Exterior Color')").siblings(".features_snapshot__detail").text()}var v="VDP Views "+ws3ptrk.newOrPreowned(a)+" Inventory",_=i+" "+o;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(a)+"VDP"),ws3ptrk.pushEvents({ga_event_category:v,ga_event_action:_,ga_event_label:"",ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:i,model:o,inventorytype:a,year:r,vin:s,color:c},track_mp:!0}),ws3ptrk.trackFacebookVdp(s,i,o,r,ws3ptrk.newOrUsed(a),e.getZip())},dealerEProcessTrackSearch:function(){var t="",n=ws3ptrk.checkForUrlString("/new-")?"New":"Used",a="",r="",i=12,o=window.location.search;n&&"All"!==n&&(o+=" "+n),t&&"All"!==t&&(o+=" "+t),a&&"All"!==a&&(o+=" "+a),r&&"All"!==r&&(o+=" "+r),o=o.trim(),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:o,ga_event_label:i,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,model:r,year:t,query:o},track_mp:!0}),ws3ptrk.trackFacebookSrp([],a,r,t,n,e.getZip())},eProcessFormFields:function(){return{$first_name:"name_first",$last_name:"name_last",$email:"email",phone:"phone_home"}},getZip:function(){return""}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return j$(document).find('script[src*="pixelmotion"]').length>0&&e.events(),!1;"undefined"!=typeof asc_datalayer&&"pixel_motion"===asc_datalayer.affiliation&&e.events()},events:function(){ws3ptrk.registerUser("pixel_motion"),window.VDP&&window.VDP.store&&ws3ptrk.trackEvent(e.trackVdp,"vdp"),window.VLP&&window.VLP.store&&ws3ptrk.trackEvent(e.trackSrp,"srp"),ws3ptrk.checkForUrlString("location-directions")&&ws3ptrk.trackDirections(),$('.gform_button[type="submit"]').click(function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})},trackForm:function(t){const n=j$(t),a=n.parents(".modal-dialog").find(".modal-title").text(),r=n.data("vin");if(window.VDP&&window.VDP.store)var{store:{vehicle:{condition:i,make:o,model:s,stockNum:c,year:p}}}=window.VDP;if(window.VLP&&window.VLP.store){const e=window.VLP.store.vehicles[r];var{condition:i,make:o,model:s,stockNum:c,year:p}=e}ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:a,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:a,make:o,model:s,inventorytype:i,year:p,stock:c,vin:r},track_mp:!0}),r&&r.length&&ws3ptrk.trackFacebookLead(r,o,s,p,ws3ptrk.newOrUsed(i),e.getZip())},trackVdp:function(){const{store:{vehicle:{condition:t,make:n,model:a,stockNum:r,vin:i,year:o}}}=window.VDP,s=`VDP Views ${ws3ptrk.newOrPreowned(t)} Inventory`,c=`${n} ${a}`;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(t)+"VDP"),ws3ptrk.pushEvents({ga_event_category:s,ga_event_action:c,ga_event_label:r,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:n,model:a,inventorytype:t,year:o,stock:r,vin:i},track_mp:!0}),ws3ptrk.trackFacebookVdp(i,n,a,o,ws3ptrk.newOrUsed(t),e.getZip())},trackSrp:function(){const t=Object.keys(window.VLP.store.vehicles);let n="";const a=window.VLP.store.params.params,r=a.year&&a.year[0],i=a.make&&a.make[0],o=a.model&&a.model[0];let s=a.condition&&a.condition[0];void 0!==s&&0!==s.length||(s=location.pathname.indexOf("/used")>-1?"used":"new"),r&&(n+=" "+r),i&&(n+=" "+i),o&&(n+=" "+o),0===(n=n.trim()).replace(/ /g,"").length&&void 0!==s&&(n="new"===s?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:n,ga_event_label:t.length,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:i,model:o,year:r,query:n},track_mp:!0}),ws3ptrk.trackFacebookSrp(t,i,o,r,s,e.getZip())},getZip:function(){return wsTrackingPixels.zip_code}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$("img[src*='morillian']").width()>0&&e.morillianEvents()},morillianEvents:function(){ws3ptrk.registerUser("morillian"),j$("form").submit(function(t){ws3ptrk.trackEvent(e.morillianTrackForm,"lead",t.currentTarget)}),ws3ptrk.checkForUrlString("contact-us")&&ws3ptrk.trackDirections(),sdDataLayer&&sdDataLayer.vehicleDetails&&ws3ptrk.trackEvent(e.morillianTrackVdp,"vdp"),sdDataLayer&&"Vehicle Listing"===sdDataLayer.pageType&&ws3ptrk.trackEvent(e.morillianTrackSearch,"srp")},morillianTrackSearch:function(){ws3ptrk.checkForUrlString("new-inventory")?search="New Inventory":ws3ptrk.checkForUrlString("pre-owned")?search="Used Inventory":search="All Inventory",ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:search,ga_event_label:"Search Results Page View",ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{inventory_type:search},track_mp:!0})},morillianTrackVdp:function(){var e=sdDataLayer.vehicleDetails,t=e.status,n=e.year,a=e.make,r=e.model,i=e.vin,o=e.exteriorColor,s="VDP Views "+ws3ptrk.newOrPreowned(t)+" Inventory",c=a+" "+r;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(t)+"VDP"),ws3ptrk.pushEvents({ga_event_category:s,ga_event_action:c,ga_event_label:i,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:t,year:n,vin:i,color:o},track_mp:!0})},morillianTrackForm:function(e){var t=j$(e).closest('form[id*="form"]');if(0===t.length)return!1;var n=t.attr("action");sdDataLayer&&sdDataLayer.formType&&(n=sdDataLayer.formType),n||(n=sdDataLayer.pageType),ws3ptrk.checkForUrlString("register-for-updates")&&(n="Register For Updates");var a={form_title:n};sdDataLayer&&sdDataLayer.vehicleDetails&&(a={form_title:n,make:sdDataLayer.vehicleDetails.make,model:sdDataLayer.vehicleDetails.model,inventorytype:sdDataLayer.vehicleDetails.status,year:sdDataLayer.vehicleDetails.year,vin:sdDataLayer.vehicleDetails.vin}),ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:"Form Submit",ga_event_label:n,ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:a,track_mp:!0})}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$("script[src*='worktrucksolutions']").length>0&&(e.events(),j$(document).trigger("ws3ptrkPageView"))},events:function(){var t;$("#page-context-data").length>0&&(t=JSON.parse($("#page-context-data").text())),ws3ptrk.registerUser("worktrucksolutions"),j$('.contact-modal button[type="submit"]').click(function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)}),t&&t.isVDP&&ws3ptrk.trackEvent(e.trackVdp(t),"vdp"),ws3ptrk.getParamVal("filters").length>0&&ws3ptrk.trackEvent(e.trackSearch(t),"srp")},trackSearch:function(){let t="mixed";ws3ptrk.getParamVal("filters").indexOf("New")>-1?(t="new",search="New Inventory"):ws3ptrk.getParamVal("filters").indexOf("Used")>-1?(t="used",search="Used Inventory"):search="All Inventory",ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:search,ga_event_label:"Search Results Page View",ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{inventory_type:search},track_mp:!0});const n=$(".pagination__counts em").last().text()||"",a=[];j$('[id="VIN"]').each((e,t)=>a.push($(t).text()));const r=j$('.pillter[data-key="ChassisMake"]').data("text")||"",i=j$('.pillter[data-key="ChassisModel"]').data("text")||"",o=j$('.pillter[data-key="Year"]').data("text")||"";var s={count:n,vins:a,make:r,model:i,year:o,inventoryType:search};ws3ptrk.pushGa4Event("view_item_list",ws3ptrk.buildGa4Event("view_item_list",s)),ws3ptrk.pushGa4Event("asc_itemlist_pageview",ws3ptrk.buildGa4Event("asc_itemlist_pageview",s)),ws3ptrk.trackFacebookSrp(a,r,i,o,search,e.getZip()),ws3ptrk.setPageValues({pageType:"srp",make:r,model:i,condition:t})},trackVdp:function(){var t;if($("#marketing-events-data").length>0&&(t=JSON.parse($("#marketing-events-data").text())),void 0===t)return!1;var n=t.stockType,a=t.year,r=t.make,i=t.model,o=t.vin.replaceAll("&#39;",""),s=t.exteriorColor,c="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",p=r+" "+i;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(n)+"VDP"),ws3ptrk.pushEvents({ga_event_category:c,ga_event_action:p,ga_event_label:o,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:r,model:i,inventorytype:n,year:a,vin:o,color:s},track_mp:!0});var l={vin:o,make:r,model:i,year:a,inventoryType:n,stock:j$('.columns[itemprop="sku"]').text().trim()||""};ws3ptrk.pushGa4Event("view_item",ws3ptrk.buildGa4Event("view_item",l)),ws3ptrk.pushGa4Event("asc_item_pageview",ws3ptrk.buildGa4Event("asc_item_pageview",l)),ws3ptrk.trackFacebookVdp(o,r,i,a,ws3ptrk.newOrUsed(n),e.getZip()),ws3ptrk.setPageValues({pageType:"vdp",make:r,model:i,condition:n})},trackForm:function(){var t={formName:"Get Additional Savings",make:"",model:"",inventoryType:"",year:"",stock:"",vin:""};if($("#marketing-events-data").length>0){var n=JSON.parse($("#marketing-events-data").text());void 0!==n&&(t.make=n.make,t.model=n.model,t.inventoryType=n.stockType,t.year=n.year,t.stock=j$('.columns[itemprop="sku"]').text().trim()||"",t.vin=n.vin.replaceAll("&#39;",""))}ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:"Form Submit",ga_event_label:t.formName,ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t.formName,make:t.make,model:t.model,inventorytype:t.inventoryType,year:t.year,vin:t.vin},track_mp:!0}),ws3ptrk.pushGa4Event("asc_form_submission",ws3ptrk.buildGa4Event("asc_form_submission",t)),t.vin&&t.vin.length&&ws3ptrk.trackFacebookLead(vin,make,model,year,ws3ptrk.newOrUsed(type),e.getZip())},getZip:function(){return window.wsTrackingPixels.zip_code}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$('a[href*="porschedealer.com"]').length&&e.porscheEvents()},porscheEvents:function(){ws3ptrk.registerUser("porsche"),"srp"===STS.page_type&&ws3ptrk.trackEvent(e.porscheTrackSearch,"srp"),"vdp"===STS.page_type&&ws3ptrk.trackEvent(e.porscheTrackVdp,"vdp"),j$(".popup-link").click(function(){setTimeout(function(){var t=j$("iframe[name*='fancybox-frame']").contents().find('input[type="submit"]');j$(t).on("click",function(t){ws3ptrk.trackEvent(e.porscheTrackForm,"lead",t.currentTarget)})},1e4)}),j$(document).on("click",'input[type="submit"]',function(t){ws3ptrk.trackEvent(e.porscheTrackForm,"lead",t.currentTarget)})},porscheTrackSearch:function(){var e=ws3ptrk.getParamVal("max_year_range"),t=ws3ptrk.getParamVal("make"),n=ws3ptrk.getParamVal("condition"),a=ws3ptrk.getParamVal("model"),r=j$("#inventory-pager-result-counter").text().match(/\d+(?= Veh)/)[0];e&&(n+=" "+e),t&&(n+=" "+t),a&&(n+=" "+a),n!==undefined&&0!==n.replace(/ /g,"").length||(n=ws3ptrk.checkForUrlString("new")?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:n,ga_event_label:r,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:t,model:a,year:e,query:n},track_mp:!0})},porscheTrackVdp:function(){var e=STS.vehicle_data.info.is_new?"new":"used",t=STS.vehicle_data.info.year,n=STS.vehicle_data.info.make,a=STS.vehicle_data.info.model,r=STS.vehicle_data.info.stock,i=STS.vehicle_data.info.vin,o=j$("dd[itemprop='color']").text(),s="VDP Views "+ws3ptrk.newOrPreowned(e)+" Inventory",c=n+" "+a;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(e)+"VDP"),ws3ptrk.pushEvents({ga_event_category:s,ga_event_action:c,ga_event_label:r,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:n,model:a,inventorytype:e,year:t,stock:r,vin:i,color:o},track_mp:!0})},porscheTrackForm:function(e){var t=j$(e).closest("form"),n=t.find("input[name*='FormType']").val();if("vdp"===STS.page_type)var a=STS.vehicle_data.info.is_new?"new":"used",r=STS.vehicle_data.info.year,i=STS.vehicle_data.info.make,o=STS.vehicle_data.info.model,s=STS.vehicle_data.info.stock,c=STS.vehicle_data.info.vin,p=j$("dd[itemprop='color']").text();else if("srp"===STS.page_type)a=t.find("input[name='condition']").val();else n=j$(e).val();ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:n,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:n,make:i,model:o,inventorytype:a,year:r,stock:s,vin:c,color:p},track_mp:!0})},porscheFormFields:function(){return{$first_name:"first_name",$last_name:"last_name",$email:"email",phone:"phone"}}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;(j$('img[src*="app.ridemotive.com"]').length>0||j$('script[src*="app.ridemotive.com"]').length>0)&&(ws3ptrk.registerUser("motive"),e.motiveEvents())},motiveEvents:function(){e.isVdp()&&ws3ptrk.trackEvent(e.motiveTrackVdp,"vdp"),e.isSrp()&&ws3ptrk.trackEvent(e.motiveTrackSearch,"srp"),(ws3ptrk.checkForUrlString("contact")||ws3ptrk.checkForUrlString("directions")||ws3ptrk.checkForUrlString("hours"))&&ws3ptrk.trackDirections(),e.bindFormSubmissions()},isVdp:function(){var e=window.location.pathname;return null!==e.match(/^\/inventory\/\d{4}-[a-z]+-[a-z]+-[a-z0-9]+$/i)||-1!==e.indexOf("/inventory/")&&e.split("/").length>=3&&e.split("/")[2].length>10},isSrp:function(){var e=window.location.pathname;return"/inventory"===e||-1!==e.indexOf("/new-vehicles")||-1!==e.indexOf("/used-vehicles")||-1!==e.indexOf("/certified-vehicles")},getVehicleData:function(){var e={vin:null,make:null,model:null,year:null,stock:null,type:null,color:null,price:null},t=document.getElementById("__NEXT_DATA__");if(t)try{var n=JSON.parse(t.textContent);if(n.props&&n.props.pageProps&&n.props.pageProps.vehicle){var a=n.props.pageProps.vehicle;e.vin=a.vin||a.VIN,e.make=a.make||a.Make,e.model=a.model||a.Model,e.year=a.year||a.Year,e.stock=a.stock||a.stockNumber||a.Stock,e.type=a.condition||a.type||a.Type,e.color=a.exteriorColor||a.color||a.Color,e.price=a.price||a.internetPrice||a.msrp}}catch(i){}if(!e.vin){var r=window.location.pathname.split("-");r.length>=4&&(e.vin=r[r.length-1],e.year=r[1].replace("/inventory/",""),e.make=r[2],e.model=r[3])}return e.vin||(e.vin=j$("[data-vin]").attr("data-vin")||j$(".vin-value, .vin").text().trim()),e.make||(e.make=j$("[data-make]").attr("data-make")||j$(".make-value, .make").text().trim()),e.model||(e.model=j$("[data-model]").attr("data-model")||j$(".model-value, .model").text().trim()),e.year||(e.year=j$("[data-year]").attr("data-year")||j$(".year-value, .year").text().trim()),e.stock||(e.stock=j$("[data-stock]").attr("data-stock")||j$(".stock-value, .stock").text().trim()),e.type||(-1!==window.location.pathname.indexOf("new")?e.type="new":-1===window.location.pathname.indexOf("used")&&-1===window.location.pathname.indexOf("certified")||(e.type="used")),e},motiveTrackVdp:function(){var t=e.getVehicleData();if(!t.vin&&!t.make)return!1;var n=t.type||"new",a="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",r=(t.make||"")+" "+(t.model||"");j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(n)+"VDP"),ws3ptrk.pushEvents({ga_event_category:a,ga_event_action:r.trim(),ga_event_label:t.stock||"",ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:t.make,model:t.model,inventorytype:ws3ptrk.newOrUsed(n),year:t.year,stock:t.stock,vin:t.vin,color:t.color},track_mp:!0}),ws3ptrk.trackFacebookVdp(t.vin,t.make,t.model,t.year,ws3ptrk.newOrUsed(n),e.getZip())},motiveTrackSearch:function(){var t=new URLSearchParams(window.location.search),n={};try{var a=t.get("filters");a&&(n=JSON.parse(a))}catch(d){}var r=n.make||t.get("make")||"",i=n.model||t.get("model")||"",o=n.year||t.get("year")||"",s="";-1!==window.location.pathname.indexOf("new")||n.condition&&"new"===n.condition?s="New":-1===window.location.pathname.indexOf("used")&&-1===window.location.pathname.indexOf("certified")||(s="Used");var c=s;o&&(c+=" "+o),r&&(c+=" "+r),i&&(c+=" "+i),(c=c.trim())||(c="All Inventory");var p=[];j$("[data-vin]").each(function(){var e=j$(this).attr("data-vin");e&&e.length&&p.push(e)});var l=j$('.vehicle-count, .results-count, [class*="count"]').first().text().trim()||p.length;ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:c,ga_event_label:l,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:r,model:i,year:o,query:c},track_mp:!0}),ws3ptrk.trackFacebookSrp(p,r,i,o,ws3ptrk.newOrUsed(s),e.getZip())},bindFormSubmissions:function(){j$(document).on("click",'button[type="submit"], input[type="submit"], [data-action="submit"]',function(t){ws3ptrk.trackEvent(e.motiveTrackForm,"lead",t.currentTarget)}),j$(document).on("submit","form",function(t){ws3ptrk.trackEvent(e.motiveTrackForm,"lead",t.currentTarget)})},motiveTrackForm:function(t){var n=j$(t),a=n.is("form")?n:n.closest("form");if(0===a.length)return!1;var r=a.attr("name")||a.attr("id")||a.attr("data-form-name")||"Contact Form",i=e.getVehicleData(),o=a.find('[name*="first"], [name*="First"]').val(),s=a.find('[name*="last"], [name*="Last"]').val(),c=a.find('[name*="email"], [type="email"]').val(),p=a.find('[name*="phone"], [type="tel"]').val();if(!c&&!p)return!1;j$(document).trigger("ws3ptrkLEAD"),ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:r,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:r,make:i.make,model:i.model,inventorytype:i.type,year:i.year,stock:i.stock,vin:i.vin},track_mp:!0}),(o||s||c||p)&&ws3ptrk.setCustProps({$first_name:o,$last_name:s,$email:c,phone:p}),ws3ptrk.trackFacebookLead(i.vin,i.make,i.model,i.year,ws3ptrk.newOrUsed(i.type),e.getZip())},getZip:function(){var e=j$('[itemprop="postalCode"]').text().trim();return e||(e=j$('.zip, .postal-code, [class*="zip"]').first().text().trim()),e}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;"undefined"!=typeof DDC&&(ws3ptrk.registerUser("dealer.com"),e.ddcEvents())},ddcEvents:function(){ws3ptrk.checkForUrlString("formId")&&ws3ptrk.trackEvent(e.ddcTrackForm,"lead"),DDC.dataLayer.page.pageInfo.isVlp&&ws3ptrk.trackEvent(e.ddcTrackSearch,"srp"),DDC.dataLayer.page.pageInfo.isVdp&&ws3ptrk.trackEvent(e.ddcTrackVdp,"vdp"),ws3ptrk.checkForUrlString("directions")&&ws3ptrk.trackDirections()},ddcTrackSearch:function(){var t=DDC.dataLayer.page.queryFacets.year,n=DDC.dataLayer.page.queryFacets.make,a=DDC.dataLayer.page.queryFacets.search,r=DDC.dataLayer.page.queryFacets.model,i=DDC.dataLayer.vehicles.map(function(e){return e.vin}),o="";t&&(a+=" "+t),n&&(a+=" "+n),r&&(a+=" "+r),a!==undefined&&0!==a.replace(/ /g,"").length||(ws3ptrk.checkForUrlString("new")?(a="New Inventory",o="New"):(a="Used Inventory",o="Used")),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:a,ga_event_label:j$(".vehicle-count").text(),ga_event_value:3,mp_event_name:"Search Results Page View",
mp_event_props:{make:n,model:r,year:t,query:a},track_mp:!0}),ws3ptrk.trackFacebookSrp(i,n,r,t,o,e.getZip())},ddcTrackVdp:function(){var t=DDC.dataLayer.vehicles[0].newOrUsed,n=DDC.dataLayer.vehicles[0].modelYear,a=DDC.dataLayer.vehicles[0].make,r=DDC.dataLayer.vehicles[0].model,i=DDC.dataLayer.vehicles[0].stockNumber,o=DDC.dataLayer.vehicles[0].vin,s=DDC.dataLayer.vehicles[0].exteriorColor,c="VDP Views "+ws3ptrk.newOrPreowned(t)+" Inventory",p=a+" "+r;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(t)+"VDP"),ws3ptrk.pushEvents({ga_event_category:c,ga_event_action:p,ga_event_label:i,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:t,year:n,stock:i,vin:o,color:s},track_mp:!0}),ws3ptrk.trackFacebookVdp(o,a,r,n,ws3ptrk.newOrUsed(t),e.getZip())},ddcTrackForm:function(){var t=DDC.dataLayer.confirmation.formTitle,n=DDC.dataLayer.confirmation.type,a=DDC.dataLayer.confirmation.year,r=DDC.dataLayer.confirmation.make,i=DDC.dataLayer.confirmation.model;if("undefined"!=typeof DDC.dataLayer.confirmation.vehicle)var o=DDC.dataLayer.confirmation.vehicle.stockNumber;var s=DDC.dataLayer.confirmation.vin,c=DDC.dataLayer.confirmation.exteriorColor;ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:ws3ptrk.getParamVal("formId"),ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t,make:r,model:i,inventorytype:n,year:a,stock:o,vin:s,color:c},track_mp:!0}),void 0!==n&&(n=ws3ptrk.newOrUsed(n)),ws3ptrk.trackFacebookLead(s,r,i,a,n,e.getZip())},ddcFormFields:function(){return{$first_name:"contact.firstName",$last_name:"contact.lastName",$email:"contact.email",phone:"contact.phone"}},getZip:function(){return DDC.dataLayer.dealership.postalCode}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;"buynow.rideshift.com"===window.location.host&&e.trackEvents()},trackEvents:function(){ws3ptrk.checkForUrlString("search?")&&ws3ptrk.trackEvent(e.trackSearch,"srp"),ws3ptrk.checkForUrlString("details")&&ws3ptrk.trackEvent(e.trackVdp,"vdp"),j$(document).on("click","form button[type='submit']",function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})},trackForm:function(e){var t=j$(e).attr("id"),n="",a="",r="",i="",o="",s="",c="";if(vehicleData)n=vehicleData.condition,r=vehicleData.make,i=vehicleData.model,a=vehicleData.modelYear,o=vehicleData.stockNumber,s=vehicleData.vin,c=vehicleData.exteriorColor;ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:t,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t,make:r,model:i,inventorytype:n,year:a,stock:o,vin:s,color:c},track_mp:!0}),ws3ptrk.trackFacebookLead(s,r,i,a,ws3ptrk.newOrUsed(n),"")},trackSearch:function(){ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:"",ga_event_label:j$('[data-testid="search-results-count"]').text(),ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{},track_mp:!0})},trackVdp:function(){if("undefined"==typeof vehicleData)return!1;var e=vehicleData.condition,t="VDP Views "+ws3ptrk.newOrPreowned(e)+" Inventory",n=vehicleData.make,a=vehicleData.model,r=vehicleData.modelYear,i=vehicleData.stockNumber,o=vehicleData.vin,s=vehicleData.exteriorColor,c=n+" "+a;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(e)+"VDP"),ws3ptrk.pushEvents({ga_event_category:t,ga_event_action:c,ga_event_label:i,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:n,model:a,inventorytype:e,year:r,stock:i,vin:o,color:s},track_mp:!0}),ws3ptrk.trackFacebookVdp(o,n,a,r,e,"")}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;"www.firstteamauto.com"===window.location.host&&(ws3ptrk.registerUser("firstteamauto.com"),e.trackEvents())},trackEvents:function(){if(j$(".umbraco-forms-form form").length>0){j$(".umbraco-forms-form form").on("submit",function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})}ws3ptrk.checkForUrlString("search")&&ws3ptrk.trackEvent(e.trackSearch,"srp"),j$("#vehicle-detail-page").length&&ws3ptrk.trackEvent(e.trackVdp,"vdp"),ws3ptrk.checkForUrlString("locations")&&(ws3ptrk.trackDirections(),ws3ptrk.pushGa4Event("asc_pageview",ws3ptrk.buildGa4Event("asc_pageview",{})))},trackSearch:function(){var t,n=ws3ptrk.getParamVal("year"),a=ws3ptrk.getParamVal("make"),r=ws3ptrk.getParamVal("model"),i=ws3ptrk.getParamVal("condition"),o=j$(".heading .count").text().trim(),s=[];j$(".content-area .name .sr-only").each(function(e,t){var n=j$(t).text().trim().replace("VIN:","").trim();s.push(n)}),n&&(search+=" "+n),a&&(search+=" "+a),r&&(search+=" "+r),"new"===i?(search="New Inventory",t="New"):(search="Used Inventory",t="Pre-Owned"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:search,ga_event_label:o,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,model:r,year:n,query:ws3ptrk.getParamVal("query")},track_mp:!0}),ws3ptrk.trackFacebookSrp(s,a,r,n,t,e.getZip());var c={count:o,vins:s,make:a,model:r,year:n,inventoryType:t};ws3ptrk.pushGa4Event("view_item_list",ws3ptrk.buildGa4Event("view_item_list",c)),ws3ptrk.pushGa4Event("asc_itemlist_pageview",ws3ptrk.buildGa4Event("asc_itemlist_pageview",c))},trackVdp:function(){var t=j$("#vehicle-detail-page").data("vin"),n=j$('.row-line:contains("Condition")').text().trim().replace("Condition:","").trim(),a=j$(".data-column .name").text().trim().split(" "),r=a[0],i=a[1],o=a[2],s=j$('.row-line:contains("Stock")').text().trim().replace("Stock #:","").trim(),c=ws3ptrk.newOrUsed(n),p="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",l=i+" "+o;j$(document).trigger("ws3ptrk"+c+"VDP"),ws3ptrk.pushEvents({ga_event_category:p,ga_event_action:l,ga_event_label:s,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:i,model:o,inventorytype:c,year:r,stock:s,vin:t},track_mp:!0}),ws3ptrk.trackFacebookVdp(t,i,o,r,ws3ptrk.newOrUsed(n),e.getZip());var d={vin:t,make:i,model:o,year:r,inventoryType:c,stock:s};ws3ptrk.pushGa4Event("view_item",ws3ptrk.buildGa4Event("view_item",d)),ws3ptrk.pushGa4Event("asc_item_pageview",ws3ptrk.buildGa4Event("asc_item_pageview",d))},trackForm:function(){var t=j$(".umbraco-forms-form").find("form"),n=(c=new URLSearchParams(window.location.search)).get("vins"),a=t.find("input[type='submit']").attr("value"),r=j$(".vehicle-title").text().trim().split(" "),i=r[0],o=r[1],s=r[2];ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:a,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:a,make:o,model:s,year:i,vin:n},track_mp:!0}),n&&ws3ptrk.trackFacebookLead(n,o,s,i,"",e.getZip());var c={formName:a,make:o,model:s,inventoryType:"",year:i,stock:"",vin:n};ws3ptrk.pushGa4Event("asc_form_submission",ws3ptrk.buildGa4Event("asc_form_submission",c))},getZip:function(){return window.wsTrackingPixels&&window.wsTrackingPixels.zip_code?window.wsTrackingPixels.zip_code:"23321"}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$('a[href*="zdigitalauto.com"]').length&&e.zEvents()},zEvents:function(){ws3ptrk.registerUser("zimmerman"),j$("[id*='srp11list']").length>0&&ws3ptrk.trackEvent(e.zTrackSearch,"srp"),j$("#vdpbody").length&&ws3ptrk.trackEvent(e.zTrackVdp,"vdp");j$("a[onclick*='validateForm'], button[onclick*='validateForm'], a[onclick*='seymour_antelope'], button[onclick*='seymour_antelope']").click(function(t){ws3ptrk.trackEvent(e.zTrackForm,"lead",t.currentTarget)})},zTrackSearch:function(){var e=ws3ptrk.getParamVal("sort_year"),t=ws3ptrk.getParamVal("sort_make"),n=ws3ptrk.getParamVal("keyword_search"),a=ws3ptrk.getParamVal("sort_model"),r=j$("#dcondition input[type='checkbox']"),i=r.eq(1).is(":checked"),o=r.eq(2).is(":checked"),s=r.eq(3).is(":checked");e&&(n+=" "+e),t&&(n+=" "+t),a&&(n+=" "+a),n!==undefined&&0!==n.replace(/ /g,"").length||(!0===s||!0!==i&&!0!==o?n="New Inventory":!1===s&&(n="Used Inventory")),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:n,ga_event_label:"",ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:t,model:a,year:e,query:n},track_mp:!0})},zTrackVdp:function(){j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(e)+"VDP");var e=ws3ptrk.checkForUrlString("new-").length?"New":"Used",t=j$("#stocknumber").attr("value"),n=j$("#vin").attr("value"),a="VDP Views "+ws3ptrk.newOrPreowned(e)+" Inventory";ws3ptrk.pushEvents({ga_event_category:a,ga_event_action:"",ga_event_label:t,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{inventorytype:e,stock:t,vin:n},track_mp:!0})},zTrackForm:function(e){var t=j$(e).attr("name");ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:ws3ptrk.getParamVal("formId"),ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t},track_mp:!0})},zFormFields:function(){return{$first_name:"seymour_antelope",$last_name:"harpoon_indigestion",$email:"ostrich_farm",phone:"robot_companion"}}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;"undefined"!=typeof asc_datalayer&&"foxdealer"===asc_datalayer.affiliation&&e.events()},events:function(){fdi_getPageType();ws3ptrk.registerUser("foxdealer"),"undefined"!=typeof window.fdi_getPageType&&"vdp"===fdi_getPageType()&&ws3ptrk.trackEvent(e.trackVdp,"vdp"),"undefined"!=typeof window.fdi_getPageType&&"srp"===fdi_getPageType()&&ws3ptrk.trackEvent(e.trackSearch,"srp"),ws3ptrk.checkForUrlString("directions")&&ws3ptrk.trackDirections(),ws3ptrk.setCustProps(e.formFields()),j$(".lead-form-container [type='submit'], .lead-form-container [value='Submit']").click(function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})},trackForm:function(t){var n=j$(t).closest("form");if(0===n.length||0===n.find('input[id*="email"]').length&&0===n.find('input[id*="phone"]').length)return!1;if(void 0===(a=n.data("formtitle"))||!a||0===a.length)var a=n.data("gravity-id");var r="",i="",o="",s="",c="";"undefined"!=typeof window.V?(r=V.make,i=V.model,o=V.year,s=V.vin,c=V.type):void 0!==t.data("form-ref-vin")&&t.data("form-ref-vin").length>0&&(r=t.data("form-ref-make"),i=t.data("form-ref-model"),o=t.data("form-ref-year"),s=t.data("form-ref-vin"),c=t.data("form-ref-type")),ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:a,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:a},track_mp:!0}),s&&s.length&&ws3ptrk.trackFacebookLead(s,r,i,o,ws3ptrk.newOrUsed(c),e.getZip())},trackVdp:function(){if("undefined"==typeof window.V||"undefined"==typeof V.type)return!1;var t=V.type,n="VDP Views "+ws3ptrk.newOrPreowned(t)+" Inventory",a=V.make,r=V.model,i=V.year,o=V.vin,s=V.stock,c=a+" "+r;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(t)+"VDP"),ws3ptrk.pushEvents({ga_event_category:n,ga_event_action:c,ga_event_label:s,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:t,year:i,stock:window.vehicleStock,vin:o},track_mp:!0}),ws3ptrk.trackFacebookVdp(o,a,r,i,ws3ptrk.newOrUsed(t),e.getZip())},trackSearch:function(){var t=[],n=0;"undefined"!=typeof asc_datalayer&&(n=(t=asc_datalayer.items.map(e=>e.item_id)).length);var a="",r=ws3ptrk.getParamVal("year"),i=ws3ptrk.getParamVal("make"),o=ws3ptrk.getParamVal("model"),s=ws3ptrk.getParamVal("type");void 0!==s&&0!==s.length||(s=location.pathname.indexOf("/used")>-1?"used":"new"),r&&(a+=" "+r),i&&(a+=" "+i),o&&(a+=" "+o),0===(a=a.trim()).replace(/ /g,"").length&&void 0!==s&&(a="new"===s?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:a,ga_event_label:n,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:i,model:o,year:r,query:a},track_mp:!0}),ws3ptrk.trackFacebookSrp(t,i,o,r,s,e.getZip())},formFields:function(){return{$first_name:"f_name",$last_name:"l_name",$email:"f_email",phone:"f_tel"}},getZip:function(){window.fdi_dataLayer&&window.fdi_dataLayer.locations.length>0&&window.fdi_dataLayer.locations[0].location__zip}};document.addEventListener("ws3ptrkReady",e.init)}(),function(e){var t={init:function(){if("undefined"==typeof dataLayer)return!1;(j$('a[href*="dealervenom.com"]').length||j$('script[src*="dealervenom.com"]').length)&&t.vendorEvents()},vendorEvents:function(){ws3ptrk.registerUser("dealervenom"),e(document).on("click","input[type='submit']",function(e){ws3ptrk.trackEvent(t.trackForm(e.target),"lead",e.target)}),ws3ptrk.checkForUrlString("-vehicles")&&ws3ptrk.trackEvent(t.trackSearch,"srp"),e(".vdp-content-section").length&&ws3ptrk.trackEvent(t.trackVdp,"vdp"),ws3ptrk.checkForUrlString("contact")&&ws3ptrk.trackDirections()},trackVdp:function(){var t=_atVehicle,n=t.inventoryType,a=t.year,r=t.make,i=t.model,o=t.stock,s=t.vin,c=t.color,p="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",l=r+" "+i;e(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(n)+"VDP"),ws3ptrk.pushEvents({ga_event_category:p,ga_event_action:l,ga_event_label:o,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:r,model:i,inventorytype:n,year:a,stock:o,vin:s,color:c},track_mp:!0})},trackSearch:function(){var t=new URLSearchParams(window.location.search),n=t.get("make"),a=t.get("model"),r=t.get("flags.type"),i=t.get("yr");i&&(r+=" "+i),n&&(r+=" "+n),a&&(r+=" "+a),null!==r&&0!==r.replace(/ /g,"").length||(r=ws3ptrk.checkForUrlString("new")?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:r,ga_event_label:e(".count").text(),ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:n,model:a,year:i,query:r},track_mp:!0})},trackForm:function(t){var n=t.closest("form"),a=(n=e(n).serializeArray()).map(function(e){return[e.name,e.value]});a=Object.fromEntries(a);var r=e("#popup_left_title").text(),i=a.input_7,o=a.input_8,s=a.input_9,c=a.input_11,p=a.input_10;ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:r,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:r,make:o,model:s,year:i,stock:c,vin:p},track_mp:!0}),mixpanel.wsmp.people.set_once({$first_name:a["input_1.3"],$last_name:a["input_1.6"],$email:a.input_2,phone:a.input_3})}};document.addEventListener("ws3ptrkReady",t.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;(j$('a[href*="ebizautos.com"]').length||j$('script[src*="ebizautos.com"]').length)&&e.ebizEvents()},ebizEvents:function(){ws3ptrk.registerUser("ebizautos"),j$(document).on("submit","form",function(t){ws3ptrk.trackEvent(e.ebizTrackForm,"lead",t.currentTarget)});var t=window._commonJSParams.PageType;void 0!==t&&(2===t&&ws3ptrk.trackEvent(e.ebizTrackSearch,"srp"),80===t&&(e.ebizTrackVdp(),ws3ptrk.trackEvent(e.ebizTrackVdp,"vdp")))},ebizTrackSearch:function(){var e=window._trackingParams,t=e.SearchInventoryResult,n=e.InventoryTypeParam,a=e.InventoryYearParam,r=e.InventoryMakeParam,i=e.InventoryModelParam,o="";n&&(o+=n),a&&"no value"!==a&&(o+=" "+a),r&&"no value"!==r&&(o+=" "+r),i&&"no value"!==i&&(o+=" "+i),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:o,ga_event_label:t,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:r,model:i,year:a,query:o},track_mp:!0})},ebizTrackVdp:function(){var e=vehicle.condition,t=vehicle.year,n=vehicle.make,a=vehicle.model,r=vehicle.stock_number,i=vehicle.vin,o=vehicle.color,s="VDP Views "+ws3ptrk.newOrPreowned(e)+" Inventory",c=n+" "+a;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(e)+"VDP"),ws3ptrk.pushEvents({ga_event_category:s,ga_event_action:c,ga_event_label:r,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:n,model:a,inventorytype:e,year:t,stock:r,vin:i,color:o},track_mp:!0})},ebizTrackForm:function(e){var t=j$(e).attr("id");ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:t,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t},track_mp:!0})},ebizFormFields:function(){return{$first_name:"FirstName",$last_name:"LastName",$email:"Email",phone:"Phone"}}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$('script[src*="jazelc"]').length&&e.jazelEvents()},jazelEvents:function(){ws3ptrk.registerUser("jazel");document.getElementById("srp-app").addEventListener("vehicleWasDisplayed",function(e){e.detail.mode,e.detail.vehicle}),"vdp"!=mode||vehicle.vehicleNotFound||ws3ptrk.trackEvent(e.jazelTrackVdp,"vdp",vehicle),j$(".vehicleList").length&&ws3ptrk.trackEvent(e.jazelTrackSearch,"srp",vehicle),j$(".gform_button").click(function(t){ws3ptrk.trackEvent(e.jazelTrackForm,"lead",t.currentTarget)})},jazelTrackForm:function(e){var t=j$(e).closest("form").attr("id");ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:t,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t},track_mp:!0})},jazelTrackVdp:function(){var e=vehicle.condition,t="VDP Views "+ws3ptrk.newOrPreowned(e)+" Inventory",n=vehicle.make+" "+vehicle.model;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(e)+"VDP"),ws3ptrk.pushEvents({ga_event_category:t,ga_event_action:n,ga_event_label:"",ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:vehicle.make,model:vehicle.model,inventorytype:vehicle.condition,year:vehicle.year,stock:vehicle.stock,vin:vehicle.vin,color:vehicle.model},track_mp:!0})},jazelTrackSearch:function(){var t=e.jazelAjaxParamVal("years"),n=e.jazelAjaxParamVal("models"),a=e.jazelAjaxParamVal("text");t&&(a+=" "+t),n&&(a+=" "+n),0===(a=a.trim()).replace(/ /g,"").length&&(a=window.location.href.indexOf("/new-vehicles")>-1?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:a,ga_event_label:"",ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{model:n,year:t,query:a},track_mp:!0})},jazelAjaxParamVal:function(e){var t=window.location.href,n=new RegExp("[/+]"+e+"(=([^+]*)|[+]|$)").exec(t);return n&&n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):""}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$('script[src*="dealerspike"]').length&&(ws3ptrk.registerUser("dealerspike"),e.trackEvents())},trackEvents:function(){j$(document).on("click","#inquiry-form .submitButton",function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)}),j$(".InventoryList").length&&ws3ptrk.trackEvent(e.trackSearch,"srp"),j$(".vdp-media__content").length&&ws3ptrk.trackEvent(e.trackVdp,"vdp"),ws3ptrk.checkForUrlString("directions")&&(ws3ptrk.trackDirections(),ws3ptrk.pushGa4Event("asc_pageview",ws3ptrk.buildGa4Event("asc_pageview",{})))},trackSearch:function(){var t,n=ws3ptrk.getParamVal("year"),a=ws3ptrk.getParamVal("make"),r=ws3ptrk.getParamVal("model"),i=j$(".vehicle_row").length,o=[];j$(".vin .unitValue").each(function(e){o.push(j$(e).text())}),n&&(search+=" "+n),a&&(search+=" "+a),r&&(search+=" "+r),ws3ptrk.checkForUrlString("new")?(search="New Inventory",t="New"):(search="Used Inventory",t="Pre-Owned"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:search,ga_event_label:i,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,model:r,year:n,query:ws3ptrk.getParamVal("sq")},track_mp:!0}),ws3ptrk.trackFacebookSrp(o,a,r,n,t,e.getZip());var s={count:i,vins:o,make:a,model:r,year:n,inventoryType:t};ws3ptrk.pushGa4Event("view_item_list",ws3ptrk.buildGa4Event("view_item_list",s)),ws3ptrk.pushGa4Event("asc_itemlist_pageview",ws3ptrk.buildGa4Event("asc_itemlist_pageview",s))},trackVdp:function(){if(window.vehicle)var t=vehicle.condition,n=vehicle.year,a=vehicle.make,r=vehicle.model,i=vehicle.stockno,o=j$(".unitHighlights li.liUnit.LiInvVIN span").text();else t=j$(".LiInvcondition .spnUnitValue").first().text()||window.utag_data.product_condition,n=j$(".LiInvyear .spnUnitValue").first().text()||window.utag_data.product_year,a=j$(".LiInvmake .spnUnitValue").first().text()||window.utag_data.product_make,r=j$(".LiInvmodel .spnUnitValue").first().text()||window.utag_data.product_model,i=j$(".LiInvstock-number .spnUnitValue").first().text(),o=j$(".LiInvvin .spnUnitValue").first().text();var s=ws3ptrk.newOrUsed(t),c="VDP Views "+ws3ptrk.newOrPreowned(t)+" Inventory",p=a+" "+r;j$(document).trigger("ws3ptrk"+s+"VDP"),ws3ptrk.pushEvents({ga_event_category:c,ga_event_action:p,ga_event_label:i,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:s,year:n,stock:i,vin:o},track_mp:!0}),ws3ptrk.trackFacebookVdp(o,a,r,n,ws3ptrk.newOrUsed(t),e.getZip());var l={vin:o,make:a,model:r,year:n,inventoryType:s,stock:i};ws3ptrk.pushGa4Event("view_item",ws3ptrk.buildGa4Event("view_item",l)),ws3ptrk.pushGa4Event("asc_item_pageview",ws3ptrk.buildGa4Event("asc_item_pageview",l))},trackForm:function(t){var n=j$(t).closest("form"),a=j$(".modal-title").text(),r=n.find("input[name=veh_condition]").val(),i=n.find("input[name=year]").val(),o=n.find("input[name=make]").val(),s=n.find("input[name=model]").val(),c=n.find("input[name=stockno]").val(),p=j$(".unitHighlights li.liUnit.LiInvVIN span").text();ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:a,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:a,make:o,model:s,inventorytype:r,year:i,stock:c,vin:p},track_mp:!0}),void 0!==r&&(r=ws3ptrk.newOrUsed(r)),p&&ws3ptrk.trackFacebookLead(p,o,s,i,r,e.getZip());var l={formName:a,make:o,model:s,inventoryType:r,year:i,stock:c,vin:p};ws3ptrk.pushGa4Event("asc_form_submission",ws3ptrk.buildGa4Event("asc_form_submission",l))},getZip:function(){return window.wsTrackingPixels&&window.wsTrackingPixels.zip_code?window.wsTrackingPixels.zip_code:$(".postal-code").text()}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;"undefined"!=typeof ddsVars&&e.dominionEvents()},dominionEvents:function(){ws3ptrk.registerUser("dominiondealersolutions"),j$('form[name="vdpFrm"]').submit(function(t){ws3ptrk.trackEvent(e.dominionTrackForm,"lead",t.currentTarget)}),ws3ptrk.checkForUrlString("inventory")&&!1===ws3ptrk.checkForUrlString("detail")&&ws3ptrk.trackEvent(e.dominionTrackSearch,"srp"),ws3ptrk.checkForUrlString("inventory-details")&&ws3ptrk.trackEvent(e.dominionTrackVdp,"vdp"),ws3ptrk.checkForUrlString("hours-and-directions")&&ws3ptrk.trackDirections()},dominionTrackVdp:function(){var e=ddsVars.vehicle.stockType,t=ddsVars.vehicle.year,n=ddsVars.vehicle.make,a=ddsVars.vehicle.model,r=ddsVars.vehicle.stockNumber,i=ddsVars.vehicle.vin,o=j$("td.vdp-details-extcolorname.dds-cfs-colorexterior")[0].innerHTML,s="VDP Views "+ws3ptrk.newOrPreowned(e)+" Inventory",c=n+" "+a;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(e)+"VDP"),ws3ptrk.pushEvents({ga_event_category:s,ga_event_action:c,ga_event_label:r,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:n,model:a,inventorytype:e,year:t,stock:r,vin:i,color:o},track_mp:!0})},dominionTrackSearch:function(){var e=ws3ptrk.getParamVal("search"),t=ws3ptrk.getParamVal("Year"),n=ws3ptrk.getParamVal("Model"),a=ws3ptrk.getParamVal("Make");t&&(e+=" "+t),a&&(e+=" "+a),n&&(e+=" "+n),e!==undefined&&0!==e.replace(/ /g,"").length||(e=ws3ptrk.checkForUrlString("new")?"New Inventory":"Used Inventory");var r=j$("#dds-cfs-InventoryListing-StockTypeFilters").find(".dds-cfs-InventoryListing-CheckBox").text().trim();if(r.length>0)var i=r.match(/(\d+)/)[0];else i=0;ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:e,ga_event_label:i,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,model:n,year:t,query:e},track_mp:!0})},dominionTrackForm:function(e){var t=j$(e).closest("form").attr("name"),n=ddsVars.vehicle.stockType,a=ddsVars.vehicle.year,r=ddsVars.vehicle.make,i=ddsVars.vehicle.model,o=ddsVars.vehicle.stockNumber,s=ddsVars.vehicle.vin;ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:t,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:t,make:r,model:i,inventorytype:n,year:a,stock:o,vin:s},track_mp:!0})},dominionFormFields:function(){return{$first_name:"DDS_FirstName",$last_name:"DDS_LastName",$email:"DDS_SenderEmail",phone:"DDS_PhoneNumber"}}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;(j$('script[src*="analytics/dealerfire"]').length||j$("a[href*='dealerfire.com']").length||j$('script[src*="cdn-ds"]').length)&&e.dealerFireEvents()},dealerFireEvents:function(){ws3ptrk.registerUser("dealerfire"),"undefined"!=typeof window.gaObjects&&("undefined"!=typeof window.gaObjects.VehicleListArray&&"undefined"!=typeof window.gaObjects.FilterObject&&ws3ptrk.trackEvent(e.dealerFireTrackSearch,"srp"),"undefined"!=typeof window.gaObjects.VehicleObject&&ws3ptrk.trackEvent(e.dealerFireTrackVdp,"vdp")),"undefined"==typeof window.gaObjects&&(window.location.pathname.includes("vehicle-details")&&ws3ptrk.trackEvent(e.dealerFireTrackManuallyVdp,"vdp"),window.location.pathname.includes("new-")&&ws3ptrk.trackEvent(e.dealerFireTrackManuallyNewSearch,"srp"),window.location.pathname.includes("used-")&&ws3ptrk.trackEvent(e.dealerFireTrackManuallyUsedSearch,"srp")),ws3ptrk.checkForUrlString("contact-")&&(ws3ptrk.trackDirections(),ws3ptrk.pushGa4Event("asc_pageview",ws3ptrk.buildGa4Event("asc_pageview",{}))),j$("form[action*='form-action'] [type='submit'], form.js-form [type='submit']").click(function(t){ws3ptrk.trackEvent(e.dealerFireTrackForm,"lead",t.currentTarget)}),j$(".popup-overlay").click(function(){setTimeout(function(){j$(".blockUI").find("iframe").contents().find("form[action*='form-action']").submit(function(t){ws3ptrk.trackEvent(e.dealerFireTrackForm,"lead",t.currentTarget)})},6e3)})},dealerFireTrackVdp:function(){var t=window.gaObjects.VehicleObject,n="1"===t.NewUsed?"New":"Pre-Owned",a=t.Make,r=t.Model,i=t.Year,o=t.VIN,s=t.StockNumber,c="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",p=a+" "+r;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(n)+"VDP"),ws3ptrk.pushEvents({ga_event_category:c,ga_event_action:p,ga_event_label:"",ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:ws3ptrk.newOrUsed(n),year:i,vin:o,stock:s},track_mp:!0}),ws3ptrk.trackFacebookVdp(o,a,r,i,ws3ptrk.newOrUsed(n),e.getZip());var l={vin:o,make:a,model:r,year:i,inventoryType:n,stock:s};ws3ptrk.pushGa4Event("view_item",ws3ptrk.buildGa4Event("view_item",l)),ws3ptrk.pushGa4Event("asc_item_pageview",ws3ptrk.buildGa4Event("asc_item_pageview",l))},dealerFireTrackManuallyVdp:function(){var t="New"===j$(".vehicle-info-item__label:contains(Type:)").first().siblings().first().text()?"New":"Pre-Owned",n=j$(".vehicle-info-item__label:contains(Make:)").first().siblings().first().text(),a=j$(".vehicle-info-item__label:contains(Model:)").first().siblings().first().text(),r=j$(".vehicle-info-item__label:contains(Year:)").first().siblings().first().text(),i=j$(".vehicle-info-item__label:contains(VIN:)").first().siblings().first().text(),o=j$(".vehicle-info-item__label:contains(Stock:)").first().siblings().first().text(),s="VDP Views "+ws3ptrk.newOrPreowned(t)+" Inventory",c=n+" "+a;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(t)+"VDP"),ws3ptrk.pushEvents({ga_event_category:s,ga_event_action:c,ga_event_label:"",ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:n,model:a,inventorytype:ws3ptrk.newOrUsed(t),year:r,vin:i,stock:o},track_mp:!0}),ws3ptrk.trackFacebookVdp(i,n,a,r,ws3ptrk.newOrUsed(t),e.getZip());var p={vin:i,make:n,model:a,year:r,inventoryType:t,stock:o};ws3ptrk.pushGa4Event("view_item",ws3ptrk.buildGa4Event("view_item",p)),ws3ptrk.pushGa4Event("asc_item_pageview",ws3ptrk.buildGa4Event("asc_item_pageview",p))},dealerFireTrackSearch:function(){var t=window.daObjects.FilterObject,n=1===t.IsNew?"New":"Pre-Owned",a=t.YearFrom,r=t.Make,i=t.Model,o=j$(".total-found").text().match(/\d+/)[0],s="",c=[];if(gaObjects){var p=gaObjects.vehicleListGaObjects;c=Object.values(p).map(function(e){return e.VIN})}n&&(s+=" "+n),a&&(s+=" "+a),r&&(s+=" "+r),i&&(s+=" "+i),s=void 0===s?"":s.trim(),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:s,ga_event_label:o,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:r,model:i,year:a,query:s},track_mp:!0}),ws3ptrk.trackFacebookSrp(c,r,i,a,n,e.getZip());var l={count:o,vins:c,make:r,model:i,year:a,inventoryType:n};ws3ptrk.pushGa4Event("view_item_list",ws3ptrk.buildGa4Event("view_item_list",l)),ws3ptrk.pushGa4Event("asc_itemlist_pageview",ws3ptrk.buildGa4Event("asc_itemlist_pageview",l))},dealerFireTrackManuallyNewSearch:function(){var t="New",n="",a="",r="";j$(".searchbox-tags_item").each(function(){if("year"===j$(this).data("field")){j$(this).data("value").length&&(n=j$(this).data("value").match(/\d+/)[0])}"make"===j$(this).data("field")&&(a=j$(this).data("value")),"model"===j$(this).data("field")&&(r=j$(this).data("value"))});var i=j$(".inventory-heading__count").text().match(/\d+/)[0],o="",s=[];j$(".vehicle-highlights__additional-label:contains(VIN)").siblings().each(function(e,t){s.push(t.textContent)}),t&&(o+=" "+t),n&&(o+=" "+n),a&&(o+=" "+a),r&&(o+=" "+r),o=void 0===o?"":o.trim(),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:o,ga_event_label:i,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,model:r,year:n,query:o},track_mp:!0}),ws3ptrk.trackFacebookSrp(s,a,r,n,t,e.getZip());var c={count:i,vins:s,make:a,model:r,year:n,inventoryType:t};ws3ptrk.pushGa4Event("view_item_list",ws3ptrk.buildGa4Event("view_item_list",c)),ws3ptrk.pushGa4Event("asc_itemlist_pageview",ws3ptrk.buildGa4Event("asc_itemlist_pageview",c))},dealerFireTrackManuallyUsedSearch:function(){var t="Pre-Owned",n="",a="",r="";j$(".searchbox-tags_item").each(function(){if("year"===j$(this).data("field")){j$(this).data("value").length&&(n=j$(this).data("value").match(/\d+/)[0])}"make"===j$(this).data("field")&&(a=j$(this).data("value")),"model"===j$(this).data("field")&&(r=j$(this).data("value"))});var i=j$(".inventory-heading__count").text().match(/\d+/)[0],o="",s=[];t&&(o+=" "+t),n&&(o+=" "+n),a&&(o+=" "+a),r&&(o+=" "+r),o=void 0===o?"":o.trim(),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:o,ga_event_label:i,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,model:r,year:n,query:o},track_mp:!0}),ws3ptrk.trackFacebookSrp(s,a,r,n,t,e.getZip());var c={count:i,vins:s,make:a,model:r,year:n,inventoryType:t};ws3ptrk.pushGa4Event("view_item_list",ws3ptrk.buildGa4Event("view_item_list",c)),ws3ptrk.pushGa4Event("asc_itemlist_pageview",ws3ptrk.buildGa4Event("asc_itemlist_pageview",c))},dealerFireTrackForm:function(t){var n=j$(t).attr("id");ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:n,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:n},track_mp:!0});var a={formName:n,make:"",model:"",inventoryType:"",year:"",stock:"",vin:""};ws3ptrk.pushGa4Event("asc_form_submission",ws3ptrk.buildGa4Event("asc_form_submission",a)),vin&&vin.length&&ws3ptrk.trackFacebookLead(vin,make,model,year,ws3ptrk.newOrUsed(type),e.getZip())},dealerFireFormFields:function(){return{$first_name:"full_name",$last_name:"full_name",$email:"email",phone:"phone"}},getZip:function(){return $("location-state").length?$(".location-state").find("span").text():""}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;/volaloans.com/.test(window.location.href)&&e.volaEvents()},volaEvents:function(){ws3ptrk.registerUser("vola_loans"),j$("form").submit(function(t){ws3ptrk.trackEvent(e.volaTrackForm,"lead",t.currentTarget)})},volaTrackForm:function(e){var t=j$(e).closest("form").attr("id"),n="Lead Form Submissions";"newsletter_form"==t&&(n="Newsletter Signup"),ws3ptrk.pushEvents({ga_event_category:n,ga_event_action:"Form Submit",ga_event_label:t,ga_event_value:10,
mp_event_name:"Form Submission",mp_event_props:{form_title:t},track_mp:!0})},volaFormFields:function(){return{$first_name:"MERGE1",$email:"EMAIL"}}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$('script[src*="dealeron.js"]').length&&e.dealerOnEvents()},dealerOnEvents:function(){if(ws3ptrk.registerUser("dealeron"),"undefined"==typeof window.vehicleVin){var t=$(".vehicle-identifiers__item--vin > .vehicle-identifiers__value").text();t&&(window.vehicleVin=t)}"undefined"!=typeof window.vehicleVin&&window.vehicleVin.length?ws3ptrk.trackEvent(e.dealerOnTrackVdp,"vdp"):$(".vdp[data-vin]").length&&$(".vdp[data-vin]").eq(0).data("vin").length&&ws3ptrk.trackEvent(e.dealerOnTrackVdp,"vdp"),ws3ptrk.checkForUrlString("search")&&ws3ptrk.trackEvent(e.dealerOnTrackSearch,"srp"),ws3ptrk.checkForUrlString("hours")&&ws3ptrk.trackDirections(),ws3ptrk.setCustProps(e.dealerOnFormFields()),j$("[type$='submit'], [name$='submit'], [value$='submit' i]").click(function(t){ws3ptrk.trackEvent(e.dealerOnTrackForm,"lead",t.currentTarget,!1)})},dealerOnTrackForm:function(t){var n=j$(t).closest("form");if(0===n.length||0===n.find('input[name*="Name"]').length)return!1;j$(document).trigger("ws3ptrkLEAD");if(void 0===(a=n.attr("name"))||!a||0===a.length)var a=n.attr("id");var r=n.find("[id*=Make]").text(),i=n.find("[id*=Model]").text(),o=n.find("[id*=Year]").text(),s=n.find("[id*=Vin]").text(),c=n.find("[id*=Type]").text();ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:a,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:a},track_mp:!0}),s&&s.length&&ws3ptrk.trackFacebookLead(s,r,i,o,ws3ptrk.newOrUsed(c),e.getZip())},dealerOnTrackVdp:function(){if("undefined"==typeof window.vehicleType||0===window.vehicleType.length)return!1;if("undefined"!=typeof window.vehicleVin&&window.vehicleVin.length)var t=window.vehicleVin;else if($(".vdp[data-vin]").length&&$(".vdp[data-vin]").eq(0).data("vin"))t=$(".vdp[data-vin]").eq(0).data("vin");var n=window.vehicleType,a="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",r=window.vehicleMake,i=window.vehicleModel||j$(".vdp").data("model"),o=window.vehicleYear,s=r+" "+i;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(n)+"VDP"),ws3ptrk.pushEvents({ga_event_category:a,ga_event_action:s,ga_event_label:"",ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:r,model:i,inventorytype:n,year:o,stock:window.vehicleStock,vin:t},track_mp:!0}),ws3ptrk.trackFacebookVdp(t,r,i,o,ws3ptrk.newOrUsed(n),e.getZip())},dealerOnTrackSearch:function(){var t="",n=ws3ptrk.getParamVal("Year"),a=ws3ptrk.getParamVal("Make"),r=ws3ptrk.getParamVal("Model"),i=window.vehicleType,o=[];j$(".vinDisplay").each(function(){vin=j$(this).find("span").text(),o.push(vin)}),n&&(t+=" "+n),a&&(t+=" "+a),r&&(t+=" "+r),0===(t=t.trim()).replace(/ /g,"").length&&void 0!==i&&(t="new"===i?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:t,ga_event_label:j$(".srpVehicle").length,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,model:r,year:n,query:t},track_mp:!0}),ws3ptrk.trackFacebookSrp(o,a,r,n,i,e.getZip())},dealerOnFormFields:function(){return{$first_name:"FirstName",$last_name:"LastName",$email:"Email",phone:"Phone"}},getZip:function(){$(".copyrightDealerZip").text()}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$('script[src*="published-assets.ari-build"]').length>0&&e.events()},events:function(){ws3ptrk.registerUser("ari"),ws3ptrk.checkForUrlString("/search/inventory")&&ws3ptrk.trackEvent(e.trackSearch,"srp"),j$(".vdp-body-container").length>0&&setTimeout(function(){ws3ptrk.trackEvent(e.trackVdp,"vdp")},2e3),ws3ptrk.checkForUrlString("locations")&&(ws3ptrk.trackDirections(),ws3ptrk.pushGa4Event("asc_pageview",ws3ptrk.buildGa4Event("asc_pageview",{}))),j$(".alpaca-form [type='submit']").click(function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})},trackForm:function(t){var n=j$(t).closest("form");if(formData=n.find(".datasource"),formData.length>0)var a=JSON.parse(formData.text()),r=a.usageStatus,i=a.itemYear,o=a.itemMake,s=a.itemModel,c=a.itemYear,p=a.itemVin,l=a.itemColor;var d=n.find(".modal-title").text();ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:d,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:d,make:o,model:s,inventorytype:r,year:i,stock:c,vin:p,color:l},track_mp:!0}),ws3ptrk.trackFacebookLead(p,o,s,i,ws3ptrk.newOrUsed(r),e.getZip());var m={formName:d,make:o,model:s,inventoryType:r,year:i,stock:c,vin:p};ws3ptrk.pushGa4Event("asc_form_submission",ws3ptrk.buildGa4Event("asc_form_submission",m))},trackSearch:function(){var t=ws3ptrk.getPathVal("year"),n=ws3ptrk.getPathVal("query"),a=ws3ptrk.getPathVal("brand"),r=ws3ptrk.getPathVal("usage"),i=[];j$('.search-result td:contains("Vin")').each(function(){vin=j$(this).siblings("td").text().trim(),vin&&vin.length&&i.push(vin)}),t&&(n+=" "+t),a&&(n+=" "+a),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:n,ga_event_label:j$(".vehicle-count").text(),ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:a,year:t,query:n},track_mp:!0}),ws3ptrk.trackFacebookSrp(i,a,"",t,r,e.getZip());var o={count:"",vins:i,make:a,model:"",year:t,inventoryType:r};ws3ptrk.pushGa4Event("view_item_list",ws3ptrk.buildGa4Event("view_item_list",o)),ws3ptrk.pushGa4Event("asc_itemlist_pageview",ws3ptrk.buildGa4Event("asc_itemlist_pageview",o))},trackVdp:function(){if(0===j$(".vdp-body-container .datasource").length)return!1;var t=j$(".vdp-body-container .datasource").eq(0),n=(t=JSON.parse(t.text())).usageStatus,a=t.itemYear,r=t.itemMake,i=t.itemModel,o=t.itemYear,s=t.itemVin||t.vin,c=t.itemColor,p="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",l=r+" "+i;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(n)+"VDP"),ws3ptrk.pushEvents({ga_event_category:p,ga_event_action:l,ga_event_label:o,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:r,model:i,inventorytype:n,year:a,stock:o,vin:s,color:c},track_mp:!0}),void 0!==n&&(n=ws3ptrk.newOrUsed(n)),ws3ptrk.trackFacebookVdp(s,r,i,a,n,e.getZip());var d={vin:s,make:r,model:i,year:a,inventoryType:n,stock:o};ws3ptrk.pushGa4Event("view_item",ws3ptrk.buildGa4Event("view_item",d)),ws3ptrk.pushGa4Event("asc_item_pageview",ws3ptrk.buildGa4Event("asc_item_pageview",d))},formFields:function(){return{$first_name:"contact:name:first",$last_name:"contact:name:last",$email:"contact:email",phone:"contact:phone:phone:day"}},getZip:function(){return window.wsTrackingPixels&&window.wsTrackingPixels.zip_code?window.wsTrackingPixels.zip_code:j$(".postalCode").length>0?j$(".postalCode").eq(0).text():""}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;j$('script[src*="cdn.dx1app.com"]').length>0&&e.dx1Events()},dx1Events:function(){ws3ptrk.registerUser("dx1"),null!==window.document.getElementById("ModelDetails")?ws3ptrk.trackEvent(e.trackVdp,"vdp"):window.location.pathname.includes("All-Inventory-In-Stock")&&ws3ptrk.trackEvent(e.trackSrp,"srp"),ws3ptrk.checkForUrlString("Contact")&&(ws3ptrk.trackDirections(),ws3ptrk.pushGa4Event("asc_pageview",ws3ptrk.buildGa4Event("asc_pageview",{}))),$("form .form-control [type='submit']").click(function(t){e.trackForm(t.currentTarget)})},trackVdp:function(){var t=$("#ModelName").text().split(" "),n=$(".detail-condition .spec-info").text().trim(),a=t[1],r=t[2]+" "+t[3],i=t[0],o=$(".detail-vin .spec-info").text().trim(),s=$(".detail-stock-number .spec-info").text().trim(),c="VDP Views "+ws3ptrk.newOrPreowned(n)+" Inventory",p=a+" "+r;$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(n)+"VDP"),ws3ptrk.pushEvents({ga_event_category:c,ga_event_action:p,ga_event_label:"",ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:ws3ptrk.newOrUsed(n),year:i,vin:o,stock:s},track_mp:!0}),ws3ptrk.trackFacebookVdp(o,a,r,i,ws3ptrk.newOrUsed(n),e.getZip());var l={vin:o,make:a,model:r,year:i,inventoryType:n,stock:s};ws3ptrk.pushGa4Event("view_item",ws3ptrk.buildGa4Event("view_item",l)),ws3ptrk.pushGa4Event("asc_item_pageview",ws3ptrk.buildGa4Event("asc_item_pageview",l))},trackSrp:function(){for(var t=window.olCtaPlatform.assetWrappers,n="",a=(t.length,[]),r=[],i=[],o=[],s=0;s<t.length;s++){var c=t[s]._asset,p=c&&c.vin?c.vin:"",l=c&&c.make?c.make:"",d=c&&c.model?c.model:"",m=c&&c.year?c.year:"";n=c&&c.condition?c.condition:"";a.push(p),r.push(l),i.push(d),o.push(m),t[s].container.addEventListener("click",function(){var t="";n&&(t+=" "+n),m&&(t+=" "+m),l&&(t+=" "+l),d&&(t+=" "+d),t=t.trim(),ws3ptrk.pushEvents({ga_event_category:"Search Results Page Vehicle Click",ga_event_action:t,ga_event_label:p,ga_event_value:3,mp_event_name:"Search Results Page Vehicle Click",mp_event_props:{make:l,model:d,year:m,query:t},track_mp:!0}),ws3ptrk.trackFacebookSrp([p],l,d,m,n,e.getZip());var a={vin:p,make:l,model:d,year:m,inventoryType:n};ws3ptrk.pushGa4Event("view_item_list",ws3ptrk.buildGa4Event("view_item_list",a)),ws3ptrk.pushGa4Event("asc_itemlist_pageview",ws3ptrk.buildGa4Event("asc_itemlist_pageview",a))})}},trackForm:function(e){var t=$(e).attr("id"),n=$("script[data-dx1-viewform-options]");if(n.length){var a=n.html().trim(),r=JSON.parse(a),i=r.formTitle,o=r.productId,s=r.category,c=r.type,p=r.manufacturer,l=r.year,d=r.currentPrice,m=r.modelDisplayName;ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:t,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:i,product_id:o,category:s,type:c,manufacturer:p,year:l,current_price:d,model_display_name:m},track_mp:!0});var v={formName:i,make:p,model:m,inventoryType:c,year:l,stock:"",vin:o};ws3ptrk.pushGa4Event("asc_form_submission",ws3ptrk.buildGa4Event("asc_form_submission",v))}else console.warn("Script element with data-dx1-viewform-options not found.")},getZip:function(){return $("span.address-city-state-zip").length?$("span.address-city-state-zip").text().split(" ").slice(-1)[0]:""}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;(j$('script[src*="assets-cdk.com"]').length>0||j$('script[src*="assets.sincrod.com"]').length>0)&&(ws3ptrk.registerUser("cdk"),e.cdkEvents())},cdkEvents:function(){ws3ptrk.checkForUrlString("VehicleSearchResults")&&ws3ptrk.trackEvent(e.cdkTrackSearch,"srp"),ws3ptrk.checkForUrlString("VehicleDetails")&&ws3ptrk.trackEvent(e.cdkTrackVdp,"vdp"),(ws3ptrk.checkForUrlString("HoursAndDirections")||ws3ptrk.checkForUrlString("directions"))&&ws3ptrk.trackDirections(),j$(document).on("click","[data-action='formSubmit']","[value='Submit']",function(t){ws3ptrk.trackEvent(e.cdkTrackForm,"lead",t.currentTarget)})},cdkTrackForm:function(t){var n=j$(t).closest("form"),a=n.attr("name"),r=n.find(j$("input[name='vehicle_status']")).val(),i=n.find(j$("input[name='vehicle:buy:year']")).val(),o=n.find(j$("input[name='vehicle:buy:make']")).val(),s=n.find(j$("input[name='vehicle:buy:model']")).val(),c=n.find(j$("input[name='vehicle:buy:stock']")).val(),p=n.find(j$("input[name='vehicle:buy:vin']")).val(),l=n.find(j$("input[name='vehicle:buy:colorcombination:exteriorcolor']")).val();ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:a,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:a,make:o,model:s,inventorytype:r,year:i,stock:c,vin:p,color:l},track_mp:!0}),ws3ptrk.trackFacebookLead(p,o,s,i,ws3ptrk.newOrUsed(r),e.getZip())},cdkTrackSearch:function(){var t=ws3ptrk.getParamVal("year"),n=ws3ptrk.getParamVal("search"),a=ws3ptrk.getParamVal("model"),r=ws3ptrk.getParamVal("make"),i="";n&&-1!==n.indexOf("new")?i="New":n&&-1!==n.indexOf("preowned")&&(i="Used");var o=[];j$("a").each(function(){vin=j$(this).attr("data-vin"),vin&&vin.length&&o.push(vin)}),t&&(n+=" "+t),r&&(n+=" "+r),a&&(n+=" "+a),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:n,ga_event_label:j$(".vehicle-count").text(),ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:r,model:a,year:t,query:n},track_mp:!0}),ws3ptrk.trackFacebookSrp(o,r,a,t,i,e.getZip())},cdkTrackVdp:function(){if("undefined"==typeof window.ContextManager)return!1;var t=ContextManager.vehicle.category,n="VDP Views "+ws3ptrk.newOrPreowned(t)+" Inventory",a=ContextManager.vehicle.make,r=ContextManager.vehicle.model,i=ContextManager.vehicle.year,o=ContextManager.vehicle.stock,s=ContextManager.vehicle.vin||digitalData.vehicles.VIN,c=ContextManager.color,p=a+" "+r;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(t)+"VDP"),ws3ptrk.pushEvents({ga_event_category:n,ga_event_action:p,ga_event_label:o,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:t,year:i,stock:o,vin:s,color:c},track_mp:!0}),void 0!==t&&(t=ws3ptrk.newOrUsed(t)),ws3ptrk.trackFacebookVdp(s,a,r,i,t,e.getZip())},cdkFormFields:function(){return{$first_name:"contact:name:first",$last_name:"contact:name:last",$email:"contact:email",phone:"contact:phone:phone:day"}},getZip:function(){return j$('[itemprop="postalCode"]').length?j$('[itemprop="postalCode"]').eq(0).text():""}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;"undefined"!=typeof asc_datalayer&&"team_velocity"===asc_datalayer.affiliation&&e.events()},events:function(){ws3ptrk.registerUser("teamvelocity"),"undefined"!=typeof window.vehicleType&&window.vehicleType.length&&ws3ptrk.trackEvent(e.trackVdp,"vdp"),ws3ptrk.checkForUrlString("inventory")&&ws3ptrk.trackEvent(e.trackSearch,"srp"),ws3ptrk.checkForUrlString("get-directions")&&ws3ptrk.trackDirections(),j$("a.check-availability").click(function(){setTimeout(function(){j$(".lead-form-block [type='submit']").click(function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})},1e3)}),j$('.inventory-vdp-btn:contains("Contact Us")').click(function(){setTimeout(function(){j$(".lead-form-block [type='submit']").click(function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})},1e3)}),j$(".request-a-quote-vehicle").click(function(){setTimeout(function(){j$('.request-form input[type="submit"]').click(function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})},1e3)}),j$(".bonus-offer").click(function(){setTimeout(function(){j$('.bonusofferleadform input[type="submit"]').click(function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})},1e3)}),j$('.inventory-vdp-btn:contains("Trade Value")').click(function(){setTimeout(function(){j$('.valuetradeform input[type="submit"]').click(function(t){ws3ptrk.trackEvent(e.trackForm,"lead",t.currentTarget)})},1e3)})},trackForm:function(t){var n=j$(t.currentTarget).attr("value");n&&n.length||(n=j$("._theme_leadform_heading").text());var a=window.vehicleType,r=window.make,i=window.model,o=window.year,s=window.vin,c=window.stockNumber;ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:n,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:n,make:r,model:i,inventorytype:a,year:o,stock:c,vin:s},track_mp:!0}),s&&s.length&&ws3ptrk.trackFacebookLead(s,r,i,o,ws3ptrk.newOrUsed(a),e.getZip())},trackVdp:function(){if(window.vehicleType&&window.vehicleType.length){var t=window.vehicleType,n="VDP Views "+ws3ptrk.newOrPreowned(t)+" Inventory",a=window.make,r=window.model,i=window.year,o=window.vin,s=window.stockNumber,c=a+" "+r;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(t)+"VDP"),ws3ptrk.pushEvents({ga_event_category:n,ga_event_action:c,ga_event_label:s,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:a,model:r,inventorytype:t,year:i,stock:s,vin:o},track_mp:!0}),ws3ptrk.trackFacebookVdp(o,a,r,i,ws3ptrk.newOrUsed(t),e.getZip())}},trackSearch:function(){var t=[],n=0;"undefined"!=typeof asc_datalayer&&(n=(t=asc_datalayer.items.map(e=>e.item_id)).length);var a="",r=ws3ptrk.getParamVal("years"),i=ws3ptrk.getParamVal("make"),o=ws3ptrk.getParamVal("model"),s=ws3ptrk.getParamVal("type");void 0!==s&&0!==s.length||(s=location.pathname.indexOf("/used")>-1?"used":"new"),r&&(a+=" "+r),i&&(a+=" "+i),o&&(a+=" "+o),0===(a=a.trim()).replace(/ /g,"").length&&void 0!==s&&(a="new"===s?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:a,ga_event_label:n,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:i,model:o,year:r,query:a},track_mp:!0}),ws3ptrk.trackFacebookSrp(t,i,o,r,s,e.getZip())},getZip:function(){return window.zip}};document.addEventListener("ws3ptrkReady",e.init)}(),function(){var e={init:function(){if("undefined"==typeof dataLayer)return!1;(j$('a[href*="fzautomotive.com"]').length||j$('script[src*="fzauto"]').length)&&e.fzEvents()},fzEvents:function(){ws3ptrk.registerUser("fusionzone"),j$("button[onclick*='openModalBestPrice']").click(function(){setTimeout(function(){j$("a[onclick='validateForm();']").click(function(t){ws3ptrk.trackEvent(e.fzTrackForm,"lead",t.currentTarget)})},1e3)}),ws3ptrk.checkForUrlString("inventory")&&ws3ptrk.trackEvent(e.fzTrackSearch,"srp"),fzDataLayer.vehicle.year.length&&ws3ptrk.trackEvent(e.fzTrackVdp,"vdp"),"/directions"===window.location.pathname&&ws3ptrk.trackDirections()},fzTrackSearch:function(){var e=ws3ptrk.getParamVal("year"),t=ws3ptrk.getParamVal("make"),n=ws3ptrk.getParamVal("type"),a=ws3ptrk.getParamVal("model"),r=j$(".srp-selected > span").text().match(/\d+/)[0];e&&(n+=" "+e),t&&(n+=" "+t),a&&(n+=" "+a),n!==undefined&&0!==n.replace(/ /g,"").length||(n=ws3ptrk.checkForUrlString("new")?"New Inventory":"Used Inventory"),ws3ptrk.pushEvents({ga_event_category:"Search Results Page View",ga_event_action:n,ga_event_label:r,ga_event_value:3,mp_event_name:"Search Results Page View",mp_event_props:{make:t,model:a,year:e,query:ws3ptrk.getParamVal("keyword")},track_mp:!0})},fzTrackVdp:function(){var e=fzDataLayer.vehicle.type,t=fzDataLayer.vehicle.year,n=fzDataLayer.vehicle.make,a=fzDataLayer.vehicle.model,r=fzDataLayer.vehicle.stock,i=fzDataLayer.vehicle.vin,o=fzDataLayer.vehicle.extcolor,s="VDP Views "+ws3ptrk.newOrPreowned(e)+" Inventory",c=n+" "+a;j$(document).trigger("ws3ptrk"+ws3ptrk.newOrUsed(e)+"VDP"),ws3ptrk.pushEvents({ga_event_category:s,ga_event_action:c,ga_event_label:r,ga_event_value:5,mp_event_name:"Vehicle Detail Page View",mp_event_props:{make:n,model:a,inventorytype:e,year:t,stock:r,vin:i,color:o},track_mp:!0})},fzTrackForm:function(e){var t=j$(e).closest("form"),n=t.find("input[name='form_name']").val();if("object"==typeof fzDataLayer.vehicle)var a=fzDataLayer.vehicle.type,r=fzDataLayer.vehicle.year,i=fzDataLayer.vehicle.make,o=fzDataLayer.vehicle.model,s=fzDataLayer.vehicle.stock,c=fzDataLayer.vehicle.vin,p=fzDataLayer.vehicle.extcolor;else{var l=t.parent().siblings(".large-6");a=t.find("input[name='type']").val(),r=t.parent().siblings(".large-6").find(".bestprice-vehicletitle > h2").text().match(/\d{4}/)[0],i=t.find("input[name='make']").val(),o=t.find("input[name='model']").val(),s=l.find("span:contains('Stock:')").parent()[0].lastChild.innerText,c=t.find("input[name='vin']").val(),p=l.find("span:contains('Ext. Color:')").parent()[0].lastChild.nodeValue.trim()}ws3ptrk.pushEvents({ga_event_category:"Lead Form Submissions",ga_event_action:n,ga_event_label:"",ga_event_value:10,mp_event_name:"Form Submission",mp_event_props:{form_title:n,make:i,model:o,inventorytype:a,year:r,stock:s,vin:c,color:p},track_mp:!0})},fzFormFields:function(){return{$first_name:"customer_firstname",$last_name:"customer_lastname",$email:"customer_email",phone:"customer_phone"}}};document.addEventListener("ws3ptrkReady",e.init)}();